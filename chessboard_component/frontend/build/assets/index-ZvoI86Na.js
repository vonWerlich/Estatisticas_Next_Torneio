(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=t(l);fetch(l.href,u)}})();function Lm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Bf={exports:{}},Jo={},Mf={exports:{}},Ne={};var Ry;function z_(){if(Ry)return Ne;Ry=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function I(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,L={};function J(k,R,le){this.props=k,this.context=R,this.refs=L,this.updater=le||A}J.prototype.isReactComponent={},J.prototype.setState=function(k,R){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,R,"setState")},J.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function fe(){}fe.prototype=J.prototype;function Ee(k,R,le){this.props=k,this.context=R,this.refs=L,this.updater=le||A}var ae=Ee.prototype=new fe;ae.constructor=Ee,M(ae,J.prototype),ae.isPureReactComponent=!0;var Te=Array.isArray,P=Object.prototype.hasOwnProperty,K={current:null},me={key:!0,ref:!0,__self:!0,__source:!0};function ee(k,R,le){var xe,b={},B=null,H=null;if(R!=null)for(xe in R.ref!==void 0&&(H=R.ref),R.key!==void 0&&(B=""+R.key),R)P.call(R,xe)&&!me.hasOwnProperty(xe)&&(b[xe]=R[xe]);var te=arguments.length-2;if(te===1)b.children=le;else if(1<te){for(var ne=Array(te),Fe=0;Fe<te;Fe++)ne[Fe]=arguments[Fe+2];b.children=ne}if(k&&k.defaultProps)for(xe in te=k.defaultProps,te)b[xe]===void 0&&(b[xe]=te[xe]);return{$$typeof:r,type:k,key:B,ref:H,props:b,_owner:K.current}}function He(k,R){return{$$typeof:r,type:k.type,key:R,ref:k.ref,props:k.props,_owner:k._owner}}function De(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function Xe(k){var R={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return R[le]})}var yt=/\/+/g;function _t(k,R){return typeof k=="object"&&k!==null&&k.key!=null?Xe(""+k.key):R.toString(36)}function Mt(k,R,le,xe,b){var B=typeof k;(B==="undefined"||B==="boolean")&&(k=null);var H=!1;if(k===null)H=!0;else switch(B){case"string":case"number":H=!0;break;case"object":switch(k.$$typeof){case r:case e:H=!0}}if(H)return H=k,b=b(H),k=xe===""?"."+_t(H,0):xe,Te(b)?(le="",k!=null&&(le=k.replace(yt,"$&/")+"/"),Mt(b,R,le,"",function(Fe){return Fe})):b!=null&&(De(b)&&(b=He(b,le+(!b.key||H&&H.key===b.key?"":(""+b.key).replace(yt,"$&/")+"/")+k)),R.push(b)),1;if(H=0,xe=xe===""?".":xe+":",Te(k))for(var te=0;te<k.length;te++){B=k[te];var ne=xe+_t(B,te);H+=Mt(B,R,le,ne,b)}else if(ne=I(k),typeof ne=="function")for(k=ne.call(k),te=0;!(B=k.next()).done;)B=B.value,ne=xe+_t(B,te++),H+=Mt(B,R,le,ne,b);else if(B==="object")throw R=String(k),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return H}function zt(k,R,le){if(k==null)return k;var xe=[],b=0;return Mt(k,xe,"","",function(B){return R.call(le,B,b++)}),xe}function mt(k){if(k._status===-1){var R=k._result;R=R(),R.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=R)}if(k._status===1)return k._result.default;throw k._result}var qe={current:null},W={transition:null},oe={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:W,ReactCurrentOwner:K};function q(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:zt,forEach:function(k,R,le){zt(k,function(){R.apply(this,arguments)},le)},count:function(k){var R=0;return zt(k,function(){R++}),R},toArray:function(k){return zt(k,function(R){return R})||[]},only:function(k){if(!De(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ne.Component=J,Ne.Fragment=t,Ne.Profiler=l,Ne.PureComponent=Ee,Ne.StrictMode=s,Ne.Suspense=p,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ne.act=q,Ne.cloneElement=function(k,R,le){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var xe=M({},k.props),b=k.key,B=k.ref,H=k._owner;if(R!=null){if(R.ref!==void 0&&(B=R.ref,H=K.current),R.key!==void 0&&(b=""+R.key),k.type&&k.type.defaultProps)var te=k.type.defaultProps;for(ne in R)P.call(R,ne)&&!me.hasOwnProperty(ne)&&(xe[ne]=R[ne]===void 0&&te!==void 0?te[ne]:R[ne])}var ne=arguments.length-2;if(ne===1)xe.children=le;else if(1<ne){te=Array(ne);for(var Fe=0;Fe<ne;Fe++)te[Fe]=arguments[Fe+2];xe.children=te}return{$$typeof:r,type:k.type,key:b,ref:B,props:xe,_owner:H}},Ne.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:u,_context:k},k.Consumer=k},Ne.createElement=ee,Ne.createFactory=function(k){var R=ee.bind(null,k);return R.type=k,R},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:h,render:k}},Ne.isValidElement=De,Ne.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:mt}},Ne.memo=function(k,R){return{$$typeof:m,type:k,compare:R===void 0?null:R}},Ne.startTransition=function(k){var R=W.transition;W.transition={};try{k()}finally{W.transition=R}},Ne.unstable_act=q,Ne.useCallback=function(k,R){return qe.current.useCallback(k,R)},Ne.useContext=function(k){return qe.current.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k){return qe.current.useDeferredValue(k)},Ne.useEffect=function(k,R){return qe.current.useEffect(k,R)},Ne.useId=function(){return qe.current.useId()},Ne.useImperativeHandle=function(k,R,le){return qe.current.useImperativeHandle(k,R,le)},Ne.useInsertionEffect=function(k,R){return qe.current.useInsertionEffect(k,R)},Ne.useLayoutEffect=function(k,R){return qe.current.useLayoutEffect(k,R)},Ne.useMemo=function(k,R){return qe.current.useMemo(k,R)},Ne.useReducer=function(k,R,le){return qe.current.useReducer(k,R,le)},Ne.useRef=function(k){return qe.current.useRef(k)},Ne.useState=function(k){return qe.current.useState(k)},Ne.useSyncExternalStore=function(k,R,le){return qe.current.useSyncExternalStore(k,R,le)},Ne.useTransition=function(){return qe.current.useTransition()},Ne.version="18.3.1",Ne}var Uy;function Nd(){return Uy||(Uy=1,Mf.exports=z_()),Mf.exports}var zy;function j_(){if(zy)return Jo;zy=1;var r=Nd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function f(h,p,m){var v,w={},I=null,A=null;m!==void 0&&(I=""+m),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(A=p.ref);for(v in p)s.call(p,v)&&!u.hasOwnProperty(v)&&(w[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:e,type:h,key:I,ref:A,props:w,_owner:l.current}}return Jo.Fragment=t,Jo.jsx=f,Jo.jsxs=f,Jo}var jy;function $_(){return jy||(jy=1,Bf.exports=j_()),Bf.exports}var it=$_(),Ft=Nd();const V_=Lm(Ft);var qa={},Pf={exports:{}},an={},Lf={exports:{}},Rf={};var $y;function W_(){return $y||($y=1,(function(r){function e(W,oe){var q=W.length;W.push(oe);e:for(;0<q;){var k=q-1>>>1,R=W[k];if(0<l(R,oe))W[k]=oe,W[q]=R,q=k;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var oe=W[0],q=W.pop();if(q!==oe){W[0]=q;e:for(var k=0,R=W.length,le=R>>>1;k<le;){var xe=2*(k+1)-1,b=W[xe],B=xe+1,H=W[B];if(0>l(b,q))B<R&&0>l(H,b)?(W[k]=H,W[B]=q,k=B):(W[k]=b,W[xe]=q,k=xe);else if(B<R&&0>l(H,q))W[k]=H,W[B]=q,k=B;else break e}}return oe}function l(W,oe){var q=W.sortIndex-oe.sortIndex;return q!==0?q:W.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();r.unstable_now=function(){return f.now()-h}}var p=[],m=[],v=1,w=null,I=3,A=!1,M=!1,L=!1,J=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ae(W){for(var oe=t(m);oe!==null;){if(oe.callback===null)s(m);else if(oe.startTime<=W)s(m),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(m)}}function Te(W){if(L=!1,ae(W),!M)if(t(p)!==null)M=!0,mt(P);else{var oe=t(m);oe!==null&&qe(Te,oe.startTime-W)}}function P(W,oe){M=!1,L&&(L=!1,fe(ee),ee=-1),A=!0;var q=I;try{for(ae(oe),w=t(p);w!==null&&(!(w.expirationTime>oe)||W&&!Xe());){var k=w.callback;if(typeof k=="function"){w.callback=null,I=w.priorityLevel;var R=k(w.expirationTime<=oe);oe=r.unstable_now(),typeof R=="function"?w.callback=R:w===t(p)&&s(p),ae(oe)}else s(p);w=t(p)}if(w!==null)var le=!0;else{var xe=t(m);xe!==null&&qe(Te,xe.startTime-oe),le=!1}return le}finally{w=null,I=q,A=!1}}var K=!1,me=null,ee=-1,He=5,De=-1;function Xe(){return!(r.unstable_now()-De<He)}function yt(){if(me!==null){var W=r.unstable_now();De=W;var oe=!0;try{oe=me(!0,W)}finally{oe?_t():(K=!1,me=null)}}else K=!1}var _t;if(typeof Ee=="function")_t=function(){Ee(yt)};else if(typeof MessageChannel<"u"){var Mt=new MessageChannel,zt=Mt.port2;Mt.port1.onmessage=yt,_t=function(){zt.postMessage(null)}}else _t=function(){J(yt,0)};function mt(W){me=W,K||(K=!0,_t())}function qe(W,oe){ee=J(function(){W(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_continueExecution=function(){M||A||(M=!0,mt(P))},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):He=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(W){switch(I){case 1:case 2:case 3:var oe=3;break;default:oe=I}var q=I;I=oe;try{return W()}finally{I=q}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var q=I;I=W;try{return oe()}finally{I=q}},r.unstable_scheduleCallback=function(W,oe,q){var k=r.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?k+q:k):q=k,W){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=q+R,W={id:v++,callback:oe,priorityLevel:W,startTime:q,expirationTime:R,sortIndex:-1},q>k?(W.sortIndex=q,e(m,W),t(p)===null&&W===t(m)&&(L?(fe(ee),ee=-1):L=!0,qe(Te,q-k))):(W.sortIndex=R,e(p,W),M||A||(M=!0,mt(P))),W},r.unstable_shouldYield=Xe,r.unstable_wrapCallback=function(W){var oe=I;return function(){var q=I;I=oe;try{return W.apply(this,arguments)}finally{I=q}}}})(Rf)),Rf}var Vy;function K_(){return Vy||(Vy=1,Lf.exports=W_()),Lf.exports}var Wy;function H_(){if(Wy)return an;Wy=1;var r=Nd(),e=K_();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function u(n,i){f(n,i),f(n+"Capture",i)}function f(n,i){for(l[n]=i,n=0;n<i.length;n++)s.add(i[n])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function I(n){return p.call(w,n)?!0:p.call(v,n)?!1:m.test(n)?w[n]=!0:(v[n]=!0,!1)}function A(n,i,o,a){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function M(n,i,o,a){if(i===null||typeof i>"u"||A(n,i,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function L(n,i,o,a,c,d,y){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=o,this.propertyName=n,this.type=i,this.sanitizeURL=d,this.removeEmptyString=y}var J={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){J[n]=new L(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];J[i]=new L(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){J[n]=new L(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){J[n]=new L(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){J[n]=new L(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){J[n]=new L(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){J[n]=new L(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){J[n]=new L(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){J[n]=new L(n,5,!1,n.toLowerCase(),null,!1,!1)});var fe=/[\-:]([a-z])/g;function Ee(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(fe,Ee);J[i]=new L(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(fe,Ee);J[i]=new L(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(fe,Ee);J[i]=new L(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){J[n]=new L(n,1,!1,n.toLowerCase(),null,!1,!1)}),J.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){J[n]=new L(n,1,!1,n.toLowerCase(),null,!0,!0)});function ae(n,i,o,a){var c=J.hasOwnProperty(i)?J[i]:null;(c!==null?c.type!==0:a||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(M(i,o,c,a)&&(o=null),a||c===null?I(i)&&(o===null?n.removeAttribute(i):n.setAttribute(i,""+o)):c.mustUseProperty?n[c.propertyName]=o===null?c.type===3?!1:"":o:(i=c.attributeName,a=c.attributeNamespace,o===null?n.removeAttribute(i):(c=c.type,o=c===3||c===4&&o===!0?"":""+o,a?n.setAttributeNS(a,i,o):n.setAttribute(i,o))))}var Te=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),K=Symbol.for("react.portal"),me=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),He=Symbol.for("react.profiler"),De=Symbol.for("react.provider"),Xe=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),zt=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),qe=Symbol.for("react.offscreen"),W=Symbol.iterator;function oe(n){return n===null||typeof n!="object"?null:(n=W&&n[W]||n["@@iterator"],typeof n=="function"?n:null)}var q=Object.assign,k;function R(n){if(k===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);k=i&&i[1]||""}return`
`+k+n}var le=!1;function xe(n,i){if(!n||le)return"";le=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(N){var a=N}Reflect.construct(n,[],i)}else{try{i.call()}catch(N){a=N}n.call(i.prototype)}else{try{throw Error()}catch(N){a=N}n()}}catch(N){if(N&&a&&typeof N.stack=="string"){for(var c=N.stack.split(`
`),d=a.stack.split(`
`),y=c.length-1,g=d.length-1;1<=y&&0<=g&&c[y]!==d[g];)g--;for(;1<=y&&0<=g;y--,g--)if(c[y]!==d[g]){if(y!==1||g!==1)do if(y--,g--,0>g||c[y]!==d[g]){var _=`
`+c[y].replace(" at new "," at ");return n.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",n.displayName)),_}while(1<=y&&0<=g);break}}}finally{le=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?R(n):""}function b(n){switch(n.tag){case 5:return R(n.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return n=xe(n.type,!1),n;case 11:return n=xe(n.type.render,!1),n;case 1:return n=xe(n.type,!0),n;default:return""}}function B(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case me:return"Fragment";case K:return"Portal";case He:return"Profiler";case ee:return"StrictMode";case _t:return"Suspense";case Mt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Xe:return(n.displayName||"Context")+".Consumer";case De:return(n._context.displayName||"Context")+".Provider";case yt:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case zt:return i=n.displayName||null,i!==null?i:B(n.type)||"Memo";case mt:i=n._payload,n=n._init;try{return B(n(i))}catch{}}return null}function H(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(i);case 8:return i===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function te(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ne(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fe(n){var i=ne(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),a=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,d=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return c.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function It(n){n._valueTracker||(n._valueTracker=Fe(n))}function Ye(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),a="";return n&&(a=ne(n)?n.checked?"true":"false":n.value),n=a,n!==o?(i.setValue(n),!0):!1}function gt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ht(n,i){var o=i.checked;return q({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function no(n,i){var o=i.defaultValue==null?"":i.defaultValue,a=i.checked!=null?i.checked:i.defaultChecked;o=te(i.value!=null?i.value:o),n._wrapperState={initialChecked:a,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Cl(n,i){i=i.checked,i!=null&&ae(n,"checked",i,!1)}function ro(n,i){Cl(n,i);var o=te(i.value),a=i.type;if(o!=null)a==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(a==="submit"||a==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?so(n,i.type,o):i.hasOwnProperty("defaultValue")&&so(n,i.type,te(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function io(n,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var a=i.type;if(!(a!=="submit"&&a!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,o||i===n.value||(n.value=i),n.defaultValue=i}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function so(n,i,o){(i!=="number"||gt(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var Ti=Array.isArray;function Wr(n,i,o,a){if(n=n.options,i){i={};for(var c=0;c<o.length;c++)i["$"+o[c]]=!0;for(o=0;o<n.length;o++)c=i.hasOwnProperty("$"+n[o].value),n[o].selected!==c&&(n[o].selected=c),c&&a&&(n[o].defaultSelected=!0)}else{for(o=""+te(o),i=null,c=0;c<n.length;c++){if(n[c].value===o){n[c].selected=!0,a&&(n[c].defaultSelected=!0);return}i!==null||n[c].disabled||(i=n[c])}i!==null&&(i.selected=!0)}}function oo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return q({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function lo(n,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(t(92));if(Ti(o)){if(1<o.length)throw Error(t(93));o=o[0]}i=o}i==null&&(i=""),o=i}n._wrapperState={initialValue:te(o)}}function xl(n,i){var o=te(i.value),a=te(i.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),i.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),a!=null&&(n.defaultValue=""+a)}function Ol(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Al(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cs(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Al(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var fs,Nl=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,a,c){MSApp.execUnsafeLocalFunction(function(){return n(i,o,a,c)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(fs=fs||document.createElement("div"),fs.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=fs.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Di(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qu=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(n){Qu.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Fi[i]=Fi[n]})});function Tl(n,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||Fi.hasOwnProperty(n)&&Fi[n]?(""+i).trim():i+"px"}function Dl(n,i){n=n.style;for(var o in i)if(i.hasOwnProperty(o)){var a=o.indexOf("--")===0,c=Tl(o,i[o],a);o==="float"&&(o="cssFloat"),a?n.setProperty(o,c):n[o]=c}}var Gu=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ao(n,i){if(i){if(Gu[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function ds(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=null;function co(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var fo=null,Kr=null,Hr=null;function Fl(n){if(n=Po(n)){if(typeof fo!="function")throw Error(t(280));var i=n.stateNode;i&&(i=aa(i),fo(n.stateNode,n.type,i))}}function Bl(n){Kr?Hr?Hr.push(n):Hr=[n]:Kr=n}function Ml(){if(Kr){var n=Kr,i=Hr;if(Hr=Kr=null,Fl(n),i)for(n=0;n<i.length;n++)Fl(i[n])}}function Pl(n,i){return n(i)}function Ll(){}var ho=!1;function T(n,i,o){if(ho)return n(i,o);ho=!0;try{return Pl(n,i,o)}finally{ho=!1,(Kr!==null||Hr!==null)&&(Ll(),Ml())}}function Nn(n,i){var o=n.stateNode;if(o===null)return null;var a=aa(o);if(a===null)return null;o=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(n=n.type,a=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!a;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(t(231,i,typeof o));return o}var qt=!1;if(h)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){qt=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{qt=!1}function V(n,i,o,a,c,d,y,g,_){var N=Array.prototype.slice.call(arguments,3);try{i.apply(o,N)}catch(z){this.onError(z)}}var Kn=!1,lt=null,Yt=!1,po=null,tn={onError:function(n){Kn=!0,lt=n}};function Rl(n,i,o,a,c,d,y,g,_){Kn=!1,lt=null,V.apply(tn,arguments)}function Ul(n,i,o,a,c,d,y,g,_){if(Rl.apply(this,arguments),Kn){if(Kn){var N=lt;Kn=!1,lt=null}else throw Error(t(198));Yt||(Yt=!0,po=N)}}function Z(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function zl(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function yo(n){if(Z(n)!==n)throw Error(t(188))}function Ju(n){var i=n.alternate;if(!i){if(i=Z(n),i===null)throw Error(t(188));return i!==n?null:n}for(var o=n,a=i;;){var c=o.return;if(c===null)break;var d=c.alternate;if(d===null){if(a=c.return,a!==null){o=a;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===o)return yo(c),n;if(d===a)return yo(c),i;d=d.sibling}throw Error(t(188))}if(o.return!==a.return)o=c,a=d;else{for(var y=!1,g=c.child;g;){if(g===o){y=!0,o=c,a=d;break}if(g===a){y=!0,a=c,o=d;break}g=g.sibling}if(!y){for(g=d.child;g;){if(g===o){y=!0,o=d,a=c;break}if(g===a){y=!0,a=d,o=c;break}g=g.sibling}if(!y)throw Error(t(189))}}if(o.alternate!==a)throw Error(t(190))}if(o.tag!==3)throw Error(t(188));return o.stateNode.current===o?n:i}function mo(n){return n=Ju(n),n!==null?jl(n):null}function jl(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=jl(n);if(i!==null)return i;n=n.sibling}return null}var $l=e.unstable_scheduleCallback,Vl=e.unstable_cancelCallback,Wl=e.unstable_shouldYield,Kl=e.unstable_requestPaint,at=e.unstable_now,Zu=e.unstable_getCurrentPriorityLevel,go=e.unstable_ImmediatePriority,vo=e.unstable_UserBlockingPriority,qr=e.unstable_NormalPriority,Xu=e.unstable_LowPriority,Hl=e.unstable_IdlePriority,Bi=null,Tn=null;function Pt(n){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Bi,n,void 0,(n.current.flags&128)===128)}catch{}}var E=Math.clz32?Math.clz32:se,D=Math.log,F=Math.LN2;function se(n){return n>>>=0,n===0?32:31-(D(n)/F|0)|0}var ie=64,Pe=4194304;function _n(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Sr(n,i){var o=n.pendingLanes;if(o===0)return 0;var a=0,c=n.suspendedLanes,d=n.pingedLanes,y=o&268435455;if(y!==0){var g=y&~c;g!==0?a=_n(g):(d&=y,d!==0&&(a=_n(d)))}else y=o&~c,y!==0?a=_n(y):d!==0&&(a=_n(d));if(a===0)return 0;if(i!==0&&i!==a&&(i&c)===0&&(c=a&-a,d=i&-i,c>=d||c===16&&(d&4194240)!==0))return i;if((a&4)!==0&&(a|=o&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=a;0<i;)o=31-E(i),c=1<<o,a|=n[o],i&=~c;return a}function sv(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ov(n,i){for(var o=n.suspendedLanes,a=n.pingedLanes,c=n.expirationTimes,d=n.pendingLanes;0<d;){var y=31-E(d),g=1<<y,_=c[y];_===-1?((g&o)===0||(g&a)!==0)&&(c[y]=sv(g,i)):_<=i&&(n.expiredLanes|=g),d&=~g}}function ec(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function yh(){var n=ie;return ie<<=1,(ie&4194240)===0&&(ie=64),n}function tc(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function _o(n,i,o){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-E(i),n[i]=o}function lv(n,i){var o=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var a=n.eventTimes;for(n=n.expirationTimes;0<o;){var c=31-E(o),d=1<<c;i[c]=0,a[c]=-1,n[c]=-1,o&=~d}}function nc(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var a=31-E(o),c=1<<a;c&i|n[a]&i&&(n[a]|=i),o&=~c}}var Qe=0;function mh(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var gh,rc,vh,_h,wh,ic=!1,ql=[],Yr=null,Qr=null,Gr=null,wo=new Map,So=new Map,Jr=[],av="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sh(n,i){switch(n){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":wo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(i.pointerId)}}function bo(n,i,o,a,c,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:o,eventSystemFlags:a,nativeEvent:d,targetContainers:[c]},i!==null&&(i=Po(i),i!==null&&rc(i)),n):(n.eventSystemFlags|=a,i=n.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),n)}function uv(n,i,o,a,c){switch(i){case"focusin":return Yr=bo(Yr,n,i,o,a,c),!0;case"dragenter":return Qr=bo(Qr,n,i,o,a,c),!0;case"mouseover":return Gr=bo(Gr,n,i,o,a,c),!0;case"pointerover":var d=c.pointerId;return wo.set(d,bo(wo.get(d)||null,n,i,o,a,c)),!0;case"gotpointercapture":return d=c.pointerId,So.set(d,bo(So.get(d)||null,n,i,o,a,c)),!0}return!1}function bh(n){var i=Mi(n.target);if(i!==null){var o=Z(i);if(o!==null){if(i=o.tag,i===13){if(i=zl(o),i!==null){n.blockedOn=i,wh(n.priority,function(){vh(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Yl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=oc(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var a=new o.constructor(o.type,o);uo=a,o.target.dispatchEvent(a),uo=null}else return i=Po(o),i!==null&&rc(i),n.blockedOn=o,!1;i.shift()}return!0}function Ih(n,i,o){Yl(n)&&o.delete(i)}function cv(){ic=!1,Yr!==null&&Yl(Yr)&&(Yr=null),Qr!==null&&Yl(Qr)&&(Qr=null),Gr!==null&&Yl(Gr)&&(Gr=null),wo.forEach(Ih),So.forEach(Ih)}function Io(n,i){n.blockedOn===i&&(n.blockedOn=null,ic||(ic=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cv)))}function ko(n){function i(c){return Io(c,n)}if(0<ql.length){Io(ql[0],n);for(var o=1;o<ql.length;o++){var a=ql[o];a.blockedOn===n&&(a.blockedOn=null)}}for(Yr!==null&&Io(Yr,n),Qr!==null&&Io(Qr,n),Gr!==null&&Io(Gr,n),wo.forEach(i),So.forEach(i),o=0;o<Jr.length;o++)a=Jr[o],a.blockedOn===n&&(a.blockedOn=null);for(;0<Jr.length&&(o=Jr[0],o.blockedOn===null);)bh(o),o.blockedOn===null&&Jr.shift()}var hs=Te.ReactCurrentBatchConfig,Ql=!0;function fv(n,i,o,a){var c=Qe,d=hs.transition;hs.transition=null;try{Qe=1,sc(n,i,o,a)}finally{Qe=c,hs.transition=d}}function dv(n,i,o,a){var c=Qe,d=hs.transition;hs.transition=null;try{Qe=4,sc(n,i,o,a)}finally{Qe=c,hs.transition=d}}function sc(n,i,o,a){if(Ql){var c=oc(n,i,o,a);if(c===null)Ic(n,i,a,Gl,o),Sh(n,a);else if(uv(c,n,i,o,a))a.stopPropagation();else if(Sh(n,a),i&4&&-1<av.indexOf(n)){for(;c!==null;){var d=Po(c);if(d!==null&&gh(d),d=oc(n,i,o,a),d===null&&Ic(n,i,a,Gl,o),d===c)break;c=d}c!==null&&a.stopPropagation()}else Ic(n,i,a,null,o)}}var Gl=null;function oc(n,i,o,a){if(Gl=null,n=co(a),n=Mi(n),n!==null)if(i=Z(n),i===null)n=null;else if(o=i.tag,o===13){if(n=zl(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Gl=n,null}function kh(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zu()){case go:return 1;case vo:return 4;case qr:case Xu:return 16;case Hl:return 536870912;default:return 16}default:return 16}}var Zr=null,lc=null,Jl=null;function Eh(){if(Jl)return Jl;var n,i=lc,o=i.length,a,c="value"in Zr?Zr.value:Zr.textContent,d=c.length;for(n=0;n<o&&i[n]===c[n];n++);var y=o-n;for(a=1;a<=y&&i[o-a]===c[d-a];a++);return Jl=c.slice(n,1<a?1-a:void 0)}function Zl(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Xl(){return!0}function Ch(){return!1}function wn(n){function i(o,a,c,d,y){this._reactName=o,this._targetInst=c,this.type=a,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var g in n)n.hasOwnProperty(g)&&(o=n[g],this[g]=o?o(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xl:Ch,this.isPropagationStopped=Ch,this}return q(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),i}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ac=wn(ps),Eo=q({},ps,{view:0,detail:0}),hv=wn(Eo),uc,cc,Co,ea=q({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Co&&(Co&&n.type==="mousemove"?(uc=n.screenX-Co.screenX,cc=n.screenY-Co.screenY):cc=uc=0,Co=n),uc)},movementY:function(n){return"movementY"in n?n.movementY:cc}}),xh=wn(ea),pv=q({},ea,{dataTransfer:0}),yv=wn(pv),mv=q({},Eo,{relatedTarget:0}),fc=wn(mv),gv=q({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),vv=wn(gv),_v=q({},ps,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wv=wn(_v),Sv=q({},ps,{data:0}),Oh=wn(Sv),bv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ev(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=kv[n])?!!i[n]:!1}function dc(){return Ev}var Cv=q({},Eo,{key:function(n){if(n.key){var i=bv[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Zl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Iv[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dc,charCode:function(n){return n.type==="keypress"?Zl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xv=wn(Cv),Ov=q({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ah=wn(Ov),Av=q({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dc}),Nv=wn(Av),Tv=q({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dv=wn(Tv),Fv=q({},ea,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Bv=wn(Fv),Mv=[9,13,27,32],hc=h&&"CompositionEvent"in window,xo=null;h&&"documentMode"in document&&(xo=document.documentMode);var Pv=h&&"TextEvent"in window&&!xo,Nh=h&&(!hc||xo&&8<xo&&11>=xo),Th=" ",Dh=!1;function Fh(n,i){switch(n){case"keyup":return Mv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bh(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ys=!1;function Lv(n,i){switch(n){case"compositionend":return Bh(i);case"keypress":return i.which!==32?null:(Dh=!0,Th);case"textInput":return n=i.data,n===Th&&Dh?null:n;default:return null}}function Rv(n,i){if(ys)return n==="compositionend"||!hc&&Fh(n,i)?(n=Eh(),Jl=lc=Zr=null,ys=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Nh&&i.locale!=="ko"?null:i.data;default:return null}}var Uv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mh(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Uv[n.type]:i==="textarea"}function Ph(n,i,o,a){Bl(a),i=sa(i,"onChange"),0<i.length&&(o=new ac("onChange","change",null,o,a),n.push({event:o,listeners:i}))}var Oo=null,Ao=null;function zv(n){ep(n,0)}function ta(n){var i=ws(n);if(Ye(i))return n}function jv(n,i){if(n==="change")return i}var Lh=!1;if(h){var pc;if(h){var yc="oninput"in document;if(!yc){var Rh=document.createElement("div");Rh.setAttribute("oninput","return;"),yc=typeof Rh.oninput=="function"}pc=yc}else pc=!1;Lh=pc&&(!document.documentMode||9<document.documentMode)}function Uh(){Oo&&(Oo.detachEvent("onpropertychange",zh),Ao=Oo=null)}function zh(n){if(n.propertyName==="value"&&ta(Ao)){var i=[];Ph(i,Ao,n,co(n)),T(zv,i)}}function $v(n,i,o){n==="focusin"?(Uh(),Oo=i,Ao=o,Oo.attachEvent("onpropertychange",zh)):n==="focusout"&&Uh()}function Vv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ta(Ao)}function Wv(n,i){if(n==="click")return ta(i)}function Kv(n,i){if(n==="input"||n==="change")return ta(i)}function Hv(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Hn=typeof Object.is=="function"?Object.is:Hv;function No(n,i){if(Hn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),a=Object.keys(i);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var c=o[a];if(!p.call(i,c)||!Hn(n[c],i[c]))return!1}return!0}function jh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function $h(n,i){var o=jh(n);n=0;for(var a;o;){if(o.nodeType===3){if(a=n+o.textContent.length,n<=i&&a>=i)return{node:o,offset:i-n};n=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jh(o)}}function Vh(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Vh(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Wh(){for(var n=window,i=gt();i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=gt(n.document)}return i}function mc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function qv(n){var i=Wh(),o=n.focusedElem,a=n.selectionRange;if(i!==o&&o&&o.ownerDocument&&Vh(o.ownerDocument.documentElement,o)){if(a!==null&&mc(o)){if(i=a.start,n=a.end,n===void 0&&(n=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(n,o.value.length);else if(n=(i=o.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var c=o.textContent.length,d=Math.min(a.start,c);a=a.end===void 0?d:Math.min(a.end,c),!n.extend&&d>a&&(c=a,a=d,d=c),c=$h(o,d);var y=$h(o,a);c&&y&&(n.rangeCount!==1||n.anchorNode!==c.node||n.anchorOffset!==c.offset||n.focusNode!==y.node||n.focusOffset!==y.offset)&&(i=i.createRange(),i.setStart(c.node,c.offset),n.removeAllRanges(),d>a?(n.addRange(i),n.extend(y.node,y.offset)):(i.setEnd(y.node,y.offset),n.addRange(i)))}}for(i=[],n=o;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)n=i[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Yv=h&&"documentMode"in document&&11>=document.documentMode,ms=null,gc=null,To=null,vc=!1;function Kh(n,i,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vc||ms==null||ms!==gt(a)||(a=ms,"selectionStart"in a&&mc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),To&&No(To,a)||(To=a,a=sa(gc,"onSelect"),0<a.length&&(i=new ac("onSelect","select",null,i,o),n.push({event:i,listeners:a}),i.target=ms)))}function na(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var gs={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionend:na("Transition","TransitionEnd")},_c={},Hh={};h&&(Hh=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function ra(n){if(_c[n])return _c[n];if(!gs[n])return n;var i=gs[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in Hh)return _c[n]=i[o];return n}var qh=ra("animationend"),Yh=ra("animationiteration"),Qh=ra("animationstart"),Gh=ra("transitionend"),Jh=new Map,Zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(n,i){Jh.set(n,i),u(i,[n])}for(var wc=0;wc<Zh.length;wc++){var Sc=Zh[wc],Qv=Sc.toLowerCase(),Gv=Sc[0].toUpperCase()+Sc.slice(1);Xr(Qv,"on"+Gv)}Xr(qh,"onAnimationEnd"),Xr(Yh,"onAnimationIteration"),Xr(Qh,"onAnimationStart"),Xr("dblclick","onDoubleClick"),Xr("focusin","onFocus"),Xr("focusout","onBlur"),Xr(Gh,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function Xh(n,i,o){var a=n.type||"unknown-event";n.currentTarget=o,Ul(a,i,void 0,n),n.currentTarget=null}function ep(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var a=n[o],c=a.event;a=a.listeners;e:{var d=void 0;if(i)for(var y=a.length-1;0<=y;y--){var g=a[y],_=g.instance,N=g.currentTarget;if(g=g.listener,_!==d&&c.isPropagationStopped())break e;Xh(c,g,N),d=_}else for(y=0;y<a.length;y++){if(g=a[y],_=g.instance,N=g.currentTarget,g=g.listener,_!==d&&c.isPropagationStopped())break e;Xh(c,g,N),d=_}}}if(Yt)throw n=po,Yt=!1,po=null,n}function nt(n,i){var o=i[Ac];o===void 0&&(o=i[Ac]=new Set);var a=n+"__bubble";o.has(a)||(tp(i,n,2,!1),o.add(a))}function bc(n,i,o){var a=0;i&&(a|=4),tp(o,n,a,i)}var ia="_reactListening"+Math.random().toString(36).slice(2);function Fo(n){if(!n[ia]){n[ia]=!0,s.forEach(function(o){o!=="selectionchange"&&(Jv.has(o)||bc(o,!1,n),bc(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[ia]||(i[ia]=!0,bc("selectionchange",!1,i))}}function tp(n,i,o,a){switch(kh(i)){case 1:var c=fv;break;case 4:c=dv;break;default:c=sc}o=c.bind(null,i,o,n),c=void 0,!qt||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),a?c!==void 0?n.addEventListener(i,o,{capture:!0,passive:c}):n.addEventListener(i,o,!0):c!==void 0?n.addEventListener(i,o,{passive:c}):n.addEventListener(i,o,!1)}function Ic(n,i,o,a,c){var d=a;if((i&1)===0&&(i&2)===0&&a!==null)e:for(;;){if(a===null)return;var y=a.tag;if(y===3||y===4){var g=a.stateNode.containerInfo;if(g===c||g.nodeType===8&&g.parentNode===c)break;if(y===4)for(y=a.return;y!==null;){var _=y.tag;if((_===3||_===4)&&(_=y.stateNode.containerInfo,_===c||_.nodeType===8&&_.parentNode===c))return;y=y.return}for(;g!==null;){if(y=Mi(g),y===null)return;if(_=y.tag,_===5||_===6){a=d=y;continue e}g=g.parentNode}}a=a.return}T(function(){var N=d,z=co(o),j=[];e:{var U=Jh.get(n);if(U!==void 0){var Y=ac,G=n;switch(n){case"keypress":if(Zl(o)===0)break e;case"keydown":case"keyup":Y=xv;break;case"focusin":G="focus",Y=fc;break;case"focusout":G="blur",Y=fc;break;case"beforeblur":case"afterblur":Y=fc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=yv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Nv;break;case qh:case Yh:case Qh:Y=vv;break;case Gh:Y=Dv;break;case"scroll":Y=hv;break;case"wheel":Y=Bv;break;case"copy":case"cut":case"paste":Y=wv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Ah}var X=(i&4)!==0,vt=!X&&n==="scroll",x=X?U!==null?U+"Capture":null:U;X=[];for(var S=N,O;S!==null;){O=S;var $=O.stateNode;if(O.tag===5&&$!==null&&(O=$,x!==null&&($=Nn(S,x),$!=null&&X.push(Bo(S,$,O)))),vt)break;S=S.return}0<X.length&&(U=new Y(U,G,null,o,z),j.push({event:U,listeners:X}))}}if((i&7)===0){e:{if(U=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",U&&o!==uo&&(G=o.relatedTarget||o.fromElement)&&(Mi(G)||G[br]))break e;if((Y||U)&&(U=z.window===z?z:(U=z.ownerDocument)?U.defaultView||U.parentWindow:window,Y?(G=o.relatedTarget||o.toElement,Y=N,G=G?Mi(G):null,G!==null&&(vt=Z(G),G!==vt||G.tag!==5&&G.tag!==6)&&(G=null)):(Y=null,G=N),Y!==G)){if(X=xh,$="onMouseLeave",x="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(X=Ah,$="onPointerLeave",x="onPointerEnter",S="pointer"),vt=Y==null?U:ws(Y),O=G==null?U:ws(G),U=new X($,S+"leave",Y,o,z),U.target=vt,U.relatedTarget=O,$=null,Mi(z)===N&&(X=new X(x,S+"enter",G,o,z),X.target=O,X.relatedTarget=vt,$=X),vt=$,Y&&G)t:{for(X=Y,x=G,S=0,O=X;O;O=vs(O))S++;for(O=0,$=x;$;$=vs($))O++;for(;0<S-O;)X=vs(X),S--;for(;0<O-S;)x=vs(x),O--;for(;S--;){if(X===x||x!==null&&X===x.alternate)break t;X=vs(X),x=vs(x)}X=null}else X=null;Y!==null&&np(j,U,Y,X,!1),G!==null&&vt!==null&&np(j,vt,G,X,!0)}}e:{if(U=N?ws(N):window,Y=U.nodeName&&U.nodeName.toLowerCase(),Y==="select"||Y==="input"&&U.type==="file")var re=jv;else if(Mh(U))if(Lh)re=Kv;else{re=Vv;var ue=$v}else(Y=U.nodeName)&&Y.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(re=Wv);if(re&&(re=re(n,N))){Ph(j,re,o,z);break e}ue&&ue(n,U,N),n==="focusout"&&(ue=U._wrapperState)&&ue.controlled&&U.type==="number"&&so(U,"number",U.value)}switch(ue=N?ws(N):window,n){case"focusin":(Mh(ue)||ue.contentEditable==="true")&&(ms=ue,gc=N,To=null);break;case"focusout":To=gc=ms=null;break;case"mousedown":vc=!0;break;case"contextmenu":case"mouseup":case"dragend":vc=!1,Kh(j,o,z);break;case"selectionchange":if(Yv)break;case"keydown":case"keyup":Kh(j,o,z)}var ce;if(hc)e:{switch(n){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else ys?Fh(n,o)&&(he="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(he="onCompositionStart");he&&(Nh&&o.locale!=="ko"&&(ys||he!=="onCompositionStart"?he==="onCompositionEnd"&&ys&&(ce=Eh()):(Zr=z,lc="value"in Zr?Zr.value:Zr.textContent,ys=!0)),ue=sa(N,he),0<ue.length&&(he=new Oh(he,n,null,o,z),j.push({event:he,listeners:ue}),ce?he.data=ce:(ce=Bh(o),ce!==null&&(he.data=ce)))),(ce=Pv?Lv(n,o):Rv(n,o))&&(N=sa(N,"onBeforeInput"),0<N.length&&(z=new Oh("onBeforeInput","beforeinput",null,o,z),j.push({event:z,listeners:N}),z.data=ce))}ep(j,i)})}function Bo(n,i,o){return{instance:n,listener:i,currentTarget:o}}function sa(n,i){for(var o=i+"Capture",a=[];n!==null;){var c=n,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=Nn(n,o),d!=null&&a.unshift(Bo(n,d,c)),d=Nn(n,i),d!=null&&a.push(Bo(n,d,c))),n=n.return}return a}function vs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function np(n,i,o,a,c){for(var d=i._reactName,y=[];o!==null&&o!==a;){var g=o,_=g.alternate,N=g.stateNode;if(_!==null&&_===a)break;g.tag===5&&N!==null&&(g=N,c?(_=Nn(o,d),_!=null&&y.unshift(Bo(o,_,g))):c||(_=Nn(o,d),_!=null&&y.push(Bo(o,_,g)))),o=o.return}y.length!==0&&n.push({event:i,listeners:y})}var Zv=/\r\n?/g,Xv=/\u0000|\uFFFD/g;function rp(n){return(typeof n=="string"?n:""+n).replace(Zv,`
`).replace(Xv,"")}function oa(n,i,o){if(i=rp(i),rp(n)!==i&&o)throw Error(t(425))}function la(){}var kc=null,Ec=null;function Cc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xc=typeof setTimeout=="function"?setTimeout:void 0,e_=typeof clearTimeout=="function"?clearTimeout:void 0,ip=typeof Promise=="function"?Promise:void 0,t_=typeof queueMicrotask=="function"?queueMicrotask:typeof ip<"u"?function(n){return ip.resolve(null).then(n).catch(n_)}:xc;function n_(n){setTimeout(function(){throw n})}function Oc(n,i){var o=i,a=0;do{var c=o.nextSibling;if(n.removeChild(o),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(a===0){n.removeChild(c),ko(i);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=c}while(o);ko(i)}function ei(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function sp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}var _s=Math.random().toString(36).slice(2),nr="__reactFiber$"+_s,Mo="__reactProps$"+_s,br="__reactContainer$"+_s,Ac="__reactEvents$"+_s,r_="__reactListeners$"+_s,i_="__reactHandles$"+_s;function Mi(n){var i=n[nr];if(i)return i;for(var o=n.parentNode;o;){if(i=o[br]||o[nr]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=sp(n);n!==null;){if(o=n[nr])return o;n=sp(n)}return i}n=o,o=n.parentNode}return null}function Po(n){return n=n[nr]||n[br],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ws(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function aa(n){return n[Mo]||null}var Nc=[],Ss=-1;function ti(n){return{current:n}}function rt(n){0>Ss||(n.current=Nc[Ss],Nc[Ss]=null,Ss--)}function et(n,i){Ss++,Nc[Ss]=n.current,n.current=i}var ni={},jt=ti(ni),nn=ti(!1),Pi=ni;function bs(n,i){var o=n.type.contextTypes;if(!o)return ni;var a=n.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===i)return a.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in o)c[d]=i[d];return a&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=c),c}function rn(n){return n=n.childContextTypes,n!=null}function ua(){rt(nn),rt(jt)}function op(n,i,o){if(jt.current!==ni)throw Error(t(168));et(jt,i),et(nn,o)}function lp(n,i,o){var a=n.stateNode;if(i=i.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var c in a)if(!(c in i))throw Error(t(108,H(n)||"Unknown",c));return q({},o,a)}function ca(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ni,Pi=jt.current,et(jt,n),et(nn,nn.current),!0}function ap(n,i,o){var a=n.stateNode;if(!a)throw Error(t(169));o?(n=lp(n,i,Pi),a.__reactInternalMemoizedMergedChildContext=n,rt(nn),rt(jt),et(jt,n)):rt(nn),et(nn,o)}var Ir=null,fa=!1,Tc=!1;function up(n){Ir===null?Ir=[n]:Ir.push(n)}function s_(n){fa=!0,up(n)}function ri(){if(!Tc&&Ir!==null){Tc=!0;var n=0,i=Qe;try{var o=Ir;for(Qe=1;n<o.length;n++){var a=o[n];do a=a(!0);while(a!==null)}Ir=null,fa=!1}catch(c){throw Ir!==null&&(Ir=Ir.slice(n+1)),$l(go,ri),c}finally{Qe=i,Tc=!1}}return null}var Is=[],ks=0,da=null,ha=0,Dn=[],Fn=0,Li=null,kr=1,Er="";function Ri(n,i){Is[ks++]=ha,Is[ks++]=da,da=n,ha=i}function cp(n,i,o){Dn[Fn++]=kr,Dn[Fn++]=Er,Dn[Fn++]=Li,Li=n;var a=kr;n=Er;var c=32-E(a)-1;a&=~(1<<c),o+=1;var d=32-E(i)+c;if(30<d){var y=c-c%5;d=(a&(1<<y)-1).toString(32),a>>=y,c-=y,kr=1<<32-E(i)+c|o<<c|a,Er=d+n}else kr=1<<d|o<<c|a,Er=n}function Dc(n){n.return!==null&&(Ri(n,1),cp(n,1,0))}function Fc(n){for(;n===da;)da=Is[--ks],Is[ks]=null,ha=Is[--ks],Is[ks]=null;for(;n===Li;)Li=Dn[--Fn],Dn[Fn]=null,Er=Dn[--Fn],Dn[Fn]=null,kr=Dn[--Fn],Dn[Fn]=null}var Sn=null,bn=null,ot=!1,qn=null;function fp(n,i){var o=Ln(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=n,i=n.deletions,i===null?(n.deletions=[o],n.flags|=16):i.push(o)}function dp(n,i){switch(n.tag){case 5:var o=n.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Sn=n,bn=ei(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Sn=n,bn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=Li!==null?{id:kr,overflow:Er}:null,n.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=Ln(18,null,null,0),o.stateNode=i,o.return=n,n.child=o,Sn=n,bn=null,!0):!1;default:return!1}}function Bc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Mc(n){if(ot){var i=bn;if(i){var o=i;if(!dp(n,i)){if(Bc(n))throw Error(t(418));i=ei(o.nextSibling);var a=Sn;i&&dp(n,i)?fp(a,o):(n.flags=n.flags&-4097|2,ot=!1,Sn=n)}}else{if(Bc(n))throw Error(t(418));n.flags=n.flags&-4097|2,ot=!1,Sn=n}}}function hp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Sn=n}function pa(n){if(n!==Sn)return!1;if(!ot)return hp(n),ot=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Cc(n.type,n.memoizedProps)),i&&(i=bn)){if(Bc(n))throw pp(),Error(t(418));for(;i;)fp(n,i),i=ei(i.nextSibling)}if(hp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(i===0){bn=ei(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}n=n.nextSibling}bn=null}}else bn=Sn?ei(n.stateNode.nextSibling):null;return!0}function pp(){for(var n=bn;n;)n=ei(n.nextSibling)}function Es(){bn=Sn=null,ot=!1}function Pc(n){qn===null?qn=[n]:qn.push(n)}var o_=Te.ReactCurrentBatchConfig;function Lo(n,i,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(t(309));var a=o.stateNode}if(!a)throw Error(t(147,n));var c=a,d=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===d?i.ref:(i=function(y){var g=c.refs;y===null?delete g[d]:g[d]=y},i._stringRef=d,i)}if(typeof n!="string")throw Error(t(284));if(!o._owner)throw Error(t(290,n))}return n}function ya(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function yp(n){var i=n._init;return i(n._payload)}function mp(n){function i(x,S){if(n){var O=x.deletions;O===null?(x.deletions=[S],x.flags|=16):O.push(S)}}function o(x,S){if(!n)return null;for(;S!==null;)i(x,S),S=S.sibling;return null}function a(x,S){for(x=new Map;S!==null;)S.key!==null?x.set(S.key,S):x.set(S.index,S),S=S.sibling;return x}function c(x,S){return x=fi(x,S),x.index=0,x.sibling=null,x}function d(x,S,O){return x.index=O,n?(O=x.alternate,O!==null?(O=O.index,O<S?(x.flags|=2,S):O):(x.flags|=2,S)):(x.flags|=1048576,S)}function y(x){return n&&x.alternate===null&&(x.flags|=2),x}function g(x,S,O,$){return S===null||S.tag!==6?(S=Of(O,x.mode,$),S.return=x,S):(S=c(S,O),S.return=x,S)}function _(x,S,O,$){var re=O.type;return re===me?z(x,S,O.props.children,$,O.key):S!==null&&(S.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===mt&&yp(re)===S.type)?($=c(S,O.props),$.ref=Lo(x,S,O),$.return=x,$):($=Ua(O.type,O.key,O.props,null,x.mode,$),$.ref=Lo(x,S,O),$.return=x,$)}function N(x,S,O,$){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=Af(O,x.mode,$),S.return=x,S):(S=c(S,O.children||[]),S.return=x,S)}function z(x,S,O,$,re){return S===null||S.tag!==7?(S=Hi(O,x.mode,$,re),S.return=x,S):(S=c(S,O),S.return=x,S)}function j(x,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Of(""+S,x.mode,O),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case P:return O=Ua(S.type,S.key,S.props,null,x.mode,O),O.ref=Lo(x,null,S),O.return=x,O;case K:return S=Af(S,x.mode,O),S.return=x,S;case mt:var $=S._init;return j(x,$(S._payload),O)}if(Ti(S)||oe(S))return S=Hi(S,x.mode,O,null),S.return=x,S;ya(x,S)}return null}function U(x,S,O,$){var re=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return re!==null?null:g(x,S,""+O,$);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return O.key===re?_(x,S,O,$):null;case K:return O.key===re?N(x,S,O,$):null;case mt:return re=O._init,U(x,S,re(O._payload),$)}if(Ti(O)||oe(O))return re!==null?null:z(x,S,O,$,null);ya(x,O)}return null}function Y(x,S,O,$,re){if(typeof $=="string"&&$!==""||typeof $=="number")return x=x.get(O)||null,g(S,x,""+$,re);if(typeof $=="object"&&$!==null){switch($.$$typeof){case P:return x=x.get($.key===null?O:$.key)||null,_(S,x,$,re);case K:return x=x.get($.key===null?O:$.key)||null,N(S,x,$,re);case mt:var ue=$._init;return Y(x,S,O,ue($._payload),re)}if(Ti($)||oe($))return x=x.get(O)||null,z(S,x,$,re,null);ya(S,$)}return null}function G(x,S,O,$){for(var re=null,ue=null,ce=S,he=S=0,Dt=null;ce!==null&&he<O.length;he++){ce.index>he?(Dt=ce,ce=null):Dt=ce.sibling;var Re=U(x,ce,O[he],$);if(Re===null){ce===null&&(ce=Dt);break}n&&ce&&Re.alternate===null&&i(x,ce),S=d(Re,S,he),ue===null?re=Re:ue.sibling=Re,ue=Re,ce=Dt}if(he===O.length)return o(x,ce),ot&&Ri(x,he),re;if(ce===null){for(;he<O.length;he++)ce=j(x,O[he],$),ce!==null&&(S=d(ce,S,he),ue===null?re=ce:ue.sibling=ce,ue=ce);return ot&&Ri(x,he),re}for(ce=a(x,ce);he<O.length;he++)Dt=Y(ce,x,he,O[he],$),Dt!==null&&(n&&Dt.alternate!==null&&ce.delete(Dt.key===null?he:Dt.key),S=d(Dt,S,he),ue===null?re=Dt:ue.sibling=Dt,ue=Dt);return n&&ce.forEach(function(di){return i(x,di)}),ot&&Ri(x,he),re}function X(x,S,O,$){var re=oe(O);if(typeof re!="function")throw Error(t(150));if(O=re.call(O),O==null)throw Error(t(151));for(var ue=re=null,ce=S,he=S=0,Dt=null,Re=O.next();ce!==null&&!Re.done;he++,Re=O.next()){ce.index>he?(Dt=ce,ce=null):Dt=ce.sibling;var di=U(x,ce,Re.value,$);if(di===null){ce===null&&(ce=Dt);break}n&&ce&&di.alternate===null&&i(x,ce),S=d(di,S,he),ue===null?re=di:ue.sibling=di,ue=di,ce=Dt}if(Re.done)return o(x,ce),ot&&Ri(x,he),re;if(ce===null){for(;!Re.done;he++,Re=O.next())Re=j(x,Re.value,$),Re!==null&&(S=d(Re,S,he),ue===null?re=Re:ue.sibling=Re,ue=Re);return ot&&Ri(x,he),re}for(ce=a(x,ce);!Re.done;he++,Re=O.next())Re=Y(ce,x,he,Re.value,$),Re!==null&&(n&&Re.alternate!==null&&ce.delete(Re.key===null?he:Re.key),S=d(Re,S,he),ue===null?re=Re:ue.sibling=Re,ue=Re);return n&&ce.forEach(function(U_){return i(x,U_)}),ot&&Ri(x,he),re}function vt(x,S,O,$){if(typeof O=="object"&&O!==null&&O.type===me&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case P:e:{for(var re=O.key,ue=S;ue!==null;){if(ue.key===re){if(re=O.type,re===me){if(ue.tag===7){o(x,ue.sibling),S=c(ue,O.props.children),S.return=x,x=S;break e}}else if(ue.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===mt&&yp(re)===ue.type){o(x,ue.sibling),S=c(ue,O.props),S.ref=Lo(x,ue,O),S.return=x,x=S;break e}o(x,ue);break}else i(x,ue);ue=ue.sibling}O.type===me?(S=Hi(O.props.children,x.mode,$,O.key),S.return=x,x=S):($=Ua(O.type,O.key,O.props,null,x.mode,$),$.ref=Lo(x,S,O),$.return=x,x=$)}return y(x);case K:e:{for(ue=O.key;S!==null;){if(S.key===ue)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){o(x,S.sibling),S=c(S,O.children||[]),S.return=x,x=S;break e}else{o(x,S);break}else i(x,S);S=S.sibling}S=Af(O,x.mode,$),S.return=x,x=S}return y(x);case mt:return ue=O._init,vt(x,S,ue(O._payload),$)}if(Ti(O))return G(x,S,O,$);if(oe(O))return X(x,S,O,$);ya(x,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,S!==null&&S.tag===6?(o(x,S.sibling),S=c(S,O),S.return=x,x=S):(o(x,S),S=Of(O,x.mode,$),S.return=x,x=S),y(x)):o(x,S)}return vt}var Cs=mp(!0),gp=mp(!1),ma=ti(null),ga=null,xs=null,Lc=null;function Rc(){Lc=xs=ga=null}function Uc(n){var i=ma.current;rt(ma),n._currentValue=i}function zc(n,i,o){for(;n!==null;){var a=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),n===o)break;n=n.return}}function Os(n,i){ga=n,Lc=xs=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(sn=!0),n.firstContext=null)}function Bn(n){var i=n._currentValue;if(Lc!==n)if(n={context:n,memoizedValue:i,next:null},xs===null){if(ga===null)throw Error(t(308));xs=n,ga.dependencies={lanes:0,firstContext:n}}else xs=xs.next=n;return i}var Ui=null;function jc(n){Ui===null?Ui=[n]:Ui.push(n)}function vp(n,i,o,a){var c=i.interleaved;return c===null?(o.next=o,jc(i)):(o.next=c.next,c.next=o),i.interleaved=o,Cr(n,a)}function Cr(n,i){n.lanes|=i;var o=n.alternate;for(o!==null&&(o.lanes|=i),o=n,n=n.return;n!==null;)n.childLanes|=i,o=n.alternate,o!==null&&(o.childLanes|=i),o=n,n=n.return;return o.tag===3?o.stateNode:null}var ii=!1;function $c(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _p(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function xr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function si(n,i,o){var a=n.updateQueue;if(a===null)return null;if(a=a.shared,(Le&2)!==0){var c=a.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),a.pending=i,Cr(n,o)}return c=a.interleaved,c===null?(i.next=i,jc(a)):(i.next=c.next,c.next=i),a.interleaved=i,Cr(n,o)}function va(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var a=i.lanes;a&=n.pendingLanes,o|=a,i.lanes=o,nc(n,o)}}function wp(n,i){var o=n.updateQueue,a=n.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var c=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};d===null?c=d=y:d=d.next=y,o=o.next}while(o!==null);d===null?c=d=i:d=d.next=i}else c=d=i;o={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:a.shared,effects:a.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}function _a(n,i,o,a){var c=n.updateQueue;ii=!1;var d=c.firstBaseUpdate,y=c.lastBaseUpdate,g=c.shared.pending;if(g!==null){c.shared.pending=null;var _=g,N=_.next;_.next=null,y===null?d=N:y.next=N,y=_;var z=n.alternate;z!==null&&(z=z.updateQueue,g=z.lastBaseUpdate,g!==y&&(g===null?z.firstBaseUpdate=N:g.next=N,z.lastBaseUpdate=_))}if(d!==null){var j=c.baseState;y=0,z=N=_=null,g=d;do{var U=g.lane,Y=g.eventTime;if((a&U)===U){z!==null&&(z=z.next={eventTime:Y,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var G=n,X=g;switch(U=i,Y=o,X.tag){case 1:if(G=X.payload,typeof G=="function"){j=G.call(Y,j,U);break e}j=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=X.payload,U=typeof G=="function"?G.call(Y,j,U):G,U==null)break e;j=q({},j,U);break e;case 2:ii=!0}}g.callback!==null&&g.lane!==0&&(n.flags|=64,U=c.effects,U===null?c.effects=[g]:U.push(g))}else Y={eventTime:Y,lane:U,tag:g.tag,payload:g.payload,callback:g.callback,next:null},z===null?(N=z=Y,_=j):z=z.next=Y,y|=U;if(g=g.next,g===null){if(g=c.shared.pending,g===null)break;U=g,g=U.next,U.next=null,c.lastBaseUpdate=U,c.shared.pending=null}}while(!0);if(z===null&&(_=j),c.baseState=_,c.firstBaseUpdate=N,c.lastBaseUpdate=z,i=c.shared.interleaved,i!==null){c=i;do y|=c.lane,c=c.next;while(c!==i)}else d===null&&(c.shared.lanes=0);$i|=y,n.lanes=y,n.memoizedState=j}}function Sp(n,i,o){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var a=n[i],c=a.callback;if(c!==null){if(a.callback=null,a=o,typeof c!="function")throw Error(t(191,c));c.call(a)}}}var Ro={},rr=ti(Ro),Uo=ti(Ro),zo=ti(Ro);function zi(n){if(n===Ro)throw Error(t(174));return n}function Vc(n,i){switch(et(zo,i),et(Uo,n),et(rr,Ro),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:cs(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=cs(i,n)}rt(rr),et(rr,i)}function As(){rt(rr),rt(Uo),rt(zo)}function bp(n){zi(zo.current);var i=zi(rr.current),o=cs(i,n.type);i!==o&&(et(Uo,n),et(rr,o))}function Wc(n){Uo.current===n&&(rt(rr),rt(Uo))}var ut=ti(0);function wa(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Kc=[];function Hc(){for(var n=0;n<Kc.length;n++)Kc[n]._workInProgressVersionPrimary=null;Kc.length=0}var Sa=Te.ReactCurrentDispatcher,qc=Te.ReactCurrentBatchConfig,ji=0,ct=null,kt=null,Nt=null,ba=!1,jo=!1,$o=0,l_=0;function $t(){throw Error(t(321))}function Yc(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!Hn(n[o],i[o]))return!1;return!0}function Qc(n,i,o,a,c,d){if(ji=d,ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Sa.current=n===null||n.memoizedState===null?f_:d_,n=o(a,c),jo){d=0;do{if(jo=!1,$o=0,25<=d)throw Error(t(301));d+=1,Nt=kt=null,i.updateQueue=null,Sa.current=h_,n=o(a,c)}while(jo)}if(Sa.current=Ea,i=kt!==null&&kt.next!==null,ji=0,Nt=kt=ct=null,ba=!1,i)throw Error(t(300));return n}function Gc(){var n=$o!==0;return $o=0,n}function ir(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ct.memoizedState=Nt=n:Nt=Nt.next=n,Nt}function Mn(){if(kt===null){var n=ct.alternate;n=n!==null?n.memoizedState:null}else n=kt.next;var i=Nt===null?ct.memoizedState:Nt.next;if(i!==null)Nt=i,kt=n;else{if(n===null)throw Error(t(310));kt=n,n={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},Nt===null?ct.memoizedState=Nt=n:Nt=Nt.next=n}return Nt}function Vo(n,i){return typeof i=="function"?i(n):i}function Jc(n){var i=Mn(),o=i.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var a=kt,c=a.baseQueue,d=o.pending;if(d!==null){if(c!==null){var y=c.next;c.next=d.next,d.next=y}a.baseQueue=c=d,o.pending=null}if(c!==null){d=c.next,a=a.baseState;var g=y=null,_=null,N=d;do{var z=N.lane;if((ji&z)===z)_!==null&&(_=_.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),a=N.hasEagerState?N.eagerState:n(a,N.action);else{var j={lane:z,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};_===null?(g=_=j,y=a):_=_.next=j,ct.lanes|=z,$i|=z}N=N.next}while(N!==null&&N!==d);_===null?y=a:_.next=g,Hn(a,i.memoizedState)||(sn=!0),i.memoizedState=a,i.baseState=y,i.baseQueue=_,o.lastRenderedState=a}if(n=o.interleaved,n!==null){c=n;do d=c.lane,ct.lanes|=d,$i|=d,c=c.next;while(c!==n)}else c===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function Zc(n){var i=Mn(),o=i.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var a=o.dispatch,c=o.pending,d=i.memoizedState;if(c!==null){o.pending=null;var y=c=c.next;do d=n(d,y.action),y=y.next;while(y!==c);Hn(d,i.memoizedState)||(sn=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),o.lastRenderedState=d}return[d,a]}function Ip(){}function kp(n,i){var o=ct,a=Mn(),c=i(),d=!Hn(a.memoizedState,c);if(d&&(a.memoizedState=c,sn=!0),a=a.queue,Xc(xp.bind(null,o,a,n),[n]),a.getSnapshot!==i||d||Nt!==null&&Nt.memoizedState.tag&1){if(o.flags|=2048,Wo(9,Cp.bind(null,o,a,c,i),void 0,null),Tt===null)throw Error(t(349));(ji&30)!==0||Ep(o,i,c)}return c}function Ep(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=ct.updateQueue,i===null?(i={lastEffect:null,stores:null},ct.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function Cp(n,i,o,a){i.value=o,i.getSnapshot=a,Op(i)&&Ap(n)}function xp(n,i,o){return o(function(){Op(i)&&Ap(n)})}function Op(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!Hn(n,o)}catch{return!0}}function Ap(n){var i=Cr(n,1);i!==null&&Jn(i,n,1,-1)}function Np(n){var i=ir();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:n},i.queue=n,n=n.dispatch=c_.bind(null,ct,n),[i.memoizedState,n]}function Wo(n,i,o,a){return n={tag:n,create:i,destroy:o,deps:a,next:null},i=ct.updateQueue,i===null?(i={lastEffect:null,stores:null},ct.updateQueue=i,i.lastEffect=n.next=n):(o=i.lastEffect,o===null?i.lastEffect=n.next=n:(a=o.next,o.next=n,n.next=a,i.lastEffect=n)),n}function Tp(){return Mn().memoizedState}function Ia(n,i,o,a){var c=ir();ct.flags|=n,c.memoizedState=Wo(1|i,o,void 0,a===void 0?null:a)}function ka(n,i,o,a){var c=Mn();a=a===void 0?null:a;var d=void 0;if(kt!==null){var y=kt.memoizedState;if(d=y.destroy,a!==null&&Yc(a,y.deps)){c.memoizedState=Wo(i,o,d,a);return}}ct.flags|=n,c.memoizedState=Wo(1|i,o,d,a)}function Dp(n,i){return Ia(8390656,8,n,i)}function Xc(n,i){return ka(2048,8,n,i)}function Fp(n,i){return ka(4,2,n,i)}function Bp(n,i){return ka(4,4,n,i)}function Mp(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Pp(n,i,o){return o=o!=null?o.concat([n]):null,ka(4,4,Mp.bind(null,i,n),o)}function ef(){}function Lp(n,i){var o=Mn();i=i===void 0?null:i;var a=o.memoizedState;return a!==null&&i!==null&&Yc(i,a[1])?a[0]:(o.memoizedState=[n,i],n)}function Rp(n,i){var o=Mn();i=i===void 0?null:i;var a=o.memoizedState;return a!==null&&i!==null&&Yc(i,a[1])?a[0]:(n=n(),o.memoizedState=[n,i],n)}function Up(n,i,o){return(ji&21)===0?(n.baseState&&(n.baseState=!1,sn=!0),n.memoizedState=o):(Hn(o,i)||(o=yh(),ct.lanes|=o,$i|=o,n.baseState=!0),i)}function a_(n,i){var o=Qe;Qe=o!==0&&4>o?o:4,n(!0);var a=qc.transition;qc.transition={};try{n(!1),i()}finally{Qe=o,qc.transition=a}}function zp(){return Mn().memoizedState}function u_(n,i,o){var a=ui(n);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},jp(n))$p(i,o);else if(o=vp(n,i,o,a),o!==null){var c=Gt();Jn(o,n,a,c),Vp(o,i,a)}}function c_(n,i,o){var a=ui(n),c={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(jp(n))$p(i,c);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,g=d(y,o);if(c.hasEagerState=!0,c.eagerState=g,Hn(g,y)){var _=i.interleaved;_===null?(c.next=c,jc(i)):(c.next=_.next,_.next=c),i.interleaved=c;return}}catch{}o=vp(n,i,c,a),o!==null&&(c=Gt(),Jn(o,n,a,c),Vp(o,i,a))}}function jp(n){var i=n.alternate;return n===ct||i!==null&&i===ct}function $p(n,i){jo=ba=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function Vp(n,i,o){if((o&4194240)!==0){var a=i.lanes;a&=n.pendingLanes,o|=a,i.lanes=o,nc(n,o)}}var Ea={readContext:Bn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},f_={readContext:Bn,useCallback:function(n,i){return ir().memoizedState=[n,i===void 0?null:i],n},useContext:Bn,useEffect:Dp,useImperativeHandle:function(n,i,o){return o=o!=null?o.concat([n]):null,Ia(4194308,4,Mp.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Ia(4194308,4,n,i)},useInsertionEffect:function(n,i){return Ia(4,2,n,i)},useMemo:function(n,i){var o=ir();return i=i===void 0?null:i,n=n(),o.memoizedState=[n,i],n},useReducer:function(n,i,o){var a=ir();return i=o!==void 0?o(i):i,a.memoizedState=a.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},a.queue=n,n=n.dispatch=u_.bind(null,ct,n),[a.memoizedState,n]},useRef:function(n){var i=ir();return n={current:n},i.memoizedState=n},useState:Np,useDebugValue:ef,useDeferredValue:function(n){return ir().memoizedState=n},useTransition:function(){var n=Np(!1),i=n[0];return n=a_.bind(null,n[1]),ir().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,o){var a=ct,c=ir();if(ot){if(o===void 0)throw Error(t(407));o=o()}else{if(o=i(),Tt===null)throw Error(t(349));(ji&30)!==0||Ep(a,i,o)}c.memoizedState=o;var d={value:o,getSnapshot:i};return c.queue=d,Dp(xp.bind(null,a,d,n),[n]),a.flags|=2048,Wo(9,Cp.bind(null,a,d,o,i),void 0,null),o},useId:function(){var n=ir(),i=Tt.identifierPrefix;if(ot){var o=Er,a=kr;o=(a&~(1<<32-E(a)-1)).toString(32)+o,i=":"+i+"R"+o,o=$o++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=l_++,i=":"+i+"r"+o.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},d_={readContext:Bn,useCallback:Lp,useContext:Bn,useEffect:Xc,useImperativeHandle:Pp,useInsertionEffect:Fp,useLayoutEffect:Bp,useMemo:Rp,useReducer:Jc,useRef:Tp,useState:function(){return Jc(Vo)},useDebugValue:ef,useDeferredValue:function(n){var i=Mn();return Up(i,kt.memoizedState,n)},useTransition:function(){var n=Jc(Vo)[0],i=Mn().memoizedState;return[n,i]},useMutableSource:Ip,useSyncExternalStore:kp,useId:zp,unstable_isNewReconciler:!1},h_={readContext:Bn,useCallback:Lp,useContext:Bn,useEffect:Xc,useImperativeHandle:Pp,useInsertionEffect:Fp,useLayoutEffect:Bp,useMemo:Rp,useReducer:Zc,useRef:Tp,useState:function(){return Zc(Vo)},useDebugValue:ef,useDeferredValue:function(n){var i=Mn();return kt===null?i.memoizedState=n:Up(i,kt.memoizedState,n)},useTransition:function(){var n=Zc(Vo)[0],i=Mn().memoizedState;return[n,i]},useMutableSource:Ip,useSyncExternalStore:kp,useId:zp,unstable_isNewReconciler:!1};function Yn(n,i){if(n&&n.defaultProps){i=q({},i),n=n.defaultProps;for(var o in n)i[o]===void 0&&(i[o]=n[o]);return i}return i}function tf(n,i,o,a){i=n.memoizedState,o=o(a,i),o=o==null?i:q({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Ca={isMounted:function(n){return(n=n._reactInternals)?Z(n)===n:!1},enqueueSetState:function(n,i,o){n=n._reactInternals;var a=Gt(),c=ui(n),d=xr(a,c);d.payload=i,o!=null&&(d.callback=o),i=si(n,d,c),i!==null&&(Jn(i,n,c,a),va(i,n,c))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var a=Gt(),c=ui(n),d=xr(a,c);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=si(n,d,c),i!==null&&(Jn(i,n,c,a),va(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Gt(),a=ui(n),c=xr(o,a);c.tag=2,i!=null&&(c.callback=i),i=si(n,c,a),i!==null&&(Jn(i,n,a,o),va(i,n,a))}};function Wp(n,i,o,a,c,d,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(a,d,y):i.prototype&&i.prototype.isPureReactComponent?!No(o,a)||!No(c,d):!0}function Kp(n,i,o){var a=!1,c=ni,d=i.contextType;return typeof d=="object"&&d!==null?d=Bn(d):(c=rn(i)?Pi:jt.current,a=i.contextTypes,d=(a=a!=null)?bs(n,c):ni),i=new i(o,d),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ca,n.stateNode=i,i._reactInternals=n,a&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=c,n.__reactInternalMemoizedMaskedChildContext=d),i}function Hp(n,i,o,a){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,a),i.state!==n&&Ca.enqueueReplaceState(i,i.state,null)}function nf(n,i,o,a){var c=n.stateNode;c.props=o,c.state=n.memoizedState,c.refs={},$c(n);var d=i.contextType;typeof d=="object"&&d!==null?c.context=Bn(d):(d=rn(i)?Pi:jt.current,c.context=bs(n,d)),c.state=n.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(tf(n,i,d,o),c.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(i=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),i!==c.state&&Ca.enqueueReplaceState(c,c.state,null),_a(n,o,c,a),c.state=n.memoizedState),typeof c.componentDidMount=="function"&&(n.flags|=4194308)}function Ns(n,i){try{var o="",a=i;do o+=b(a),a=a.return;while(a);var c=o}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:n,source:i,stack:c,digest:null}}function rf(n,i,o){return{value:n,source:null,stack:o??null,digest:i??null}}function sf(n,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var p_=typeof WeakMap=="function"?WeakMap:Map;function qp(n,i,o){o=xr(-1,o),o.tag=3,o.payload={element:null};var a=i.value;return o.callback=function(){Fa||(Fa=!0,wf=a),sf(n,i)},o}function Yp(n,i,o){o=xr(-1,o),o.tag=3;var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var c=i.value;o.payload=function(){return a(c)},o.callback=function(){sf(n,i)}}var d=n.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(o.callback=function(){sf(n,i),typeof a!="function"&&(li===null?li=new Set([this]):li.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})}),o}function Qp(n,i,o){var a=n.pingCache;if(a===null){a=n.pingCache=new p_;var c=new Set;a.set(i,c)}else c=a.get(i),c===void 0&&(c=new Set,a.set(i,c));c.has(o)||(c.add(o),n=O_.bind(null,n,i,o),i.then(n,n))}function Gp(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Jp(n,i,o,a,c){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=xr(-1,1),i.tag=2,si(o,i,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=c,n)}var y_=Te.ReactCurrentOwner,sn=!1;function Qt(n,i,o,a){i.child=n===null?gp(i,null,o,a):Cs(i,n.child,o,a)}function Zp(n,i,o,a,c){o=o.render;var d=i.ref;return Os(i,c),a=Qc(n,i,o,a,d,c),o=Gc(),n!==null&&!sn?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~c,Or(n,i,c)):(ot&&o&&Dc(i),i.flags|=1,Qt(n,i,a,c),i.child)}function Xp(n,i,o,a,c){if(n===null){var d=o.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=d,ey(n,i,d,a,c)):(n=Ua(o.type,null,a,i,i.mode,c),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,(n.lanes&c)===0){var y=d.memoizedProps;if(o=o.compare,o=o!==null?o:No,o(y,a)&&n.ref===i.ref)return Or(n,i,c)}return i.flags|=1,n=fi(d,a),n.ref=i.ref,n.return=i,i.child=n}function ey(n,i,o,a,c){if(n!==null){var d=n.memoizedProps;if(No(d,a)&&n.ref===i.ref)if(sn=!1,i.pendingProps=a=d,(n.lanes&c)!==0)(n.flags&131072)!==0&&(sn=!0);else return i.lanes=n.lanes,Or(n,i,c)}return of(n,i,o,a,c)}function ty(n,i,o){var a=i.pendingProps,c=a.children,d=n!==null?n.memoizedState:null;if(a.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Ds,In),In|=o;else{if((o&1073741824)===0)return n=d!==null?d.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,et(Ds,In),In|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:o,et(Ds,In),In|=a}else d!==null?(a=d.baseLanes|o,i.memoizedState=null):a=o,et(Ds,In),In|=a;return Qt(n,i,c,o),i.child}function ny(n,i){var o=i.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function of(n,i,o,a,c){var d=rn(o)?Pi:jt.current;return d=bs(i,d),Os(i,c),o=Qc(n,i,o,a,d,c),a=Gc(),n!==null&&!sn?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~c,Or(n,i,c)):(ot&&a&&Dc(i),i.flags|=1,Qt(n,i,o,c),i.child)}function ry(n,i,o,a,c){if(rn(o)){var d=!0;ca(i)}else d=!1;if(Os(i,c),i.stateNode===null)Oa(n,i),Kp(i,o,a),nf(i,o,a,c),a=!0;else if(n===null){var y=i.stateNode,g=i.memoizedProps;y.props=g;var _=y.context,N=o.contextType;typeof N=="object"&&N!==null?N=Bn(N):(N=rn(o)?Pi:jt.current,N=bs(i,N));var z=o.getDerivedStateFromProps,j=typeof z=="function"||typeof y.getSnapshotBeforeUpdate=="function";j||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(g!==a||_!==N)&&Hp(i,y,a,N),ii=!1;var U=i.memoizedState;y.state=U,_a(i,a,y,c),_=i.memoizedState,g!==a||U!==_||nn.current||ii?(typeof z=="function"&&(tf(i,o,z,a),_=i.memoizedState),(g=ii||Wp(i,o,g,a,U,_,N))?(j||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=_),y.props=a,y.state=_,y.context=N,a=g):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{y=i.stateNode,_p(n,i),g=i.memoizedProps,N=i.type===i.elementType?g:Yn(i.type,g),y.props=N,j=i.pendingProps,U=y.context,_=o.contextType,typeof _=="object"&&_!==null?_=Bn(_):(_=rn(o)?Pi:jt.current,_=bs(i,_));var Y=o.getDerivedStateFromProps;(z=typeof Y=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(g!==j||U!==_)&&Hp(i,y,a,_),ii=!1,U=i.memoizedState,y.state=U,_a(i,a,y,c);var G=i.memoizedState;g!==j||U!==G||nn.current||ii?(typeof Y=="function"&&(tf(i,o,Y,a),G=i.memoizedState),(N=ii||Wp(i,o,N,a,U,G,_)||!1)?(z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(a,G,_),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(a,G,_)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||g===n.memoizedProps&&U===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||g===n.memoizedProps&&U===n.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=G),y.props=a,y.state=G,y.context=_,a=N):(typeof y.componentDidUpdate!="function"||g===n.memoizedProps&&U===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||g===n.memoizedProps&&U===n.memoizedState||(i.flags|=1024),a=!1)}return lf(n,i,o,a,d,c)}function lf(n,i,o,a,c,d){ny(n,i);var y=(i.flags&128)!==0;if(!a&&!y)return c&&ap(i,o,!1),Or(n,i,d);a=i.stateNode,y_.current=i;var g=y&&typeof o.getDerivedStateFromError!="function"?null:a.render();return i.flags|=1,n!==null&&y?(i.child=Cs(i,n.child,null,d),i.child=Cs(i,null,g,d)):Qt(n,i,g,d),i.memoizedState=a.state,c&&ap(i,o,!0),i.child}function iy(n){var i=n.stateNode;i.pendingContext?op(n,i.pendingContext,i.pendingContext!==i.context):i.context&&op(n,i.context,!1),Vc(n,i.containerInfo)}function sy(n,i,o,a,c){return Es(),Pc(c),i.flags|=256,Qt(n,i,o,a),i.child}var af={dehydrated:null,treeContext:null,retryLane:0};function uf(n){return{baseLanes:n,cachePool:null,transitions:null}}function oy(n,i,o){var a=i.pendingProps,c=ut.current,d=!1,y=(i.flags&128)!==0,g;if((g=y)||(g=n!==null&&n.memoizedState===null?!1:(c&2)!==0),g?(d=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(c|=1),et(ut,c&1),n===null)return Mc(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(y=a.children,n=a.fallback,d?(a=i.mode,d=i.child,y={mode:"hidden",children:y},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=y):d=za(y,a,0,null),n=Hi(n,a,o,null),d.return=i,n.return=i,d.sibling=n,i.child=d,i.child.memoizedState=uf(o),i.memoizedState=af,n):cf(i,y));if(c=n.memoizedState,c!==null&&(g=c.dehydrated,g!==null))return m_(n,i,y,a,g,c,o);if(d){d=a.fallback,y=i.mode,c=n.child,g=c.sibling;var _={mode:"hidden",children:a.children};return(y&1)===0&&i.child!==c?(a=i.child,a.childLanes=0,a.pendingProps=_,i.deletions=null):(a=fi(c,_),a.subtreeFlags=c.subtreeFlags&14680064),g!==null?d=fi(g,d):(d=Hi(d,y,o,null),d.flags|=2),d.return=i,a.return=i,a.sibling=d,i.child=a,a=d,d=i.child,y=n.child.memoizedState,y=y===null?uf(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},d.memoizedState=y,d.childLanes=n.childLanes&~o,i.memoizedState=af,a}return d=n.child,n=d.sibling,a=fi(d,{mode:"visible",children:a.children}),(i.mode&1)===0&&(a.lanes=o),a.return=i,a.sibling=null,n!==null&&(o=i.deletions,o===null?(i.deletions=[n],i.flags|=16):o.push(n)),i.child=a,i.memoizedState=null,a}function cf(n,i){return i=za({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function xa(n,i,o,a){return a!==null&&Pc(a),Cs(i,n.child,null,o),n=cf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function m_(n,i,o,a,c,d,y){if(o)return i.flags&256?(i.flags&=-257,a=rf(Error(t(422))),xa(n,i,y,a)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(d=a.fallback,c=i.mode,a=za({mode:"visible",children:a.children},c,0,null),d=Hi(d,c,y,null),d.flags|=2,a.return=i,d.return=i,a.sibling=d,i.child=a,(i.mode&1)!==0&&Cs(i,n.child,null,y),i.child.memoizedState=uf(y),i.memoizedState=af,d);if((i.mode&1)===0)return xa(n,i,y,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var g=a.dgst;return a=g,d=Error(t(419)),a=rf(d,a,void 0),xa(n,i,y,a)}if(g=(y&n.childLanes)!==0,sn||g){if(a=Tt,a!==null){switch(y&-y){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|y))!==0?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,Cr(n,c),Jn(a,n,c,-1))}return Cf(),a=rf(Error(t(421))),xa(n,i,y,a)}return c.data==="$?"?(i.flags|=128,i.child=n.child,i=A_.bind(null,n),c._reactRetry=i,null):(n=d.treeContext,bn=ei(c.nextSibling),Sn=i,ot=!0,qn=null,n!==null&&(Dn[Fn++]=kr,Dn[Fn++]=Er,Dn[Fn++]=Li,kr=n.id,Er=n.overflow,Li=i),i=cf(i,a.children),i.flags|=4096,i)}function ly(n,i,o){n.lanes|=i;var a=n.alternate;a!==null&&(a.lanes|=i),zc(n.return,i,o)}function ff(n,i,o,a,c){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:c}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=o,d.tailMode=c)}function ay(n,i,o){var a=i.pendingProps,c=a.revealOrder,d=a.tail;if(Qt(n,i,a.children,o),a=ut.current,(a&2)!==0)a=a&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ly(n,o,i);else if(n.tag===19)ly(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}a&=1}if(et(ut,a),(i.mode&1)===0)i.memoizedState=null;else switch(c){case"forwards":for(o=i.child,c=null;o!==null;)n=o.alternate,n!==null&&wa(n)===null&&(c=o),o=o.sibling;o=c,o===null?(c=i.child,i.child=null):(c=o.sibling,o.sibling=null),ff(i,!1,c,o,d);break;case"backwards":for(o=null,c=i.child,i.child=null;c!==null;){if(n=c.alternate,n!==null&&wa(n)===null){i.child=c;break}n=c.sibling,c.sibling=o,o=c,c=n}ff(i,!0,o,null,d);break;case"together":ff(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Oa(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Or(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),$i|=i.lanes,(o&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,o=fi(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=fi(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function g_(n,i,o){switch(i.tag){case 3:iy(i),Es();break;case 5:bp(i);break;case 1:rn(i.type)&&ca(i);break;case 4:Vc(i,i.stateNode.containerInfo);break;case 10:var a=i.type._context,c=i.memoizedProps.value;et(ma,a._currentValue),a._currentValue=c;break;case 13:if(a=i.memoizedState,a!==null)return a.dehydrated!==null?(et(ut,ut.current&1),i.flags|=128,null):(o&i.child.childLanes)!==0?oy(n,i,o):(et(ut,ut.current&1),n=Or(n,i,o),n!==null?n.sibling:null);et(ut,ut.current&1);break;case 19:if(a=(o&i.childLanes)!==0,(n.flags&128)!==0){if(a)return ay(n,i,o);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(ut,ut.current),a)break;return null;case 22:case 23:return i.lanes=0,ty(n,i,o)}return Or(n,i,o)}var uy,df,cy,fy;uy=function(n,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},df=function(){},cy=function(n,i,o,a){var c=n.memoizedProps;if(c!==a){n=i.stateNode,zi(rr.current);var d=null;switch(o){case"input":c=Ht(n,c),a=Ht(n,a),d=[];break;case"select":c=q({},c,{value:void 0}),a=q({},a,{value:void 0}),d=[];break;case"textarea":c=oo(n,c),a=oo(n,a),d=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(n.onclick=la)}ao(o,a);var y;o=null;for(N in c)if(!a.hasOwnProperty(N)&&c.hasOwnProperty(N)&&c[N]!=null)if(N==="style"){var g=c[N];for(y in g)g.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(l.hasOwnProperty(N)?d||(d=[]):(d=d||[]).push(N,null));for(N in a){var _=a[N];if(g=c?.[N],a.hasOwnProperty(N)&&_!==g&&(_!=null||g!=null))if(N==="style")if(g){for(y in g)!g.hasOwnProperty(y)||_&&_.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in _)_.hasOwnProperty(y)&&g[y]!==_[y]&&(o||(o={}),o[y]=_[y])}else o||(d||(d=[]),d.push(N,o)),o=_;else N==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,g=g?g.__html:void 0,_!=null&&g!==_&&(d=d||[]).push(N,_)):N==="children"?typeof _!="string"&&typeof _!="number"||(d=d||[]).push(N,""+_):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(l.hasOwnProperty(N)?(_!=null&&N==="onScroll"&&nt("scroll",n),d||g===_||(d=[])):(d=d||[]).push(N,_))}o&&(d=d||[]).push("style",o);var N=d;(i.updateQueue=N)&&(i.flags|=4)}},fy=function(n,i,o,a){o!==a&&(i.flags|=4)};function Ko(n,i){if(!ot)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:a.sibling=null}}function Vt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,a=0;if(i)for(var c=n.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=n,c=c.sibling;else for(c=n.child;c!==null;)o|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=n,c=c.sibling;return n.subtreeFlags|=a,n.childLanes=o,i}function v_(n,i,o){var a=i.pendingProps;switch(Fc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(i),null;case 1:return rn(i.type)&&ua(),Vt(i),null;case 3:return a=i.stateNode,As(),rt(nn),rt(jt),Hc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(pa(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qn!==null&&(If(qn),qn=null))),df(n,i),Vt(i),null;case 5:Wc(i);var c=zi(zo.current);if(o=i.type,n!==null&&i.stateNode!=null)cy(n,i,o,a,c),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!a){if(i.stateNode===null)throw Error(t(166));return Vt(i),null}if(n=zi(rr.current),pa(i)){a=i.stateNode,o=i.type;var d=i.memoizedProps;switch(a[nr]=i,a[Mo]=d,n=(i.mode&1)!==0,o){case"dialog":nt("cancel",a),nt("close",a);break;case"iframe":case"object":case"embed":nt("load",a);break;case"video":case"audio":for(c=0;c<Do.length;c++)nt(Do[c],a);break;case"source":nt("error",a);break;case"img":case"image":case"link":nt("error",a),nt("load",a);break;case"details":nt("toggle",a);break;case"input":no(a,d),nt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},nt("invalid",a);break;case"textarea":lo(a,d),nt("invalid",a)}ao(o,d),c=null;for(var y in d)if(d.hasOwnProperty(y)){var g=d[y];y==="children"?typeof g=="string"?a.textContent!==g&&(d.suppressHydrationWarning!==!0&&oa(a.textContent,g,n),c=["children",g]):typeof g=="number"&&a.textContent!==""+g&&(d.suppressHydrationWarning!==!0&&oa(a.textContent,g,n),c=["children",""+g]):l.hasOwnProperty(y)&&g!=null&&y==="onScroll"&&nt("scroll",a)}switch(o){case"input":It(a),io(a,d,!0);break;case"textarea":It(a),Ol(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=la)}a=c,i.updateQueue=a,a!==null&&(i.flags|=4)}else{y=c.nodeType===9?c:c.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Al(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=y.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof a.is=="string"?n=y.createElement(o,{is:a.is}):(n=y.createElement(o),o==="select"&&(y=n,a.multiple?y.multiple=!0:a.size&&(y.size=a.size))):n=y.createElementNS(n,o),n[nr]=i,n[Mo]=a,uy(n,i,!1,!1),i.stateNode=n;e:{switch(y=ds(o,a),o){case"dialog":nt("cancel",n),nt("close",n),c=a;break;case"iframe":case"object":case"embed":nt("load",n),c=a;break;case"video":case"audio":for(c=0;c<Do.length;c++)nt(Do[c],n);c=a;break;case"source":nt("error",n),c=a;break;case"img":case"image":case"link":nt("error",n),nt("load",n),c=a;break;case"details":nt("toggle",n),c=a;break;case"input":no(n,a),c=Ht(n,a),nt("invalid",n);break;case"option":c=a;break;case"select":n._wrapperState={wasMultiple:!!a.multiple},c=q({},a,{value:void 0}),nt("invalid",n);break;case"textarea":lo(n,a),c=oo(n,a),nt("invalid",n);break;default:c=a}ao(o,c),g=c;for(d in g)if(g.hasOwnProperty(d)){var _=g[d];d==="style"?Dl(n,_):d==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Nl(n,_)):d==="children"?typeof _=="string"?(o!=="textarea"||_!=="")&&Di(n,_):typeof _=="number"&&Di(n,""+_):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?_!=null&&d==="onScroll"&&nt("scroll",n):_!=null&&ae(n,d,_,y))}switch(o){case"input":It(n),io(n,a,!1);break;case"textarea":It(n),Ol(n);break;case"option":a.value!=null&&n.setAttribute("value",""+te(a.value));break;case"select":n.multiple=!!a.multiple,d=a.value,d!=null?Wr(n,!!a.multiple,d,!1):a.defaultValue!=null&&Wr(n,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(n.onclick=la)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Vt(i),null;case 6:if(n&&i.stateNode!=null)fy(n,i,n.memoizedProps,a);else{if(typeof a!="string"&&i.stateNode===null)throw Error(t(166));if(o=zi(zo.current),zi(rr.current),pa(i)){if(a=i.stateNode,o=i.memoizedProps,a[nr]=i,(d=a.nodeValue!==o)&&(n=Sn,n!==null))switch(n.tag){case 3:oa(a.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&oa(a.nodeValue,o,(n.mode&1)!==0)}d&&(i.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[nr]=i,i.stateNode=a}return Vt(i),null;case 13:if(rt(ut),a=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(ot&&bn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)pp(),Es(),i.flags|=98560,d=!1;else if(d=pa(i),a!==null&&a.dehydrated!==null){if(n===null){if(!d)throw Error(t(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(t(317));d[nr]=i}else Es(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Vt(i),d=!1}else qn!==null&&(If(qn),qn=null),d=!0;if(!d)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=o,i):(a=a!==null,a!==(n!==null&&n.memoizedState!==null)&&a&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(ut.current&1)!==0?Et===0&&(Et=3):Cf())),i.updateQueue!==null&&(i.flags|=4),Vt(i),null);case 4:return As(),df(n,i),n===null&&Fo(i.stateNode.containerInfo),Vt(i),null;case 10:return Uc(i.type._context),Vt(i),null;case 17:return rn(i.type)&&ua(),Vt(i),null;case 19:if(rt(ut),d=i.memoizedState,d===null)return Vt(i),null;if(a=(i.flags&128)!==0,y=d.rendering,y===null)if(a)Ko(d,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=wa(n),y!==null){for(i.flags|=128,Ko(d,!1),a=y.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),i.subtreeFlags=0,a=o,o=i.child;o!==null;)d=o,n=a,d.flags&=14680066,y=d.alternate,y===null?(d.childLanes=0,d.lanes=n,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,n=y.dependencies,d.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return et(ut,ut.current&1|2),i.child}n=n.sibling}d.tail!==null&&at()>Fs&&(i.flags|=128,a=!0,Ko(d,!1),i.lanes=4194304)}else{if(!a)if(n=wa(y),n!==null){if(i.flags|=128,a=!0,o=n.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Ko(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!ot)return Vt(i),null}else 2*at()-d.renderingStartTime>Fs&&o!==1073741824&&(i.flags|=128,a=!0,Ko(d,!1),i.lanes=4194304);d.isBackwards?(y.sibling=i.child,i.child=y):(o=d.last,o!==null?o.sibling=y:i.child=y,d.last=y)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=at(),i.sibling=null,o=ut.current,et(ut,a?o&1|2:o&1),i):(Vt(i),null);case 22:case 23:return Ef(),a=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==a&&(i.flags|=8192),a&&(i.mode&1)!==0?(In&1073741824)!==0&&(Vt(i),i.subtreeFlags&6&&(i.flags|=8192)):Vt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function __(n,i){switch(Fc(i),i.tag){case 1:return rn(i.type)&&ua(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return As(),rt(nn),rt(jt),Hc(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return Wc(i),null;case 13:if(rt(ut),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Es()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return rt(ut),null;case 4:return As(),null;case 10:return Uc(i.type._context),null;case 22:case 23:return Ef(),null;case 24:return null;default:return null}}var Aa=!1,Wt=!1,w_=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Ts(n,i){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){pt(n,i,a)}else o.current=null}function hf(n,i,o){try{o()}catch(a){pt(n,i,a)}}var dy=!1;function S_(n,i){if(kc=Ql,n=Wh(),mc(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var c=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var y=0,g=-1,_=-1,N=0,z=0,j=n,U=null;t:for(;;){for(var Y;j!==o||c!==0&&j.nodeType!==3||(g=y+c),j!==d||a!==0&&j.nodeType!==3||(_=y+a),j.nodeType===3&&(y+=j.nodeValue.length),(Y=j.firstChild)!==null;)U=j,j=Y;for(;;){if(j===n)break t;if(U===o&&++N===c&&(g=y),U===d&&++z===a&&(_=y),(Y=j.nextSibling)!==null)break;j=U,U=j.parentNode}j=Y}o=g===-1||_===-1?null:{start:g,end:_}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ec={focusedElem:n,selectionRange:o},Ql=!1,Q=i;Q!==null;)if(i=Q,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Q=n;else for(;Q!==null;){i=Q;try{var G=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(G!==null){var X=G.memoizedProps,vt=G.memoizedState,x=i.stateNode,S=x.getSnapshotBeforeUpdate(i.elementType===i.type?X:Yn(i.type,X),vt);x.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var O=i.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch($){pt(i,i.return,$)}if(n=i.sibling,n!==null){n.return=i.return,Q=n;break}Q=i.return}return G=dy,dy=!1,G}function Ho(n,i,o){var a=i.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&n)===n){var d=c.destroy;c.destroy=void 0,d!==void 0&&hf(i,o,d)}c=c.next}while(c!==a)}}function Na(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&n)===n){var a=o.create;o.destroy=a()}o=o.next}while(o!==i)}}function pf(n){var i=n.ref;if(i!==null){var o=n.stateNode;n.tag,n=o,typeof i=="function"?i(n):i.current=n}}function hy(n){var i=n.alternate;i!==null&&(n.alternate=null,hy(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[nr],delete i[Mo],delete i[Ac],delete i[r_],delete i[i_])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function py(n){return n.tag===5||n.tag===3||n.tag===4}function yy(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||py(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function yf(n,i,o){var a=n.tag;if(a===5||a===6)n=n.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(n,i):o.insertBefore(n,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(n,o)):(i=o,i.appendChild(n)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=la));else if(a!==4&&(n=n.child,n!==null))for(yf(n,i,o),n=n.sibling;n!==null;)yf(n,i,o),n=n.sibling}function mf(n,i,o){var a=n.tag;if(a===5||a===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(a!==4&&(n=n.child,n!==null))for(mf(n,i,o),n=n.sibling;n!==null;)mf(n,i,o),n=n.sibling}var Lt=null,Qn=!1;function oi(n,i,o){for(o=o.child;o!==null;)my(n,i,o),o=o.sibling}function my(n,i,o){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Bi,o)}catch{}switch(o.tag){case 5:Wt||Ts(o,i);case 6:var a=Lt,c=Qn;Lt=null,oi(n,i,o),Lt=a,Qn=c,Lt!==null&&(Qn?(n=Lt,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):Lt.removeChild(o.stateNode));break;case 18:Lt!==null&&(Qn?(n=Lt,o=o.stateNode,n.nodeType===8?Oc(n.parentNode,o):n.nodeType===1&&Oc(n,o),ko(n)):Oc(Lt,o.stateNode));break;case 4:a=Lt,c=Qn,Lt=o.stateNode.containerInfo,Qn=!0,oi(n,i,o),Lt=a,Qn=c;break;case 0:case 11:case 14:case 15:if(!Wt&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var d=c,y=d.destroy;d=d.tag,y!==void 0&&((d&2)!==0||(d&4)!==0)&&hf(o,i,y),c=c.next}while(c!==a)}oi(n,i,o);break;case 1:if(!Wt&&(Ts(o,i),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(g){pt(o,i,g)}oi(n,i,o);break;case 21:oi(n,i,o);break;case 22:o.mode&1?(Wt=(a=Wt)||o.memoizedState!==null,oi(n,i,o),Wt=a):oi(n,i,o);break;default:oi(n,i,o)}}function gy(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new w_),i.forEach(function(a){var c=N_.bind(null,n,a);o.has(a)||(o.add(a),a.then(c,c))})}}function Gn(n,i){var o=i.deletions;if(o!==null)for(var a=0;a<o.length;a++){var c=o[a];try{var d=n,y=i,g=y;e:for(;g!==null;){switch(g.tag){case 5:Lt=g.stateNode,Qn=!1;break e;case 3:Lt=g.stateNode.containerInfo,Qn=!0;break e;case 4:Lt=g.stateNode.containerInfo,Qn=!0;break e}g=g.return}if(Lt===null)throw Error(t(160));my(d,y,c),Lt=null,Qn=!1;var _=c.alternate;_!==null&&(_.return=null),c.return=null}catch(N){pt(c,i,N)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)vy(i,n),i=i.sibling}function vy(n,i){var o=n.alternate,a=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Gn(i,n),sr(n),a&4){try{Ho(3,n,n.return),Na(3,n)}catch(X){pt(n,n.return,X)}try{Ho(5,n,n.return)}catch(X){pt(n,n.return,X)}}break;case 1:Gn(i,n),sr(n),a&512&&o!==null&&Ts(o,o.return);break;case 5:if(Gn(i,n),sr(n),a&512&&o!==null&&Ts(o,o.return),n.flags&32){var c=n.stateNode;try{Di(c,"")}catch(X){pt(n,n.return,X)}}if(a&4&&(c=n.stateNode,c!=null)){var d=n.memoizedProps,y=o!==null?o.memoizedProps:d,g=n.type,_=n.updateQueue;if(n.updateQueue=null,_!==null)try{g==="input"&&d.type==="radio"&&d.name!=null&&Cl(c,d),ds(g,y);var N=ds(g,d);for(y=0;y<_.length;y+=2){var z=_[y],j=_[y+1];z==="style"?Dl(c,j):z==="dangerouslySetInnerHTML"?Nl(c,j):z==="children"?Di(c,j):ae(c,z,j,N)}switch(g){case"input":ro(c,d);break;case"textarea":xl(c,d);break;case"select":var U=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var Y=d.value;Y!=null?Wr(c,!!d.multiple,Y,!1):U!==!!d.multiple&&(d.defaultValue!=null?Wr(c,!!d.multiple,d.defaultValue,!0):Wr(c,!!d.multiple,d.multiple?[]:"",!1))}c[Mo]=d}catch(X){pt(n,n.return,X)}}break;case 6:if(Gn(i,n),sr(n),a&4){if(n.stateNode===null)throw Error(t(162));c=n.stateNode,d=n.memoizedProps;try{c.nodeValue=d}catch(X){pt(n,n.return,X)}}break;case 3:if(Gn(i,n),sr(n),a&4&&o!==null&&o.memoizedState.isDehydrated)try{ko(i.containerInfo)}catch(X){pt(n,n.return,X)}break;case 4:Gn(i,n),sr(n);break;case 13:Gn(i,n),sr(n),c=n.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(_f=at())),a&4&&gy(n);break;case 22:if(z=o!==null&&o.memoizedState!==null,n.mode&1?(Wt=(N=Wt)||z,Gn(i,n),Wt=N):Gn(i,n),sr(n),a&8192){if(N=n.memoizedState!==null,(n.stateNode.isHidden=N)&&!z&&(n.mode&1)!==0)for(Q=n,z=n.child;z!==null;){for(j=Q=z;Q!==null;){switch(U=Q,Y=U.child,U.tag){case 0:case 11:case 14:case 15:Ho(4,U,U.return);break;case 1:Ts(U,U.return);var G=U.stateNode;if(typeof G.componentWillUnmount=="function"){a=U,o=U.return;try{i=a,G.props=i.memoizedProps,G.state=i.memoizedState,G.componentWillUnmount()}catch(X){pt(a,o,X)}}break;case 5:Ts(U,U.return);break;case 22:if(U.memoizedState!==null){Sy(j);continue}}Y!==null?(Y.return=U,Q=Y):Sy(j)}z=z.sibling}e:for(z=null,j=n;;){if(j.tag===5){if(z===null){z=j;try{c=j.stateNode,N?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(g=j.stateNode,_=j.memoizedProps.style,y=_!=null&&_.hasOwnProperty("display")?_.display:null,g.style.display=Tl("display",y))}catch(X){pt(n,n.return,X)}}}else if(j.tag===6){if(z===null)try{j.stateNode.nodeValue=N?"":j.memoizedProps}catch(X){pt(n,n.return,X)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===n)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===n)break e;for(;j.sibling===null;){if(j.return===null||j.return===n)break e;z===j&&(z=null),j=j.return}z===j&&(z=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:Gn(i,n),sr(n),a&4&&gy(n);break;case 21:break;default:Gn(i,n),sr(n)}}function sr(n){var i=n.flags;if(i&2){try{e:{for(var o=n.return;o!==null;){if(py(o)){var a=o;break e}o=o.return}throw Error(t(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(Di(c,""),a.flags&=-33);var d=yy(n);mf(n,d,c);break;case 3:case 4:var y=a.stateNode.containerInfo,g=yy(n);yf(n,g,y);break;default:throw Error(t(161))}}catch(_){pt(n,n.return,_)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function b_(n,i,o){Q=n,_y(n)}function _y(n,i,o){for(var a=(n.mode&1)!==0;Q!==null;){var c=Q,d=c.child;if(c.tag===22&&a){var y=c.memoizedState!==null||Aa;if(!y){var g=c.alternate,_=g!==null&&g.memoizedState!==null||Wt;g=Aa;var N=Wt;if(Aa=y,(Wt=_)&&!N)for(Q=c;Q!==null;)y=Q,_=y.child,y.tag===22&&y.memoizedState!==null?by(c):_!==null?(_.return=y,Q=_):by(c);for(;d!==null;)Q=d,_y(d),d=d.sibling;Q=c,Aa=g,Wt=N}wy(n)}else(c.subtreeFlags&8772)!==0&&d!==null?(d.return=c,Q=d):wy(n)}}function wy(n){for(;Q!==null;){var i=Q;if((i.flags&8772)!==0){var o=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Wt||Na(5,i);break;case 1:var a=i.stateNode;if(i.flags&4&&!Wt)if(o===null)a.componentDidMount();else{var c=i.elementType===i.type?o.memoizedProps:Yn(i.type,o.memoizedProps);a.componentDidUpdate(c,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=i.updateQueue;d!==null&&Sp(i,d,a);break;case 3:var y=i.updateQueue;if(y!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}Sp(i,y,o)}break;case 5:var g=i.stateNode;if(o===null&&i.flags&4){o=g;var _=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&o.focus();break;case"img":_.src&&(o.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var N=i.alternate;if(N!==null){var z=N.memoizedState;if(z!==null){var j=z.dehydrated;j!==null&&ko(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||i.flags&512&&pf(i)}catch(U){pt(i,i.return,U)}}if(i===n){Q=null;break}if(o=i.sibling,o!==null){o.return=i.return,Q=o;break}Q=i.return}}function Sy(n){for(;Q!==null;){var i=Q;if(i===n){Q=null;break}var o=i.sibling;if(o!==null){o.return=i.return,Q=o;break}Q=i.return}}function by(n){for(;Q!==null;){var i=Q;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Na(4,i)}catch(_){pt(i,o,_)}break;case 1:var a=i.stateNode;if(typeof a.componentDidMount=="function"){var c=i.return;try{a.componentDidMount()}catch(_){pt(i,c,_)}}var d=i.return;try{pf(i)}catch(_){pt(i,d,_)}break;case 5:var y=i.return;try{pf(i)}catch(_){pt(i,y,_)}}}catch(_){pt(i,i.return,_)}if(i===n){Q=null;break}var g=i.sibling;if(g!==null){g.return=i.return,Q=g;break}Q=i.return}}var I_=Math.ceil,Ta=Te.ReactCurrentDispatcher,gf=Te.ReactCurrentOwner,Pn=Te.ReactCurrentBatchConfig,Le=0,Tt=null,wt=null,Rt=0,In=0,Ds=ti(0),Et=0,qo=null,$i=0,Da=0,vf=0,Yo=null,on=null,_f=0,Fs=1/0,Ar=null,Fa=!1,wf=null,li=null,Ba=!1,ai=null,Ma=0,Qo=0,Sf=null,Pa=-1,La=0;function Gt(){return(Le&6)!==0?at():Pa!==-1?Pa:Pa=at()}function ui(n){return(n.mode&1)===0?1:(Le&2)!==0&&Rt!==0?Rt&-Rt:o_.transition!==null?(La===0&&(La=yh()),La):(n=Qe,n!==0||(n=window.event,n=n===void 0?16:kh(n.type)),n)}function Jn(n,i,o,a){if(50<Qo)throw Qo=0,Sf=null,Error(t(185));_o(n,o,a),((Le&2)===0||n!==Tt)&&(n===Tt&&((Le&2)===0&&(Da|=o),Et===4&&ci(n,Rt)),ln(n,a),o===1&&Le===0&&(i.mode&1)===0&&(Fs=at()+500,fa&&ri()))}function ln(n,i){var o=n.callbackNode;ov(n,i);var a=Sr(n,n===Tt?Rt:0);if(a===0)o!==null&&Vl(o),n.callbackNode=null,n.callbackPriority=0;else if(i=a&-a,n.callbackPriority!==i){if(o!=null&&Vl(o),i===1)n.tag===0?s_(ky.bind(null,n)):up(ky.bind(null,n)),t_(function(){(Le&6)===0&&ri()}),o=null;else{switch(mh(a)){case 1:o=go;break;case 4:o=vo;break;case 16:o=qr;break;case 536870912:o=Hl;break;default:o=qr}o=Dy(o,Iy.bind(null,n))}n.callbackPriority=i,n.callbackNode=o}}function Iy(n,i){if(Pa=-1,La=0,(Le&6)!==0)throw Error(t(327));var o=n.callbackNode;if(Bs()&&n.callbackNode!==o)return null;var a=Sr(n,n===Tt?Rt:0);if(a===0)return null;if((a&30)!==0||(a&n.expiredLanes)!==0||i)i=Ra(n,a);else{i=a;var c=Le;Le|=2;var d=Cy();(Tt!==n||Rt!==i)&&(Ar=null,Fs=at()+500,Wi(n,i));do try{C_();break}catch(g){Ey(n,g)}while(!0);Rc(),Ta.current=d,Le=c,wt!==null?i=0:(Tt=null,Rt=0,i=Et)}if(i!==0){if(i===2&&(c=ec(n),c!==0&&(a=c,i=bf(n,c))),i===1)throw o=qo,Wi(n,0),ci(n,a),ln(n,at()),o;if(i===6)ci(n,a);else{if(c=n.current.alternate,(a&30)===0&&!k_(c)&&(i=Ra(n,a),i===2&&(d=ec(n),d!==0&&(a=d,i=bf(n,d))),i===1))throw o=qo,Wi(n,0),ci(n,a),ln(n,at()),o;switch(n.finishedWork=c,n.finishedLanes=a,i){case 0:case 1:throw Error(t(345));case 2:Ki(n,on,Ar);break;case 3:if(ci(n,a),(a&130023424)===a&&(i=_f+500-at(),10<i)){if(Sr(n,0)!==0)break;if(c=n.suspendedLanes,(c&a)!==a){Gt(),n.pingedLanes|=n.suspendedLanes&c;break}n.timeoutHandle=xc(Ki.bind(null,n,on,Ar),i);break}Ki(n,on,Ar);break;case 4:if(ci(n,a),(a&4194240)===a)break;for(i=n.eventTimes,c=-1;0<a;){var y=31-E(a);d=1<<y,y=i[y],y>c&&(c=y),a&=~d}if(a=c,a=at()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*I_(a/1960))-a,10<a){n.timeoutHandle=xc(Ki.bind(null,n,on,Ar),a);break}Ki(n,on,Ar);break;case 5:Ki(n,on,Ar);break;default:throw Error(t(329))}}}return ln(n,at()),n.callbackNode===o?Iy.bind(null,n):null}function bf(n,i){var o=Yo;return n.current.memoizedState.isDehydrated&&(Wi(n,i).flags|=256),n=Ra(n,i),n!==2&&(i=on,on=o,i!==null&&If(i)),n}function If(n){on===null?on=n:on.push.apply(on,n)}function k_(n){for(var i=n;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var c=o[a],d=c.getSnapshot;c=c.value;try{if(!Hn(d(),c))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ci(n,i){for(i&=~vf,i&=~Da,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var o=31-E(i),a=1<<o;n[o]=-1,i&=~a}}function ky(n){if((Le&6)!==0)throw Error(t(327));Bs();var i=Sr(n,0);if((i&1)===0)return ln(n,at()),null;var o=Ra(n,i);if(n.tag!==0&&o===2){var a=ec(n);a!==0&&(i=a,o=bf(n,a))}if(o===1)throw o=qo,Wi(n,0),ci(n,i),ln(n,at()),o;if(o===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Ki(n,on,Ar),ln(n,at()),null}function kf(n,i){var o=Le;Le|=1;try{return n(i)}finally{Le=o,Le===0&&(Fs=at()+500,fa&&ri())}}function Vi(n){ai!==null&&ai.tag===0&&(Le&6)===0&&Bs();var i=Le;Le|=1;var o=Pn.transition,a=Qe;try{if(Pn.transition=null,Qe=1,n)return n()}finally{Qe=a,Pn.transition=o,Le=i,(Le&6)===0&&ri()}}function Ef(){In=Ds.current,rt(Ds)}function Wi(n,i){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,e_(o)),wt!==null)for(o=wt.return;o!==null;){var a=o;switch(Fc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ua();break;case 3:As(),rt(nn),rt(jt),Hc();break;case 5:Wc(a);break;case 4:As();break;case 13:rt(ut);break;case 19:rt(ut);break;case 10:Uc(a.type._context);break;case 22:case 23:Ef()}o=o.return}if(Tt=n,wt=n=fi(n.current,null),Rt=In=i,Et=0,qo=null,vf=Da=$i=0,on=Yo=null,Ui!==null){for(i=0;i<Ui.length;i++)if(o=Ui[i],a=o.interleaved,a!==null){o.interleaved=null;var c=a.next,d=o.pending;if(d!==null){var y=d.next;d.next=c,a.next=y}o.pending=a}Ui=null}return n}function Ey(n,i){do{var o=wt;try{if(Rc(),Sa.current=Ea,ba){for(var a=ct.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}ba=!1}if(ji=0,Nt=kt=ct=null,jo=!1,$o=0,gf.current=null,o===null||o.return===null){Et=1,qo=i,wt=null;break}e:{var d=n,y=o.return,g=o,_=i;if(i=Rt,g.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var N=_,z=g,j=z.tag;if((z.mode&1)===0&&(j===0||j===11||j===15)){var U=z.alternate;U?(z.updateQueue=U.updateQueue,z.memoizedState=U.memoizedState,z.lanes=U.lanes):(z.updateQueue=null,z.memoizedState=null)}var Y=Gp(y);if(Y!==null){Y.flags&=-257,Jp(Y,y,g,d,i),Y.mode&1&&Qp(d,N,i),i=Y,_=N;var G=i.updateQueue;if(G===null){var X=new Set;X.add(_),i.updateQueue=X}else G.add(_);break e}else{if((i&1)===0){Qp(d,N,i),Cf();break e}_=Error(t(426))}}else if(ot&&g.mode&1){var vt=Gp(y);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),Jp(vt,y,g,d,i),Pc(Ns(_,g));break e}}d=_=Ns(_,g),Et!==4&&(Et=2),Yo===null?Yo=[d]:Yo.push(d),d=y;do{switch(d.tag){case 3:d.flags|=65536,i&=-i,d.lanes|=i;var x=qp(d,_,i);wp(d,x);break e;case 1:g=_;var S=d.type,O=d.stateNode;if((d.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(li===null||!li.has(O)))){d.flags|=65536,i&=-i,d.lanes|=i;var $=Yp(d,g,i);wp(d,$);break e}}d=d.return}while(d!==null)}Oy(o)}catch(re){i=re,wt===o&&o!==null&&(wt=o=o.return);continue}break}while(!0)}function Cy(){var n=Ta.current;return Ta.current=Ea,n===null?Ea:n}function Cf(){(Et===0||Et===3||Et===2)&&(Et=4),Tt===null||($i&268435455)===0&&(Da&268435455)===0||ci(Tt,Rt)}function Ra(n,i){var o=Le;Le|=2;var a=Cy();(Tt!==n||Rt!==i)&&(Ar=null,Wi(n,i));do try{E_();break}catch(c){Ey(n,c)}while(!0);if(Rc(),Le=o,Ta.current=a,wt!==null)throw Error(t(261));return Tt=null,Rt=0,Et}function E_(){for(;wt!==null;)xy(wt)}function C_(){for(;wt!==null&&!Wl();)xy(wt)}function xy(n){var i=Ty(n.alternate,n,In);n.memoizedProps=n.pendingProps,i===null?Oy(n):wt=i,gf.current=null}function Oy(n){var i=n;do{var o=i.alternate;if(n=i.return,(i.flags&32768)===0){if(o=v_(o,i,In),o!==null){wt=o;return}}else{if(o=__(o,i),o!==null){o.flags&=32767,wt=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Et=6,wt=null;return}}if(i=i.sibling,i!==null){wt=i;return}wt=i=n}while(i!==null);Et===0&&(Et=5)}function Ki(n,i,o){var a=Qe,c=Pn.transition;try{Pn.transition=null,Qe=1,x_(n,i,o,a)}finally{Pn.transition=c,Qe=a}return null}function x_(n,i,o,a){do Bs();while(ai!==null);if((Le&6)!==0)throw Error(t(327));o=n.finishedWork;var c=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var d=o.lanes|o.childLanes;if(lv(n,d),n===Tt&&(wt=Tt=null,Rt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Ba||(Ba=!0,Dy(qr,function(){return Bs(),null})),d=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||d){d=Pn.transition,Pn.transition=null;var y=Qe;Qe=1;var g=Le;Le|=4,gf.current=null,S_(n,o),vy(o,n),qv(Ec),Ql=!!kc,Ec=kc=null,n.current=o,b_(o),Kl(),Le=g,Qe=y,Pn.transition=d}else n.current=o;if(Ba&&(Ba=!1,ai=n,Ma=c),d=n.pendingLanes,d===0&&(li=null),Pt(o.stateNode),ln(n,at()),i!==null)for(a=n.onRecoverableError,o=0;o<i.length;o++)c=i[o],a(c.value,{componentStack:c.stack,digest:c.digest});if(Fa)throw Fa=!1,n=wf,wf=null,n;return(Ma&1)!==0&&n.tag!==0&&Bs(),d=n.pendingLanes,(d&1)!==0?n===Sf?Qo++:(Qo=0,Sf=n):Qo=0,ri(),null}function Bs(){if(ai!==null){var n=mh(Ma),i=Pn.transition,o=Qe;try{if(Pn.transition=null,Qe=16>n?16:n,ai===null)var a=!1;else{if(n=ai,ai=null,Ma=0,(Le&6)!==0)throw Error(t(331));var c=Le;for(Le|=4,Q=n.current;Q!==null;){var d=Q,y=d.child;if((Q.flags&16)!==0){var g=d.deletions;if(g!==null){for(var _=0;_<g.length;_++){var N=g[_];for(Q=N;Q!==null;){var z=Q;switch(z.tag){case 0:case 11:case 15:Ho(8,z,d)}var j=z.child;if(j!==null)j.return=z,Q=j;else for(;Q!==null;){z=Q;var U=z.sibling,Y=z.return;if(hy(z),z===N){Q=null;break}if(U!==null){U.return=Y,Q=U;break}Q=Y}}}var G=d.alternate;if(G!==null){var X=G.child;if(X!==null){G.child=null;do{var vt=X.sibling;X.sibling=null,X=vt}while(X!==null)}}Q=d}}if((d.subtreeFlags&2064)!==0&&y!==null)y.return=d,Q=y;else e:for(;Q!==null;){if(d=Q,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Ho(9,d,d.return)}var x=d.sibling;if(x!==null){x.return=d.return,Q=x;break e}Q=d.return}}var S=n.current;for(Q=S;Q!==null;){y=Q;var O=y.child;if((y.subtreeFlags&2064)!==0&&O!==null)O.return=y,Q=O;else e:for(y=S;Q!==null;){if(g=Q,(g.flags&2048)!==0)try{switch(g.tag){case 0:case 11:case 15:Na(9,g)}}catch(re){pt(g,g.return,re)}if(g===y){Q=null;break e}var $=g.sibling;if($!==null){$.return=g.return,Q=$;break e}Q=g.return}}if(Le=c,ri(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Bi,n)}catch{}a=!0}return a}finally{Qe=o,Pn.transition=i}}return!1}function Ay(n,i,o){i=Ns(o,i),i=qp(n,i,1),n=si(n,i,1),i=Gt(),n!==null&&(_o(n,1,i),ln(n,i))}function pt(n,i,o){if(n.tag===3)Ay(n,n,o);else for(;i!==null;){if(i.tag===3){Ay(i,n,o);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(li===null||!li.has(a))){n=Ns(o,n),n=Yp(i,n,1),i=si(i,n,1),n=Gt(),i!==null&&(_o(i,1,n),ln(i,n));break}}i=i.return}}function O_(n,i,o){var a=n.pingCache;a!==null&&a.delete(i),i=Gt(),n.pingedLanes|=n.suspendedLanes&o,Tt===n&&(Rt&o)===o&&(Et===4||Et===3&&(Rt&130023424)===Rt&&500>at()-_f?Wi(n,0):vf|=o),ln(n,i)}function Ny(n,i){i===0&&((n.mode&1)===0?i=1:(i=Pe,Pe<<=1,(Pe&130023424)===0&&(Pe=4194304)));var o=Gt();n=Cr(n,i),n!==null&&(_o(n,i,o),ln(n,o))}function A_(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Ny(n,o)}function N_(n,i){var o=0;switch(n.tag){case 13:var a=n.stateNode,c=n.memoizedState;c!==null&&(o=c.retryLane);break;case 19:a=n.stateNode;break;default:throw Error(t(314))}a!==null&&a.delete(i),Ny(n,o)}var Ty;Ty=function(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps||nn.current)sn=!0;else{if((n.lanes&o)===0&&(i.flags&128)===0)return sn=!1,g_(n,i,o);sn=(n.flags&131072)!==0}else sn=!1,ot&&(i.flags&1048576)!==0&&cp(i,ha,i.index);switch(i.lanes=0,i.tag){case 2:var a=i.type;Oa(n,i),n=i.pendingProps;var c=bs(i,jt.current);Os(i,o),c=Qc(null,i,a,n,c,o);var d=Gc();return i.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,rn(a)?(d=!0,ca(i)):d=!1,i.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,$c(i),c.updater=Ca,i.stateNode=c,c._reactInternals=i,nf(i,a,n,o),i=lf(null,i,a,!0,d,o)):(i.tag=0,ot&&d&&Dc(i),Qt(null,i,c,o),i=i.child),i;case 16:a=i.elementType;e:{switch(Oa(n,i),n=i.pendingProps,c=a._init,a=c(a._payload),i.type=a,c=i.tag=D_(a),n=Yn(a,n),c){case 0:i=of(null,i,a,n,o);break e;case 1:i=ry(null,i,a,n,o);break e;case 11:i=Zp(null,i,a,n,o);break e;case 14:i=Xp(null,i,a,Yn(a.type,n),o);break e}throw Error(t(306,a,""))}return i;case 0:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Yn(a,c),of(n,i,a,c,o);case 1:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Yn(a,c),ry(n,i,a,c,o);case 3:e:{if(iy(i),n===null)throw Error(t(387));a=i.pendingProps,d=i.memoizedState,c=d.element,_p(n,i),_a(i,a,null,o);var y=i.memoizedState;if(a=y.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){c=Ns(Error(t(423)),i),i=sy(n,i,a,o,c);break e}else if(a!==c){c=Ns(Error(t(424)),i),i=sy(n,i,a,o,c);break e}else for(bn=ei(i.stateNode.containerInfo.firstChild),Sn=i,ot=!0,qn=null,o=gp(i,null,a,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Es(),a===c){i=Or(n,i,o);break e}Qt(n,i,a,o)}i=i.child}return i;case 5:return bp(i),n===null&&Mc(i),a=i.type,c=i.pendingProps,d=n!==null?n.memoizedProps:null,y=c.children,Cc(a,c)?y=null:d!==null&&Cc(a,d)&&(i.flags|=32),ny(n,i),Qt(n,i,y,o),i.child;case 6:return n===null&&Mc(i),null;case 13:return oy(n,i,o);case 4:return Vc(i,i.stateNode.containerInfo),a=i.pendingProps,n===null?i.child=Cs(i,null,a,o):Qt(n,i,a,o),i.child;case 11:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Yn(a,c),Zp(n,i,a,c,o);case 7:return Qt(n,i,i.pendingProps,o),i.child;case 8:return Qt(n,i,i.pendingProps.children,o),i.child;case 12:return Qt(n,i,i.pendingProps.children,o),i.child;case 10:e:{if(a=i.type._context,c=i.pendingProps,d=i.memoizedProps,y=c.value,et(ma,a._currentValue),a._currentValue=y,d!==null)if(Hn(d.value,y)){if(d.children===c.children&&!nn.current){i=Or(n,i,o);break e}}else for(d=i.child,d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){y=d.child;for(var _=g.firstContext;_!==null;){if(_.context===a){if(d.tag===1){_=xr(-1,o&-o),_.tag=2;var N=d.updateQueue;if(N!==null){N=N.shared;var z=N.pending;z===null?_.next=_:(_.next=z.next,z.next=_),N.pending=_}}d.lanes|=o,_=d.alternate,_!==null&&(_.lanes|=o),zc(d.return,o,i),g.lanes|=o;break}_=_.next}}else if(d.tag===10)y=d.type===i.type?null:d.child;else if(d.tag===18){if(y=d.return,y===null)throw Error(t(341));y.lanes|=o,g=y.alternate,g!==null&&(g.lanes|=o),zc(y,o,i),y=d.sibling}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===i){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}Qt(n,i,c.children,o),i=i.child}return i;case 9:return c=i.type,a=i.pendingProps.children,Os(i,o),c=Bn(c),a=a(c),i.flags|=1,Qt(n,i,a,o),i.child;case 14:return a=i.type,c=Yn(a,i.pendingProps),c=Yn(a.type,c),Xp(n,i,a,c,o);case 15:return ey(n,i,i.type,i.pendingProps,o);case 17:return a=i.type,c=i.pendingProps,c=i.elementType===a?c:Yn(a,c),Oa(n,i),i.tag=1,rn(a)?(n=!0,ca(i)):n=!1,Os(i,o),Kp(i,a,c),nf(i,a,c,o),lf(null,i,a,!0,n,o);case 19:return ay(n,i,o);case 22:return ty(n,i,o)}throw Error(t(156,i.tag))};function Dy(n,i){return $l(n,i)}function T_(n,i,o,a){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(n,i,o,a){return new T_(n,i,o,a)}function xf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function D_(n){if(typeof n=="function")return xf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===yt)return 11;if(n===zt)return 14}return 2}function fi(n,i){var o=n.alternate;return o===null?(o=Ln(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function Ua(n,i,o,a,c,d){var y=2;if(a=n,typeof n=="function")xf(n)&&(y=1);else if(typeof n=="string")y=5;else e:switch(n){case me:return Hi(o.children,c,d,i);case ee:y=8,c|=8;break;case He:return n=Ln(12,o,i,c|2),n.elementType=He,n.lanes=d,n;case _t:return n=Ln(13,o,i,c),n.elementType=_t,n.lanes=d,n;case Mt:return n=Ln(19,o,i,c),n.elementType=Mt,n.lanes=d,n;case qe:return za(o,c,d,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case De:y=10;break e;case Xe:y=9;break e;case yt:y=11;break e;case zt:y=14;break e;case mt:y=16,a=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=Ln(y,o,i,c),i.elementType=n,i.type=a,i.lanes=d,i}function Hi(n,i,o,a){return n=Ln(7,n,a,i),n.lanes=o,n}function za(n,i,o,a){return n=Ln(22,n,a,i),n.elementType=qe,n.lanes=o,n.stateNode={isHidden:!1},n}function Of(n,i,o){return n=Ln(6,n,null,i),n.lanes=o,n}function Af(n,i,o){return i=Ln(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function F_(n,i,o,a,c){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tc(0),this.expirationTimes=tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tc(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Nf(n,i,o,a,c,d,y,g,_){return n=new F_(n,i,o,g,_),i===1?(i=1,d===!0&&(i|=8)):i=0,d=Ln(3,null,null,i),n.current=d,d.stateNode=n,d.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},$c(d),n}function B_(n,i,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:a==null?null:""+a,children:n,containerInfo:i,implementation:o}}function Fy(n){if(!n)return ni;n=n._reactInternals;e:{if(Z(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(rn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var o=n.type;if(rn(o))return lp(n,o,i)}return i}function By(n,i,o,a,c,d,y,g,_){return n=Nf(o,a,!0,n,c,d,y,g,_),n.context=Fy(null),o=n.current,a=Gt(),c=ui(o),d=xr(a,c),d.callback=i??null,si(o,d,c),n.current.lanes=c,_o(n,c,a),ln(n,a),n}function ja(n,i,o,a){var c=i.current,d=Gt(),y=ui(c);return o=Fy(o),i.context===null?i.context=o:i.pendingContext=o,i=xr(d,y),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=si(c,i,y),n!==null&&(Jn(n,c,y,d),va(n,c,y)),y}function $a(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function My(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Tf(n,i){My(n,i),(n=n.alternate)&&My(n,i)}function M_(){return null}var Py=typeof reportError=="function"?reportError:function(n){console.error(n)};function Df(n){this._internalRoot=n}Va.prototype.render=Df.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));ja(n,i,null,null)},Va.prototype.unmount=Df.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Vi(function(){ja(null,n,null,null)}),i[br]=null}};function Va(n){this._internalRoot=n}Va.prototype.unstable_scheduleHydration=function(n){if(n){var i=_h();n={blockedOn:null,target:n,priority:i};for(var o=0;o<Jr.length&&i!==0&&i<Jr[o].priority;o++);Jr.splice(o,0,n),o===0&&bh(n)}};function Ff(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Wa(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ly(){}function P_(n,i,o,a,c){if(c){if(typeof a=="function"){var d=a;a=function(){var N=$a(y);d.call(N)}}var y=By(i,a,n,0,null,!1,!1,"",Ly);return n._reactRootContainer=y,n[br]=y.current,Fo(n.nodeType===8?n.parentNode:n),Vi(),y}for(;c=n.lastChild;)n.removeChild(c);if(typeof a=="function"){var g=a;a=function(){var N=$a(_);g.call(N)}}var _=Nf(n,0,!1,null,null,!1,!1,"",Ly);return n._reactRootContainer=_,n[br]=_.current,Fo(n.nodeType===8?n.parentNode:n),Vi(function(){ja(i,_,o,a)}),_}function Ka(n,i,o,a,c){var d=o._reactRootContainer;if(d){var y=d;if(typeof c=="function"){var g=c;c=function(){var _=$a(y);g.call(_)}}ja(i,y,n,c)}else y=P_(o,i,n,c,a);return $a(y)}gh=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var o=_n(i.pendingLanes);o!==0&&(nc(i,o|1),ln(i,at()),(Le&6)===0&&(Fs=at()+500,ri()))}break;case 13:Vi(function(){var a=Cr(n,1);if(a!==null){var c=Gt();Jn(a,n,1,c)}}),Tf(n,1)}},rc=function(n){if(n.tag===13){var i=Cr(n,134217728);if(i!==null){var o=Gt();Jn(i,n,134217728,o)}Tf(n,134217728)}},vh=function(n){if(n.tag===13){var i=ui(n),o=Cr(n,i);if(o!==null){var a=Gt();Jn(o,n,i,a)}Tf(n,i)}},_h=function(){return Qe},wh=function(n,i){var o=Qe;try{return Qe=n,i()}finally{Qe=o}},fo=function(n,i,o){switch(i){case"input":if(ro(n,o),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var a=o[i];if(a!==n&&a.form===n.form){var c=aa(a);if(!c)throw Error(t(90));Ye(a),ro(a,c)}}}break;case"textarea":xl(n,o);break;case"select":i=o.value,i!=null&&Wr(n,!!o.multiple,i,!1)}},Pl=kf,Ll=Vi;var L_={usingClientEntryPoint:!1,Events:[Po,ws,aa,Bl,Ml,kf]},Go={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R_={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Te.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=mo(n),n===null?null:n.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance||M_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ha=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ha.isDisabled&&Ha.supportsFiber)try{Bi=Ha.inject(R_),Tn=Ha}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L_,an.createPortal=function(n,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ff(i))throw Error(t(200));return B_(n,i,null,o)},an.createRoot=function(n,i){if(!Ff(n))throw Error(t(299));var o=!1,a="",c=Py;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&(c=i.onRecoverableError)),i=Nf(n,1,!1,null,null,o,!1,a,c),n[br]=i.current,Fo(n.nodeType===8?n.parentNode:n),new Df(i)},an.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=mo(i),n=n===null?null:n.stateNode,n},an.flushSync=function(n){return Vi(n)},an.hydrate=function(n,i,o){if(!Wa(i))throw Error(t(200));return Ka(null,n,i,!0,o)},an.hydrateRoot=function(n,i,o){if(!Ff(n))throw Error(t(405));var a=o!=null&&o.hydratedSources||null,c=!1,d="",y=Py;if(o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),i=By(i,null,n,1,o??null,c,!1,d,y),n[br]=i.current,Fo(n),a)for(n=0;n<a.length;n++)o=a[n],c=o._getVersion,c=c(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,c]:i.mutableSourceEagerHydrationData.push(o,c);return new Va(i)},an.render=function(n,i,o){if(!Wa(i))throw Error(t(200));return Ka(null,n,i,!1,o)},an.unmountComponentAtNode=function(n){if(!Wa(n))throw Error(t(40));return n._reactRootContainer?(Vi(function(){Ka(null,null,n,!1,function(){n._reactRootContainer=null,n[br]=null})}),!0):!1},an.unstable_batchedUpdates=kf,an.unstable_renderSubtreeIntoContainer=function(n,i,o,a){if(!Wa(o))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Ka(n,i,o,!1,a)},an.version="18.3.1-next-f1338f8080-20240426",an}var Ky;function q_(){if(Ky)return Pf.exports;Ky=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pf.exports=H_(),Pf.exports}var Hy;function Y_(){if(Hy)return qa;Hy=1;var r=q_();return qa.createRoot=r.createRoot,qa.hydrateRoot=r.hydrateRoot,qa}var Q_=Y_(),Uf={exports:{}},je={};var qy;function G_(){if(qy)return je;qy=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,f=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,p=r?Symbol.for("react.async_mode"):60111,m=r?Symbol.for("react.concurrent_mode"):60111,v=r?Symbol.for("react.forward_ref"):60112,w=r?Symbol.for("react.suspense"):60113,I=r?Symbol.for("react.suspense_list"):60120,A=r?Symbol.for("react.memo"):60115,M=r?Symbol.for("react.lazy"):60116,L=r?Symbol.for("react.block"):60121,J=r?Symbol.for("react.fundamental"):60117,fe=r?Symbol.for("react.responder"):60118,Ee=r?Symbol.for("react.scope"):60119;function ae(P){if(typeof P=="object"&&P!==null){var K=P.$$typeof;switch(K){case e:switch(P=P.type,P){case p:case m:case s:case u:case l:case w:return P;default:switch(P=P&&P.$$typeof,P){case h:case v:case M:case A:case f:return P;default:return K}}case t:return K}}}function Te(P){return ae(P)===m}return je.AsyncMode=p,je.ConcurrentMode=m,je.ContextConsumer=h,je.ContextProvider=f,je.Element=e,je.ForwardRef=v,je.Fragment=s,je.Lazy=M,je.Memo=A,je.Portal=t,je.Profiler=u,je.StrictMode=l,je.Suspense=w,je.isAsyncMode=function(P){return Te(P)||ae(P)===p},je.isConcurrentMode=Te,je.isContextConsumer=function(P){return ae(P)===h},je.isContextProvider=function(P){return ae(P)===f},je.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},je.isForwardRef=function(P){return ae(P)===v},je.isFragment=function(P){return ae(P)===s},je.isLazy=function(P){return ae(P)===M},je.isMemo=function(P){return ae(P)===A},je.isPortal=function(P){return ae(P)===t},je.isProfiler=function(P){return ae(P)===u},je.isStrictMode=function(P){return ae(P)===l},je.isSuspense=function(P){return ae(P)===w},je.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===s||P===m||P===u||P===l||P===w||P===I||typeof P=="object"&&P!==null&&(P.$$typeof===M||P.$$typeof===A||P.$$typeof===f||P.$$typeof===h||P.$$typeof===v||P.$$typeof===J||P.$$typeof===fe||P.$$typeof===Ee||P.$$typeof===L)},je.typeOf=ae,je}var Yy;function J_(){return Yy||(Yy=1,Uf.exports=G_()),Uf.exports}var zf,Qy;function Z_(){if(Qy)return zf;Qy=1;var r=J_(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},l={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[r.ForwardRef]=s,u[r.Memo]=l;function f(M){return r.isMemo(M)?l:u[M.$$typeof]||e}var h=Object.defineProperty,p=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,v=Object.getOwnPropertyDescriptor,w=Object.getPrototypeOf,I=Object.prototype;function A(M,L,J){if(typeof L!="string"){if(I){var fe=w(L);fe&&fe!==I&&A(M,fe,J)}var Ee=p(L);m&&(Ee=Ee.concat(m(L)));for(var ae=f(M),Te=f(L),P=0;P<Ee.length;++P){var K=Ee[P];if(!t[K]&&!(J&&J[K])&&!(Te&&Te[K])&&!(ae&&ae[K])){var me=v(L,K);try{h(M,K,me)}catch{}}}}return M}return zf=A,zf}Z_();var jf={exports:{}},$e={};var $f,Gy;function X_(){if(Gy)return $f;Gy=1;var r=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function s(u){if(u==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(u)}function l(){try{if(!Object.assign)return!1;var u=new String("abc");if(u[5]="de",Object.getOwnPropertyNames(u)[0]==="5")return!1;for(var f={},h=0;h<10;h++)f["_"+String.fromCharCode(h)]=h;var p=Object.getOwnPropertyNames(f).map(function(v){return f[v]});if(p.join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(v){m[v]=v}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return $f=l()?Object.assign:function(u,f){for(var h,p=s(u),m,v=1;v<arguments.length;v++){h=Object(arguments[v]);for(var w in h)e.call(h,w)&&(p[w]=h[w]);if(r){m=r(h);for(var I=0;I<m.length;I++)t.call(h,m[I])&&(p[m[I]]=h[m[I]])}}return p},$f}var Jy;function e1(){if(Jy)return $e;Jy=1;var r=X_(),e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,s=e?Symbol.for("react.portal"):60106,l=e?Symbol.for("react.fragment"):60107,u=e?Symbol.for("react.strict_mode"):60108,f=e?Symbol.for("react.profiler"):60114,h=e?Symbol.for("react.provider"):60109,p=e?Symbol.for("react.context"):60110,m=e?Symbol.for("react.forward_ref"):60112,v=e?Symbol.for("react.suspense"):60113,w=e?Symbol.for("react.memo"):60115,I=e?Symbol.for("react.lazy"):60116,A=typeof Symbol=="function"&&Symbol.iterator;function M(b){for(var B="https://reactjs.org/docs/error-decoder.html?invariant="+b,H=1;H<arguments.length;H++)B+="&args[]="+encodeURIComponent(arguments[H]);return"Minified React error #"+b+"; visit "+B+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J={};function fe(b,B,H){this.props=b,this.context=B,this.refs=J,this.updater=H||L}fe.prototype.isReactComponent={},fe.prototype.setState=function(b,B){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error(M(85));this.updater.enqueueSetState(this,b,B,"setState")},fe.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function Ee(){}Ee.prototype=fe.prototype;function ae(b,B,H){this.props=b,this.context=B,this.refs=J,this.updater=H||L}var Te=ae.prototype=new Ee;Te.constructor=ae,r(Te,fe.prototype),Te.isPureReactComponent=!0;var P={current:null},K=Object.prototype.hasOwnProperty,me={key:!0,ref:!0,__self:!0,__source:!0};function ee(b,B,H){var te,ne={},Fe=null,It=null;if(B!=null)for(te in B.ref!==void 0&&(It=B.ref),B.key!==void 0&&(Fe=""+B.key),B)K.call(B,te)&&!me.hasOwnProperty(te)&&(ne[te]=B[te]);var Ye=arguments.length-2;if(Ye===1)ne.children=H;else if(1<Ye){for(var gt=Array(Ye),Ht=0;Ht<Ye;Ht++)gt[Ht]=arguments[Ht+2];ne.children=gt}if(b&&b.defaultProps)for(te in Ye=b.defaultProps,Ye)ne[te]===void 0&&(ne[te]=Ye[te]);return{$$typeof:t,type:b,key:Fe,ref:It,props:ne,_owner:P.current}}function He(b,B){return{$$typeof:t,type:b.type,key:B,ref:b.ref,props:b.props,_owner:b._owner}}function De(b){return typeof b=="object"&&b!==null&&b.$$typeof===t}function Xe(b){var B={"=":"=0",":":"=2"};return"$"+(""+b).replace(/[=:]/g,function(H){return B[H]})}var yt=/\/+/g,_t=[];function Mt(b,B,H,te){if(_t.length){var ne=_t.pop();return ne.result=b,ne.keyPrefix=B,ne.func=H,ne.context=te,ne.count=0,ne}return{result:b,keyPrefix:B,func:H,context:te,count:0}}function zt(b){b.result=null,b.keyPrefix=null,b.func=null,b.context=null,b.count=0,10>_t.length&&_t.push(b)}function mt(b,B,H,te){var ne=typeof b;(ne==="undefined"||ne==="boolean")&&(b=null);var Fe=!1;if(b===null)Fe=!0;else switch(ne){case"string":case"number":Fe=!0;break;case"object":switch(b.$$typeof){case t:case s:Fe=!0}}if(Fe)return H(te,b,B===""?"."+W(b,0):B),1;if(Fe=0,B=B===""?".":B+":",Array.isArray(b))for(var It=0;It<b.length;It++){ne=b[It];var Ye=B+W(ne,It);Fe+=mt(ne,Ye,H,te)}else if(b===null||typeof b!="object"?Ye=null:(Ye=A&&b[A]||b["@@iterator"],Ye=typeof Ye=="function"?Ye:null),typeof Ye=="function")for(b=Ye.call(b),It=0;!(ne=b.next()).done;)ne=ne.value,Ye=B+W(ne,It++),Fe+=mt(ne,Ye,H,te);else if(ne==="object")throw H=""+b,Error(M(31,H==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":H,""));return Fe}function qe(b,B,H){return b==null?0:mt(b,"",B,H)}function W(b,B){return typeof b=="object"&&b!==null&&b.key!=null?Xe(b.key):B.toString(36)}function oe(b,B){b.func.call(b.context,B,b.count++)}function q(b,B,H){var te=b.result,ne=b.keyPrefix;b=b.func.call(b.context,B,b.count++),Array.isArray(b)?k(b,te,H,function(Fe){return Fe}):b!=null&&(De(b)&&(b=He(b,ne+(!b.key||B&&B.key===b.key?"":(""+b.key).replace(yt,"$&/")+"/")+H)),te.push(b))}function k(b,B,H,te,ne){var Fe="";H!=null&&(Fe=(""+H).replace(yt,"$&/")+"/"),B=Mt(B,Fe,te,ne),qe(b,q,B),zt(B)}var R={current:null};function le(){var b=R.current;if(b===null)throw Error(M(321));return b}var xe={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:P,IsSomeRendererActing:{current:!1},assign:r};return $e.Children={map:function(b,B,H){if(b==null)return b;var te=[];return k(b,te,null,B,H),te},forEach:function(b,B,H){if(b==null)return b;B=Mt(null,null,B,H),qe(b,oe,B),zt(B)},count:function(b){return qe(b,function(){return null},null)},toArray:function(b){var B=[];return k(b,B,null,function(H){return H}),B},only:function(b){if(!De(b))throw Error(M(143));return b}},$e.Component=fe,$e.Fragment=l,$e.Profiler=f,$e.PureComponent=ae,$e.StrictMode=u,$e.Suspense=v,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xe,$e.cloneElement=function(b,B,H){if(b==null)throw Error(M(267,b));var te=r({},b.props),ne=b.key,Fe=b.ref,It=b._owner;if(B!=null){if(B.ref!==void 0&&(Fe=B.ref,It=P.current),B.key!==void 0&&(ne=""+B.key),b.type&&b.type.defaultProps)var Ye=b.type.defaultProps;for(gt in B)K.call(B,gt)&&!me.hasOwnProperty(gt)&&(te[gt]=B[gt]===void 0&&Ye!==void 0?Ye[gt]:B[gt])}var gt=arguments.length-2;if(gt===1)te.children=H;else if(1<gt){Ye=Array(gt);for(var Ht=0;Ht<gt;Ht++)Ye[Ht]=arguments[Ht+2];te.children=Ye}return{$$typeof:t,type:b.type,key:ne,ref:Fe,props:te,_owner:It}},$e.createContext=function(b,B){return B===void 0&&(B=null),b={$$typeof:p,_calculateChangedBits:B,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider={$$typeof:h,_context:b},b.Consumer=b},$e.createElement=ee,$e.createFactory=function(b){var B=ee.bind(null,b);return B.type=b,B},$e.createRef=function(){return{current:null}},$e.forwardRef=function(b){return{$$typeof:m,render:b}},$e.isValidElement=De,$e.lazy=function(b){return{$$typeof:I,_ctor:b,_status:-1,_result:null}},$e.memo=function(b,B){return{$$typeof:w,type:b,compare:B===void 0?null:B}},$e.useCallback=function(b,B){return le().useCallback(b,B)},$e.useContext=function(b,B){return le().useContext(b,B)},$e.useDebugValue=function(){},$e.useEffect=function(b,B){return le().useEffect(b,B)},$e.useImperativeHandle=function(b,B,H){return le().useImperativeHandle(b,B,H)},$e.useLayoutEffect=function(b,B){return le().useLayoutEffect(b,B)},$e.useMemo=function(b,B){return le().useMemo(b,B)},$e.useReducer=function(b,B,H){return le().useReducer(b,B,H)},$e.useRef=function(b){return le().useRef(b)},$e.useState=function(b){return le().useState(b)},$e.version="16.14.0",$e}var Zy;function t1(){return Zy||(Zy=1,jf.exports=e1()),jf.exports}var n1=t1();const r1=Lm(n1);function ye(r,e,t,s){function l(u){return u instanceof t?u:new t(function(f){f(u)})}return new(t||(t=Promise))(function(u,f){function h(v){try{m(s.next(v))}catch(w){f(w)}}function p(v){try{m(s.throw(v))}catch(w){f(w)}}function m(v){v.done?u(v.value):l(v.value).then(h,p)}m((s=s.apply(r,e||[])).next())})}function Xy(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],s=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oe(r){return this instanceof Oe?(this.v=r,this):new Oe(r)}function mr(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(r,e||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),l[Symbol.asyncIterator]=function(){return this},l;function f(A){return function(M){return Promise.resolve(M).then(A,w)}}function h(A,M){s[A]&&(l[A]=function(L){return new Promise(function(J,fe){u.push([A,L,J,fe])>1||p(A,L)})},M&&(l[A]=M(l[A])))}function p(A,M){try{m(s[A](M))}catch(L){I(u[0][3],L)}}function m(A){A.value instanceof Oe?Promise.resolve(A.value.v).then(v,w):I(u[0][2],A)}function v(A){p("next",A)}function w(A){p("throw",A)}function I(A,M){A(M),u.shift(),u.length&&p(u[0][0],u[0][1])}}function Xa(r){var e,t;return e={},s("next"),s("throw",function(l){throw l}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(l,u){e[l]=r[l]?function(f){return(t=!t)?{value:Oe(r[l](f)),done:!1}:u?u(f):f}:u}}function ns(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Xy=="function"?Xy(r):r[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(u){t[u]=r[u]&&function(f){return new Promise(function(h,p){f=r[u](f),l(h,p,f.done,f.value)})}}function l(u,f,h,p){Promise.resolve(p).then(function(m){u({value:m,done:h})},f)}}const i1=new TextDecoder("utf-8"),cd=r=>i1.decode(r),s1=new TextEncoder,Td=r=>s1.encode(r),[PI,o1]=(()=>{const r=()=>{throw new Error("BigInt is not available in this environment")};function e(){throw r()}return e.asIntN=()=>{throw r()},e.asUintN=()=>{throw r()},typeof BigInt<"u"?[BigInt,!0]:[e,!1]})(),[vl]=(()=>{const r=()=>{throw new Error("BigInt64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw r()}static from(){throw r()}constructor(){throw r()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[e,!1]})(),[_l]=(()=>{const r=()=>{throw new Error("BigUint64Array is not available in this environment")};class e{static get BYTES_PER_ELEMENT(){return 8}static of(){throw r()}static from(){throw r()}constructor(){throw r()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[e,!1]})(),l1=r=>typeof r=="number",Rm=r=>typeof r=="boolean",xt=r=>typeof r=="function",pn=r=>r!=null&&Object(r)===r,wi=r=>pn(r)&&xt(r.then),wl=r=>pn(r)&&xt(r[Symbol.iterator]),eo=r=>pn(r)&&xt(r[Symbol.asyncIterator]),fd=r=>pn(r)&&pn(r.schema),Um=r=>pn(r)&&"done"in r&&"value"in r,zm=r=>pn(r)&&xt(r.stat)&&l1(r.fd),jm=r=>pn(r)&&Dd(r.body),Wu=r=>"_getDOMStream"in r&&"_getNodeStream"in r,a1=r=>pn(r)&&xt(r.abort)&&xt(r.getWriter)&&!Wu(r),Dd=r=>pn(r)&&xt(r.cancel)&&xt(r.getReader)&&!Wu(r),u1=r=>pn(r)&&xt(r.end)&&xt(r.write)&&Rm(r.writable)&&!Wu(r),$m=r=>pn(r)&&xt(r.read)&&xt(r.pipe)&&Rm(r.readable)&&!Wu(r),c1=r=>pn(r)&&xt(r.clear)&&xt(r.bytes)&&xt(r.position)&&xt(r.setPosition)&&xt(r.capacity)&&xt(r.getBufferIdentifier)&&xt(r.createLong),Fd=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function f1(r){const e=r[0]?[r[0]]:[];let t,s,l,u;for(let f,h,p=0,m=0,v=r.length;++p<v;){if(f=e[m],h=r[p],!f||!h||f.buffer!==h.buffer||h.byteOffset<f.byteOffset){h&&(e[++m]=h);continue}if({byteOffset:t,byteLength:l}=f,{byteOffset:s,byteLength:u}=h,t+l<s||s+u<t){h&&(e[++m]=h);continue}e[m]=new Uint8Array(f.buffer,t,s-t+u)}return e}function em(r,e,t=0,s=e.byteLength){const l=r.byteLength,u=new Uint8Array(r.buffer,r.byteOffset,l),f=new Uint8Array(e.buffer,e.byteOffset,Math.min(s,l));return u.set(f,t),r}function vr(r,e){const t=f1(r),s=t.reduce((v,w)=>v+w.byteLength,0);let l,u,f,h=0,p=-1;const m=Math.min(e||Number.POSITIVE_INFINITY,s);for(const v=t.length;++p<v;){if(l=t[p],u=l.subarray(0,Math.min(l.length,m-h)),m<=h+u.length){u.length<l.length?t[p]=l.subarray(u.length):u.length===l.length&&p++,f?em(f,u,h):f=u;break}em(f||(f=new Uint8Array(m)),u,h),h+=u.length}return[f||new Uint8Array(0),t.slice(p),s-(f?f.byteLength:0)]}function Je(r,e){let t=Um(e)?e.value:e;return t instanceof r?r===Uint8Array?new r(t.buffer,t.byteOffset,t.byteLength):t:t?(typeof t=="string"&&(t=Td(t)),t instanceof ArrayBuffer?new r(t):t instanceof Fd?new r(t):c1(t)?Je(r,t.bytes()):ArrayBuffer.isView(t)?t.byteLength<=0?new r(0):new r(t.buffer,t.byteOffset,t.byteLength/r.BYTES_PER_ELEMENT):r.from(t)):new r(0)}const Zo=r=>Je(Int32Array,r),Ue=r=>Je(Uint8Array,r),dd=r=>(r.next(),r);function*d1(r,e){const t=function*(l){yield l},s=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof Fd?t(e):wl(e)?e:t(e);return yield*dd((function*(l){let u=null;do u=l.next(yield Je(r,u));while(!u.done)})(s[Symbol.iterator]())),new r}const h1=r=>d1(Uint8Array,r);function Vm(r,e){return mr(this,arguments,function*(){if(wi(e))return yield Oe(yield Oe(yield*Xa(ns(Vm(r,yield Oe(e))))));const s=function(f){return mr(this,arguments,function*(){yield yield Oe(yield Oe(f))})},l=function(f){return mr(this,arguments,function*(){yield Oe(yield*Xa(ns(dd((function*(h){let p=null;do p=h.next(yield p?.value);while(!p.done)})(f[Symbol.iterator]())))))})},u=typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof Fd?s(e):wl(e)?l(e):eo(e)?e:s(e);return yield Oe(yield*Xa(ns(dd((function(f){return mr(this,arguments,function*(){let h=null;do h=yield Oe(f.next(yield yield Oe(Je(r,h))));while(!h.done)})})(u[Symbol.asyncIterator]()))))),yield Oe(new r)})}const p1=r=>Vm(Uint8Array,r);function Bd(r,e,t){if(r!==0){t=t.slice(0,e+1);for(let s=-1;++s<=e;)t[s]+=r}return t}function y1(r,e){let t=0;const s=r.length;if(s!==e.length)return!1;if(s>0)do if(r[t]!==e[t])return!1;while(++t<s);return!0}const Un={fromIterable(r){return Ya(m1(r))},fromAsyncIterable(r){return Ya(g1(r))},fromDOMStream(r){return Ya(v1(r))},fromNodeStream(r){return Ya(w1(r))},toDOMStream(r,e){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(r,e){throw new Error('"toNodeStream" not available in this environment')}},Ya=r=>(r.next(),r);function*m1(r){let e,t=!1,s=[],l,u,f,h=0;function p(){return u==="peek"?vr(s,f)[0]:([l,s,h]=vr(s,f),l)}({cmd:u,size:f}=yield null);const m=h1(r)[Symbol.iterator]();try{do if({done:e,value:l}=Number.isNaN(f-h)?m.next():m.next(f-h),!e&&l.byteLength>0&&(s.push(l),h+=l.byteLength),e||f<=h)do({cmd:u,size:f}=yield p());while(f<h);while(!e)}catch(v){(t=!0)&&typeof m.throw=="function"&&m.throw(v)}finally{t===!1&&typeof m.return=="function"&&m.return(null)}return null}function g1(r){return mr(this,arguments,function*(){let t,s=!1,l=[],u,f,h,p=0;function m(){return f==="peek"?vr(l,h)[0]:([u,l,p]=vr(l,h),u)}({cmd:f,size:h}=yield yield Oe(null));const v=p1(r)[Symbol.asyncIterator]();try{do if({done:t,value:u}=Number.isNaN(h-p)?yield Oe(v.next()):yield Oe(v.next(h-p)),!t&&u.byteLength>0&&(l.push(u),p+=u.byteLength),t||h<=p)do({cmd:f,size:h}=yield yield Oe(m()));while(h<p);while(!t)}catch(w){(s=!0)&&typeof v.throw=="function"&&(yield Oe(v.throw(w)))}finally{s===!1&&typeof v.return=="function"&&(yield Oe(v.return(new Uint8Array(0))))}return yield Oe(null)})}function v1(r){return mr(this,arguments,function*(){let t=!1,s=!1,l=[],u,f,h,p=0;function m(){return f==="peek"?vr(l,h)[0]:([u,l,p]=vr(l,h),u)}({cmd:f,size:h}=yield yield Oe(null));const v=new _1(r);try{do if({done:t,value:u}=Number.isNaN(h-p)?yield Oe(v.read()):yield Oe(v.read(h-p)),!t&&u.byteLength>0&&(l.push(Ue(u)),p+=u.byteLength),t||h<=p)do({cmd:f,size:h}=yield yield Oe(m()));while(h<p);while(!t)}catch(w){(s=!0)&&(yield Oe(v.cancel(w)))}finally{s===!1?yield Oe(v.cancel()):r.locked&&v.releaseLock()}return yield Oe(null)})}class _1{constructor(e){this.source=e,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(e){return ye(this,void 0,void 0,function*(){const{reader:t,source:s}=this;t&&(yield t.cancel(e).catch(()=>{})),s&&s.locked&&this.releaseLock()})}read(e){return ye(this,void 0,void 0,function*(){if(e===0)return{done:this.reader==null,value:new Uint8Array(0)};const t=yield this.reader.read();return!t.done&&(t.value=Ue(t)),t})}}const Vf=(r,e)=>{const t=l=>s([e,l]);let s;return[e,t,new Promise(l=>(s=l)&&r.once(e,t))]};function w1(r){return mr(this,arguments,function*(){const t=[];let s="error",l=!1,u=null,f,h,p=0,m=[],v;function w(){return f==="peek"?vr(m,h)[0]:([v,m,p]=vr(m,h),v)}if({cmd:f,size:h}=yield yield Oe(null),r.isTTY)return yield yield Oe(new Uint8Array(0)),yield Oe(null);try{t[0]=Vf(r,"end"),t[1]=Vf(r,"error");do{if(t[2]=Vf(r,"readable"),[s,u]=yield Oe(Promise.race(t.map(A=>A[2]))),s==="error")break;if((l=s==="end")||(Number.isFinite(h-p)?(v=Ue(r.read(h-p)),v.byteLength<h-p&&(v=Ue(r.read()))):v=Ue(r.read()),v.byteLength>0&&(m.push(v),p+=v.byteLength)),l||h<=p)do({cmd:f,size:h}=yield yield Oe(w()));while(h<p)}while(!l)}finally{yield Oe(I(t,s==="error"?u:null))}return yield Oe(null);function I(A,M){return v=m=null,new Promise((L,J)=>{for(const[fe,Ee]of A)r.off(fe,Ee);try{const fe=r.destroy;fe&&fe.call(r,M),M=void 0}catch(fe){M=fe||M}finally{M!=null?J(M):L()}})}})}var xn;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(xn||(xn={}));var On;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(On||(On={}));var hn;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(hn||(hn={}));var zr;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(zr||(zr={}));var ze;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(ze||(ze={}));var Si;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME",r[r.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Si||(Si={}));var Ve;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(Ve||(Ve={}));var C;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.Float=3]="Float",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct=13]="Struct",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Dictionary=-1]="Dictionary",r[r.Int8=-2]="Int8",r[r.Int16=-3]="Int16",r[r.Int32=-4]="Int32",r[r.Int64=-5]="Int64",r[r.Uint8=-6]="Uint8",r[r.Uint16=-7]="Uint16",r[r.Uint32=-8]="Uint32",r[r.Uint64=-9]="Uint64",r[r.Float16=-10]="Float16",r[r.Float32=-11]="Float32",r[r.Float64=-12]="Float64",r[r.DateDay=-13]="DateDay",r[r.DateMillisecond=-14]="DateMillisecond",r[r.TimestampSecond=-15]="TimestampSecond",r[r.TimestampMillisecond=-16]="TimestampMillisecond",r[r.TimestampMicrosecond=-17]="TimestampMicrosecond",r[r.TimestampNanosecond=-18]="TimestampNanosecond",r[r.TimeSecond=-19]="TimeSecond",r[r.TimeMillisecond=-20]="TimeMillisecond",r[r.TimeMicrosecond=-21]="TimeMicrosecond",r[r.TimeNanosecond=-22]="TimeNanosecond",r[r.DenseUnion=-23]="DenseUnion",r[r.SparseUnion=-24]="SparseUnion",r[r.IntervalDayTime=-25]="IntervalDayTime",r[r.IntervalYearMonth=-26]="IntervalYearMonth"})(C||(C={}));var Dr;(function(r){r[r.OFFSET=0]="OFFSET",r[r.DATA=1]="DATA",r[r.VALIDITY=2]="VALIDITY",r[r.TYPE=3]="TYPE"})(Dr||(Dr={}));const S1=void 0;function ul(r){if(r===null)return"null";if(r===S1)return"undefined";switch(typeof r){case"number":return`${r}`;case"bigint":return`${r}`;case"string":return`"${r}"`}return typeof r[Symbol.toPrimitive]=="function"?r[Symbol.toPrimitive]("string"):ArrayBuffer.isView(r)?r instanceof vl||r instanceof _l?`[${[...r].map(e=>ul(e))}]`:`[${r}]`:ArrayBuffer.isView(r)?`[${r}]`:JSON.stringify(r,(e,t)=>typeof t=="bigint"?`${t}`:t)}const b1=Symbol.for("isArrowBigNum");function er(r,...e){return e.length===0?Object.setPrototypeOf(Je(this.TypedArray,r),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(r,...e),this.constructor.prototype)}er.prototype[b1]=!0;er.prototype.toJSON=function(){return`"${rs(this)}"`};er.prototype.valueOf=function(){return Wm(this)};er.prototype.toString=function(){return rs(this)};er.prototype[Symbol.toPrimitive]=function(r="default"){switch(r){case"number":return Wm(this);case"string":return rs(this);case"default":return hd(this)}return rs(this)};function js(...r){return er.apply(this,r)}function $s(...r){return er.apply(this,r)}function cl(...r){return er.apply(this,r)}Object.setPrototypeOf(js.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf($s.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(cl.prototype,Object.create(Uint32Array.prototype));Object.assign(js.prototype,er.prototype,{constructor:js,signed:!0,TypedArray:Int32Array,BigIntArray:vl});Object.assign($s.prototype,er.prototype,{constructor:$s,signed:!1,TypedArray:Uint32Array,BigIntArray:_l});Object.assign(cl.prototype,er.prototype,{constructor:cl,signed:!0,TypedArray:Uint32Array,BigIntArray:_l});function Wm(r){const{buffer:e,byteOffset:t,length:s,signed:l}=r,u=new _l(e,t,s),f=l&&u[u.length-1]&BigInt(1)<<BigInt(63);let h=BigInt(f?1:0),p=BigInt(0);if(f){for(const m of u)h+=~m*(BigInt(1)<<BigInt(32)*p++);h*=BigInt(-1)}else for(const m of u)h+=m*(BigInt(1)<<BigInt(32)*p++);return h}let rs,hd;o1?(hd=(r=>r.byteLength===8?new r.BigIntArray(r.buffer,r.byteOffset,1)[0]:Wf(r)),rs=(r=>r.byteLength===8?`${new r.BigIntArray(r.buffer,r.byteOffset,1)[0]}`:Wf(r))):(rs=Wf,hd=rs);function Wf(r){let e="";const t=new Uint32Array(2);let s=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2);const l=new Uint32Array((s=new Uint16Array(s).reverse()).buffer);let u=-1;const f=s.length-1;do{for(t[0]=s[u=0];u<f;)s[u++]=t[1]=t[0]/10,t[0]=(t[0]-t[1]*10<<16)+s[u];s[u]=t[1]=t[0]/10,t[0]=t[0]-t[1]*10,e=`${t[0]}${e}`}while(l[0]||l[1]||l[2]||l[3]);return e??"0"}class Md{static new(e,t){switch(t){case!0:return new js(e);case!1:return new $s(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case vl:return new js(e)}return e.byteLength===16?new cl(e):new $s(e)}static signed(e){return new js(e)}static unsigned(e){return new $s(e)}static decimal(e){return new cl(e)}constructor(e,t){return Md.new(e,t)}}var Km,Hm,qm,Ym,Qm,Gm,Jm,Zm,Xm,eg,tg,ng,rg,ig,sg,og,lg,ag,ug;class ge{static isNull(e){return e?.typeId===C.Null}static isInt(e){return e?.typeId===C.Int}static isFloat(e){return e?.typeId===C.Float}static isBinary(e){return e?.typeId===C.Binary}static isUtf8(e){return e?.typeId===C.Utf8}static isBool(e){return e?.typeId===C.Bool}static isDecimal(e){return e?.typeId===C.Decimal}static isDate(e){return e?.typeId===C.Date}static isTime(e){return e?.typeId===C.Time}static isTimestamp(e){return e?.typeId===C.Timestamp}static isInterval(e){return e?.typeId===C.Interval}static isList(e){return e?.typeId===C.List}static isStruct(e){return e?.typeId===C.Struct}static isUnion(e){return e?.typeId===C.Union}static isFixedSizeBinary(e){return e?.typeId===C.FixedSizeBinary}static isFixedSizeList(e){return e?.typeId===C.FixedSizeList}static isMap(e){return e?.typeId===C.Map}static isDictionary(e){return e?.typeId===C.Dictionary}static isDenseUnion(e){return ge.isUnion(e)&&e.mode===On.Dense}static isSparseUnion(e){return ge.isUnion(e)&&e.mode===On.Sparse}get typeId(){return C.NONE}}Km=Symbol.toStringTag;ge[Km]=(r=>(r.children=null,r.ArrayType=Array,r[Symbol.toStringTag]="DataType"))(ge.prototype);let bi=class extends ge{toString(){return"Null"}get typeId(){return C.Null}};Hm=Symbol.toStringTag;bi[Hm]=(r=>r[Symbol.toStringTag]="Null")(bi.prototype);class Ii extends ge{constructor(e,t){super(),this.isSigned=e,this.bitWidth=t}get typeId(){return C.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?vl:_l}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}qm=Symbol.toStringTag;Ii[qm]=(r=>(r.isSigned=null,r.bitWidth=null,r[Symbol.toStringTag]="Int"))(Ii.prototype);class fl extends Ii{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(fl.prototype,"ArrayType",{value:Int32Array});class dl extends ge{constructor(e){super(),this.precision=e}get typeId(){return C.Float}get ArrayType(){switch(this.precision){case hn.HALF:return Uint16Array;case hn.SINGLE:return Float32Array;case hn.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Ym=Symbol.toStringTag;dl[Ym]=(r=>(r.precision=null,r[Symbol.toStringTag]="Float"))(dl.prototype);let uu=class extends ge{constructor(){super()}get typeId(){return C.Binary}toString(){return"Binary"}};Qm=Symbol.toStringTag;uu[Qm]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Binary"))(uu.prototype);let cu=class extends ge{constructor(){super()}get typeId(){return C.Utf8}toString(){return"Utf8"}};Gm=Symbol.toStringTag;cu[Gm]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Utf8"))(cu.prototype);let fu=class extends ge{constructor(){super()}get typeId(){return C.Bool}toString(){return"Bool"}};Jm=Symbol.toStringTag;fu[Jm]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Bool"))(fu.prototype);let du=class extends ge{constructor(e,t,s=128){super(),this.scale=e,this.precision=t,this.bitWidth=s}get typeId(){return C.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};Zm=Symbol.toStringTag;du[Zm]=(r=>(r.scale=null,r.precision=null,r.ArrayType=Uint32Array,r[Symbol.toStringTag]="Decimal"))(du.prototype);class hu extends ge{constructor(e){super(),this.unit=e}get typeId(){return C.Date}toString(){return`Date${(this.unit+1)*32}<${zr[this.unit]}>`}}Xm=Symbol.toStringTag;hu[Xm]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Date"))(hu.prototype);class hl extends ge{constructor(e,t){super(),this.unit=e,this.bitWidth=t}get typeId(){return C.Time}toString(){return`Time${this.bitWidth}<${ze[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return vl}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}eg=Symbol.toStringTag;hl[eg]=(r=>(r.unit=null,r.bitWidth=null,r[Symbol.toStringTag]="Time"))(hl.prototype);class pu extends ge{constructor(e,t){super(),this.unit=e,this.timezone=t}get typeId(){return C.Timestamp}toString(){return`Timestamp<${ze[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}tg=Symbol.toStringTag;pu[tg]=(r=>(r.unit=null,r.timezone=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Timestamp"))(pu.prototype);class yu extends ge{constructor(e){super(),this.unit=e}get typeId(){return C.Interval}toString(){return`Interval<${Si[this.unit]}>`}}ng=Symbol.toStringTag;yu[ng]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Interval"))(yu.prototype);let mu=class extends ge{constructor(e){super(),this.children=[e]}get typeId(){return C.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};rg=Symbol.toStringTag;mu[rg]=(r=>(r.children=null,r[Symbol.toStringTag]="List"))(mu.prototype);class Zt extends ge{constructor(e){super(),this.children=e}get typeId(){return C.Struct}toString(){return`Struct<{${this.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}ig=Symbol.toStringTag;Zt[ig]=(r=>(r.children=null,r[Symbol.toStringTag]="Struct"))(Zt.prototype);class gu extends ge{constructor(e,t,s){super(),this.mode=e,this.children=s,this.typeIds=t=Int32Array.from(t),this.typeIdToChildIndex=t.reduce((l,u,f)=>(l[u]=f)&&l||l,Object.create(null))}get typeId(){return C.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(e=>`${e.type}`).join(" | ")}>`}}sg=Symbol.toStringTag;gu[sg]=(r=>(r.mode=null,r.typeIds=null,r.children=null,r.typeIdToChildIndex=null,r.ArrayType=Int8Array,r[Symbol.toStringTag]="Union"))(gu.prototype);let vu=class extends ge{constructor(e){super(),this.byteWidth=e}get typeId(){return C.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};og=Symbol.toStringTag;vu[og]=(r=>(r.byteWidth=null,r.ArrayType=Uint8Array,r[Symbol.toStringTag]="FixedSizeBinary"))(vu.prototype);let _u=class extends ge{constructor(e,t){super(),this.listSize=e,this.children=[t]}get typeId(){return C.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};lg=Symbol.toStringTag;_u[lg]=(r=>(r.children=null,r.listSize=null,r[Symbol.toStringTag]="FixedSizeList"))(_u.prototype);class wu extends ge{constructor(e,t=!1){super(),this.children=[e],this.keysSorted=t}get typeId(){return C.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(e=>`${e.name}:${e.type}`).join(", ")}}>`}}ag=Symbol.toStringTag;wu[ag]=(r=>(r.children=null,r.keysSorted=null,r[Symbol.toStringTag]="Map_"))(wu.prototype);const I1=(r=>()=>++r)(-1);class Hs extends ge{constructor(e,t,s,l){super(),this.indices=t,this.dictionary=e,this.isOrdered=l||!1,this.id=s==null?I1():typeof s=="number"?s:s.low}get typeId(){return C.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}ug=Symbol.toStringTag;Hs[ug]=(r=>(r.id=null,r.indices=null,r.isOrdered=null,r.dictionary=null,r[Symbol.toStringTag]="Dictionary"))(Hs.prototype);function Fr(r){const e=r;switch(r.typeId){case C.Decimal:return r.bitWidth/32;case C.Timestamp:return 2;case C.Date:return 1+e.unit;case C.Interval:return 1+e.unit;case C.FixedSizeList:return e.listSize;case C.FixedSizeBinary:return e.byteWidth;default:return 1}}class Me{visitMany(e,...t){return e.map((s,l)=>this.visit(s,...t.map(u=>u[l])))}visit(...e){return this.getVisitFn(e[0],!1).apply(this,e)}getVisitFn(e,t=!0){return k1(this,e,t)}getVisitFnByTypeId(e,t=!0){return Ps(this,e,t)}visitNull(e,...t){return null}visitBool(e,...t){return null}visitInt(e,...t){return null}visitFloat(e,...t){return null}visitUtf8(e,...t){return null}visitBinary(e,...t){return null}visitFixedSizeBinary(e,...t){return null}visitDate(e,...t){return null}visitTimestamp(e,...t){return null}visitTime(e,...t){return null}visitDecimal(e,...t){return null}visitList(e,...t){return null}visitStruct(e,...t){return null}visitUnion(e,...t){return null}visitDictionary(e,...t){return null}visitInterval(e,...t){return null}visitFixedSizeList(e,...t){return null}visitMap(e,...t){return null}}function k1(r,e,t=!0){return typeof e=="number"?Ps(r,e,t):typeof e=="string"&&e in C?Ps(r,C[e],t):e&&e instanceof ge?Ps(r,tm(e),t):e?.type&&e.type instanceof ge?Ps(r,tm(e.type),t):Ps(r,C.NONE,t)}function Ps(r,e,t=!0){let s=null;switch(e){case C.Null:s=r.visitNull;break;case C.Bool:s=r.visitBool;break;case C.Int:s=r.visitInt;break;case C.Int8:s=r.visitInt8||r.visitInt;break;case C.Int16:s=r.visitInt16||r.visitInt;break;case C.Int32:s=r.visitInt32||r.visitInt;break;case C.Int64:s=r.visitInt64||r.visitInt;break;case C.Uint8:s=r.visitUint8||r.visitInt;break;case C.Uint16:s=r.visitUint16||r.visitInt;break;case C.Uint32:s=r.visitUint32||r.visitInt;break;case C.Uint64:s=r.visitUint64||r.visitInt;break;case C.Float:s=r.visitFloat;break;case C.Float16:s=r.visitFloat16||r.visitFloat;break;case C.Float32:s=r.visitFloat32||r.visitFloat;break;case C.Float64:s=r.visitFloat64||r.visitFloat;break;case C.Utf8:s=r.visitUtf8;break;case C.Binary:s=r.visitBinary;break;case C.FixedSizeBinary:s=r.visitFixedSizeBinary;break;case C.Date:s=r.visitDate;break;case C.DateDay:s=r.visitDateDay||r.visitDate;break;case C.DateMillisecond:s=r.visitDateMillisecond||r.visitDate;break;case C.Timestamp:s=r.visitTimestamp;break;case C.TimestampSecond:s=r.visitTimestampSecond||r.visitTimestamp;break;case C.TimestampMillisecond:s=r.visitTimestampMillisecond||r.visitTimestamp;break;case C.TimestampMicrosecond:s=r.visitTimestampMicrosecond||r.visitTimestamp;break;case C.TimestampNanosecond:s=r.visitTimestampNanosecond||r.visitTimestamp;break;case C.Time:s=r.visitTime;break;case C.TimeSecond:s=r.visitTimeSecond||r.visitTime;break;case C.TimeMillisecond:s=r.visitTimeMillisecond||r.visitTime;break;case C.TimeMicrosecond:s=r.visitTimeMicrosecond||r.visitTime;break;case C.TimeNanosecond:s=r.visitTimeNanosecond||r.visitTime;break;case C.Decimal:s=r.visitDecimal;break;case C.List:s=r.visitList;break;case C.Struct:s=r.visitStruct;break;case C.Union:s=r.visitUnion;break;case C.DenseUnion:s=r.visitDenseUnion||r.visitUnion;break;case C.SparseUnion:s=r.visitSparseUnion||r.visitUnion;break;case C.Dictionary:s=r.visitDictionary;break;case C.Interval:s=r.visitInterval;break;case C.IntervalDayTime:s=r.visitIntervalDayTime||r.visitInterval;break;case C.IntervalYearMonth:s=r.visitIntervalYearMonth||r.visitInterval;break;case C.FixedSizeList:s=r.visitFixedSizeList;break;case C.Map:s=r.visitMap;break}if(typeof s=="function")return s;if(!t)return()=>null;throw new Error(`Unrecognized type '${C[e]}'`)}function tm(r){switch(r.typeId){case C.Null:return C.Null;case C.Int:{const{bitWidth:e,isSigned:t}=r;switch(e){case 8:return t?C.Int8:C.Uint8;case 16:return t?C.Int16:C.Uint16;case 32:return t?C.Int32:C.Uint32;case 64:return t?C.Int64:C.Uint64}return C.Int}case C.Float:switch(r.precision){case hn.HALF:return C.Float16;case hn.SINGLE:return C.Float32;case hn.DOUBLE:return C.Float64}return C.Float;case C.Binary:return C.Binary;case C.Utf8:return C.Utf8;case C.Bool:return C.Bool;case C.Decimal:return C.Decimal;case C.Time:switch(r.unit){case ze.SECOND:return C.TimeSecond;case ze.MILLISECOND:return C.TimeMillisecond;case ze.MICROSECOND:return C.TimeMicrosecond;case ze.NANOSECOND:return C.TimeNanosecond}return C.Time;case C.Timestamp:switch(r.unit){case ze.SECOND:return C.TimestampSecond;case ze.MILLISECOND:return C.TimestampMillisecond;case ze.MICROSECOND:return C.TimestampMicrosecond;case ze.NANOSECOND:return C.TimestampNanosecond}return C.Timestamp;case C.Date:switch(r.unit){case zr.DAY:return C.DateDay;case zr.MILLISECOND:return C.DateMillisecond}return C.Date;case C.Interval:switch(r.unit){case Si.DAY_TIME:return C.IntervalDayTime;case Si.YEAR_MONTH:return C.IntervalYearMonth}return C.Interval;case C.Map:return C.Map;case C.List:return C.List;case C.Struct:return C.Struct;case C.Union:switch(r.mode){case On.Dense:return C.DenseUnion;case On.Sparse:return C.SparseUnion}return C.Union;case C.FixedSizeBinary:return C.FixedSizeBinary;case C.FixedSizeList:return C.FixedSizeList;case C.Dictionary:return C.Dictionary}throw new Error(`Unrecognized type '${C[r.typeId]}'`)}Me.prototype.visitInt8=null;Me.prototype.visitInt16=null;Me.prototype.visitInt32=null;Me.prototype.visitInt64=null;Me.prototype.visitUint8=null;Me.prototype.visitUint16=null;Me.prototype.visitUint32=null;Me.prototype.visitUint64=null;Me.prototype.visitFloat16=null;Me.prototype.visitFloat32=null;Me.prototype.visitFloat64=null;Me.prototype.visitDateDay=null;Me.prototype.visitDateMillisecond=null;Me.prototype.visitTimestampSecond=null;Me.prototype.visitTimestampMillisecond=null;Me.prototype.visitTimestampMicrosecond=null;Me.prototype.visitTimestampNanosecond=null;Me.prototype.visitTimeSecond=null;Me.prototype.visitTimeMillisecond=null;Me.prototype.visitTimeMicrosecond=null;Me.prototype.visitTimeNanosecond=null;Me.prototype.visitDenseUnion=null;Me.prototype.visitSparseUnion=null;Me.prototype.visitIntervalDayTime=null;Me.prototype.visitIntervalYearMonth=null;const cg=new Float64Array(1),Ms=new Uint32Array(cg.buffer);function fg(r){const e=(r&31744)>>10,t=(r&1023)/1024,s=Math.pow(-1,(r&32768)>>15);switch(e){case 31:return s*(t?Number.NaN:1/0);case 0:return s*(t?6103515625e-14*t:0)}return s*Math.pow(2,e-15)*(1+t)}function E1(r){if(r!==r)return 32256;cg[0]=r;const e=(Ms[1]&2147483648)>>16&65535;let t=Ms[1]&2146435072,s=0;return t>=1089470464?Ms[0]>0?t=31744:(t=(t&2080374784)>>16,s=(Ms[1]&1048575)>>10):t<=1056964608?(s=1048576+(Ms[1]&1048575),s=1048576+(s<<(t>>20)-998)>>21,t=0):(t=t-1056964608>>10,s=(Ms[1]&1048575)+512>>10),e|t|s&65535}class be extends Me{}function Ce(r){return(e,t,s)=>{if(e.setValid(t,s!=null))return r(e,t,s)}}const C1=(r,e,t)=>{r[e]=Math.trunc(t/864e5)},Pd=(r,e,t)=>{r[e]=Math.trunc(t%4294967296),r[e+1]=Math.trunc(t/4294967296)},x1=(r,e,t)=>{r[e]=Math.trunc(t*1e3%4294967296),r[e+1]=Math.trunc(t*1e3/4294967296)},O1=(r,e,t)=>{r[e]=Math.trunc(t*1e6%4294967296),r[e+1]=Math.trunc(t*1e6/4294967296)},dg=(r,e,t,s)=>{if(t+1<e.length){const{[t]:l,[t+1]:u}=e;r.set(s.subarray(0,u-l),l)}},A1=({offset:r,values:e},t,s)=>{const l=r+t;s?e[l>>3]|=1<<l%8:e[l>>3]&=~(1<<l%8)},$r=({values:r},e,t)=>{r[e]=t},Ld=({values:r},e,t)=>{r[e]=t},hg=({values:r},e,t)=>{r[e]=E1(t)},N1=(r,e,t)=>{switch(r.type.precision){case hn.HALF:return hg(r,e,t);case hn.SINGLE:case hn.DOUBLE:return Ld(r,e,t)}},pg=({values:r},e,t)=>{C1(r,e,t.valueOf())},yg=({values:r},e,t)=>{Pd(r,e*2,t.valueOf())},T1=({stride:r,values:e},t,s)=>{e.set(s.subarray(0,r),r*t)},D1=({values:r,valueOffsets:e},t,s)=>dg(r,e,t,s),F1=({values:r,valueOffsets:e},t,s)=>{dg(r,e,t,Td(s))},B1=(r,e,t)=>{r.type.unit===zr.DAY?pg(r,e,t):yg(r,e,t)},mg=({values:r},e,t)=>Pd(r,e*2,t/1e3),gg=({values:r},e,t)=>Pd(r,e*2,t),vg=({values:r},e,t)=>x1(r,e*2,t),_g=({values:r},e,t)=>O1(r,e*2,t),M1=(r,e,t)=>{switch(r.type.unit){case ze.SECOND:return mg(r,e,t);case ze.MILLISECOND:return gg(r,e,t);case ze.MICROSECOND:return vg(r,e,t);case ze.NANOSECOND:return _g(r,e,t)}},wg=({values:r},e,t)=>{r[e]=t},Sg=({values:r},e,t)=>{r[e]=t},bg=({values:r},e,t)=>{r[e]=t},Ig=({values:r},e,t)=>{r[e]=t},P1=(r,e,t)=>{switch(r.type.unit){case ze.SECOND:return wg(r,e,t);case ze.MILLISECOND:return Sg(r,e,t);case ze.MICROSECOND:return bg(r,e,t);case ze.NANOSECOND:return Ig(r,e,t)}},L1=({values:r,stride:e},t,s)=>{r.set(s.subarray(0,e),e*t)},R1=(r,e,t)=>{const s=r.children[0],l=r.valueOffsets,u=Wn.getVisitFn(s);if(Array.isArray(t))for(let f=-1,h=l[e],p=l[e+1];h<p;)u(s,h++,t[++f]);else for(let f=-1,h=l[e],p=l[e+1];h<p;)u(s,h++,t.get(++f))},U1=(r,e,t)=>{const s=r.children[0],{valueOffsets:l}=r,u=Wn.getVisitFn(s);let{[e]:f,[e+1]:h}=l;const p=t instanceof Map?t.entries():Object.entries(t);for(const m of p)if(u(s,f,m),++f>=h)break},z1=(r,e)=>(t,s,l,u)=>s&&t(s,r,e[u]),j1=(r,e)=>(t,s,l,u)=>s&&t(s,r,e.get(u)),$1=(r,e)=>(t,s,l,u)=>s&&t(s,r,e.get(l.name)),V1=(r,e)=>(t,s,l,u)=>s&&t(s,r,e[l.name]),W1=(r,e,t)=>{const s=r.type.children.map(u=>Wn.getVisitFn(u.type)),l=t instanceof Map?$1(e,t):t instanceof We?j1(e,t):Array.isArray(t)?z1(e,t):V1(e,t);r.type.children.forEach((u,f)=>l(s[f],r.children[f],u,f))},K1=(r,e,t)=>{r.type.mode===On.Dense?kg(r,e,t):Eg(r,e,t)},kg=(r,e,t)=>{const s=r.type.typeIdToChildIndex[r.typeIds[e]],l=r.children[s];Wn.visit(l,r.valueOffsets[e],t)},Eg=(r,e,t)=>{const s=r.type.typeIdToChildIndex[r.typeIds[e]],l=r.children[s];Wn.visit(l,e,t)},H1=(r,e,t)=>{var s;(s=r.dictionary)===null||s===void 0||s.set(r.values[e],t)},q1=(r,e,t)=>{r.type.unit===Si.DAY_TIME?Cg(r,e,t):xg(r,e,t)},Cg=({values:r},e,t)=>{r.set(t.subarray(0,2),2*e)},xg=({values:r},e,t)=>{r[e]=t[0]*12+t[1]%12},Y1=(r,e,t)=>{const{stride:s}=r,l=r.children[0],u=Wn.getVisitFn(l);if(Array.isArray(t))for(let f=-1,h=e*s;++f<s;)u(l,h+f,t[f]);else for(let f=-1,h=e*s;++f<s;)u(l,h+f,t.get(f))};be.prototype.visitBool=Ce(A1);be.prototype.visitInt=Ce($r);be.prototype.visitInt8=Ce($r);be.prototype.visitInt16=Ce($r);be.prototype.visitInt32=Ce($r);be.prototype.visitInt64=Ce($r);be.prototype.visitUint8=Ce($r);be.prototype.visitUint16=Ce($r);be.prototype.visitUint32=Ce($r);be.prototype.visitUint64=Ce($r);be.prototype.visitFloat=Ce(N1);be.prototype.visitFloat16=Ce(hg);be.prototype.visitFloat32=Ce(Ld);be.prototype.visitFloat64=Ce(Ld);be.prototype.visitUtf8=Ce(F1);be.prototype.visitBinary=Ce(D1);be.prototype.visitFixedSizeBinary=Ce(T1);be.prototype.visitDate=Ce(B1);be.prototype.visitDateDay=Ce(pg);be.prototype.visitDateMillisecond=Ce(yg);be.prototype.visitTimestamp=Ce(M1);be.prototype.visitTimestampSecond=Ce(mg);be.prototype.visitTimestampMillisecond=Ce(gg);be.prototype.visitTimestampMicrosecond=Ce(vg);be.prototype.visitTimestampNanosecond=Ce(_g);be.prototype.visitTime=Ce(P1);be.prototype.visitTimeSecond=Ce(wg);be.prototype.visitTimeMillisecond=Ce(Sg);be.prototype.visitTimeMicrosecond=Ce(bg);be.prototype.visitTimeNanosecond=Ce(Ig);be.prototype.visitDecimal=Ce(L1);be.prototype.visitList=Ce(R1);be.prototype.visitStruct=Ce(W1);be.prototype.visitUnion=Ce(K1);be.prototype.visitDenseUnion=Ce(kg);be.prototype.visitSparseUnion=Ce(Eg);be.prototype.visitDictionary=Ce(H1);be.prototype.visitInterval=Ce(q1);be.prototype.visitIntervalDayTime=Ce(Cg);be.prototype.visitIntervalYearMonth=Ce(xg);be.prototype.visitFixedSizeList=Ce(Y1);be.prototype.visitMap=Ce(U1);const Wn=new be,Zn=Symbol.for("parent"),Vs=Symbol.for("rowIndex");class Rd{constructor(e,t){return this[Zn]=e,this[Vs]=t,new Proxy(this,new G1)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[Vs],t=this[Zn],s=t.type.children,l={};for(let u=-1,f=s.length;++u<f;)l[s[u].name]=yn.visit(t.children[u],e);return l}toString(){return`{${[...this].map(([e,t])=>`${ul(e)}: ${ul(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Q1(this[Zn],this[Vs])}}class Q1{constructor(e,t){this.childIndex=0,this.children=e.children,this.rowIndex=t,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,yn.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Rd.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Zn]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Vs]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class G1{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[Zn].type.children.map(t=>t.name)}has(e,t){return e[Zn].type.children.findIndex(s=>s.name===t)!==-1}getOwnPropertyDescriptor(e,t){if(e[Zn].type.children.findIndex(s=>s.name===t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];const s=e[Zn].type.children.findIndex(l=>l.name===t);if(s!==-1){const l=yn.visit(e[Zn].children[s],e[Vs]);return Reflect.set(e,t,l),l}}set(e,t,s){const l=e[Zn].type.children.findIndex(u=>u.name===t);return l!==-1?(Wn.visit(e[Zn].children[l],e[Vs],s),Reflect.set(e,t,s)):Reflect.has(e,t)||typeof t=="symbol"?Reflect.set(e,t,s):!1}}class ve extends Me{}function Ie(r){return(e,t)=>e.getValid(t)?r(e,t):null}const J1=(r,e)=>864e5*r[e],Ud=(r,e)=>4294967296*r[e+1]+(r[e]>>>0),Z1=(r,e)=>4294967296*(r[e+1]/1e3)+(r[e]>>>0)/1e3,X1=(r,e)=>4294967296*(r[e+1]/1e6)+(r[e]>>>0)/1e6,Og=r=>new Date(r),ew=(r,e)=>Og(J1(r,e)),tw=(r,e)=>Og(Ud(r,e)),nw=(r,e)=>null,Ag=(r,e,t)=>{if(t+1>=e.length)return null;const s=e[t],l=e[t+1];return r.subarray(s,l)},rw=({offset:r,values:e},t)=>{const s=r+t;return(e[s>>3]&1<<s%8)!==0},Ng=({values:r},e)=>ew(r,e),Tg=({values:r},e)=>tw(r,e*2),Ci=({stride:r,values:e},t)=>e[r*t],iw=({stride:r,values:e},t)=>fg(e[r*t]),Dg=({values:r},e)=>r[e],sw=({stride:r,values:e},t)=>e.subarray(r*t,r*(t+1)),ow=({values:r,valueOffsets:e},t)=>Ag(r,e,t),lw=({values:r,valueOffsets:e},t)=>{const s=Ag(r,e,t);return s!==null?cd(s):null},aw=({values:r},e)=>r[e],uw=({type:r,values:e},t)=>r.precision!==hn.HALF?e[t]:fg(e[t]),cw=(r,e)=>r.type.unit===zr.DAY?Ng(r,e):Tg(r,e),Fg=({values:r},e)=>1e3*Ud(r,e*2),Bg=({values:r},e)=>Ud(r,e*2),Mg=({values:r},e)=>Z1(r,e*2),Pg=({values:r},e)=>X1(r,e*2),fw=(r,e)=>{switch(r.type.unit){case ze.SECOND:return Fg(r,e);case ze.MILLISECOND:return Bg(r,e);case ze.MICROSECOND:return Mg(r,e);case ze.NANOSECOND:return Pg(r,e)}},Lg=({values:r},e)=>r[e],Rg=({values:r},e)=>r[e],Ug=({values:r},e)=>r[e],zg=({values:r},e)=>r[e],dw=(r,e)=>{switch(r.type.unit){case ze.SECOND:return Lg(r,e);case ze.MILLISECOND:return Rg(r,e);case ze.MICROSECOND:return Ug(r,e);case ze.NANOSECOND:return zg(r,e)}},hw=({values:r,stride:e},t)=>Md.decimal(r.subarray(e*t,e*(t+1))),pw=(r,e)=>{const{valueOffsets:t,stride:s,children:l}=r,{[e*s]:u,[e*s+1]:f}=t,p=l[0].slice(u,f-u);return new We([p])},yw=(r,e)=>{const{valueOffsets:t,children:s}=r,{[e]:l,[e+1]:u}=t,f=s[0];return new zd(f.slice(l,u-l))},mw=(r,e)=>new Rd(r,e),gw=(r,e)=>r.type.mode===On.Dense?jg(r,e):$g(r,e),jg=(r,e)=>{const t=r.type.typeIdToChildIndex[r.typeIds[e]],s=r.children[t];return yn.visit(s,r.valueOffsets[e])},$g=(r,e)=>{const t=r.type.typeIdToChildIndex[r.typeIds[e]],s=r.children[t];return yn.visit(s,e)},vw=(r,e)=>{var t;return(t=r.dictionary)===null||t===void 0?void 0:t.get(r.values[e])},_w=(r,e)=>r.type.unit===Si.DAY_TIME?Vg(r,e):Wg(r,e),Vg=({values:r},e)=>r.subarray(2*e,2*(e+1)),Wg=({values:r},e)=>{const t=r[e],s=new Int32Array(2);return s[0]=Math.trunc(t/12),s[1]=Math.trunc(t%12),s},ww=(r,e)=>{const{stride:t,children:s}=r,u=s[0].slice(e*t,t);return new We([u])};ve.prototype.visitNull=Ie(nw);ve.prototype.visitBool=Ie(rw);ve.prototype.visitInt=Ie(aw);ve.prototype.visitInt8=Ie(Ci);ve.prototype.visitInt16=Ie(Ci);ve.prototype.visitInt32=Ie(Ci);ve.prototype.visitInt64=Ie(Dg);ve.prototype.visitUint8=Ie(Ci);ve.prototype.visitUint16=Ie(Ci);ve.prototype.visitUint32=Ie(Ci);ve.prototype.visitUint64=Ie(Dg);ve.prototype.visitFloat=Ie(uw);ve.prototype.visitFloat16=Ie(iw);ve.prototype.visitFloat32=Ie(Ci);ve.prototype.visitFloat64=Ie(Ci);ve.prototype.visitUtf8=Ie(lw);ve.prototype.visitBinary=Ie(ow);ve.prototype.visitFixedSizeBinary=Ie(sw);ve.prototype.visitDate=Ie(cw);ve.prototype.visitDateDay=Ie(Ng);ve.prototype.visitDateMillisecond=Ie(Tg);ve.prototype.visitTimestamp=Ie(fw);ve.prototype.visitTimestampSecond=Ie(Fg);ve.prototype.visitTimestampMillisecond=Ie(Bg);ve.prototype.visitTimestampMicrosecond=Ie(Mg);ve.prototype.visitTimestampNanosecond=Ie(Pg);ve.prototype.visitTime=Ie(dw);ve.prototype.visitTimeSecond=Ie(Lg);ve.prototype.visitTimeMillisecond=Ie(Rg);ve.prototype.visitTimeMicrosecond=Ie(Ug);ve.prototype.visitTimeNanosecond=Ie(zg);ve.prototype.visitDecimal=Ie(hw);ve.prototype.visitList=Ie(pw);ve.prototype.visitStruct=Ie(mw);ve.prototype.visitUnion=Ie(gw);ve.prototype.visitDenseUnion=Ie(jg);ve.prototype.visitSparseUnion=Ie($g);ve.prototype.visitDictionary=Ie(vw);ve.prototype.visitInterval=Ie(_w);ve.prototype.visitIntervalDayTime=Ie(Vg);ve.prototype.visitIntervalYearMonth=Ie(Wg);ve.prototype.visitFixedSizeList=Ie(ww);ve.prototype.visitMap=Ie(yw);const yn=new ve,cr=Symbol.for("keys"),Ws=Symbol.for("vals");class zd{constructor(e){return this[cr]=new We([e.children[0]]).memoize(),this[Ws]=e.children[1],new Proxy(this,new bw)}[Symbol.iterator](){return new Sw(this[cr],this[Ws])}get size(){return this[cr].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[cr],t=this[Ws],s={};for(let l=-1,u=e.length;++l<u;)s[e.get(l)]=yn.visit(t,l);return s}toString(){return`{${[...this].map(([e,t])=>`${ul(e)}: ${ul(t)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class Sw{constructor(e,t){this.keys=e,this.vals=t,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),yn.visit(this.vals,e)]})}}class bw{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[cr].toArray().map(String)}has(e,t){return e[cr].includes(t)}getOwnPropertyDescriptor(e,t){if(e[cr].indexOf(t)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];const s=e[cr].indexOf(t);if(s!==-1){const l=yn.visit(Reflect.get(e,Ws),s);return Reflect.set(e,t,l),l}}set(e,t,s){const l=e[cr].indexOf(t);return l!==-1?(Wn.visit(Reflect.get(e,Ws),l,s),Reflect.set(e,t,s)):Reflect.has(e,t)?Reflect.set(e,t,s):!1}}Object.defineProperties(zd.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[cr]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ws]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let nm;function Kg(r,e,t,s){const{length:l=0}=r;let u=typeof e!="number"?0:e,f=typeof t!="number"?l:t;return u<0&&(u=(u%l+l)%l),f<0&&(f=(f%l+l)%l),f<u&&(nm=u,u=f,f=nm),f>l&&(f=l),s?s(r,u,f):[u,f]}const rm=r=>r!==r;function to(r){if(typeof r!=="object"||r===null)return rm(r)?rm:t=>t===r;if(r instanceof Date){const t=r.valueOf();return s=>s instanceof Date?s.valueOf()===t:!1}return ArrayBuffer.isView(r)?t=>t?y1(r,t):!1:r instanceof Map?kw(r):Array.isArray(r)?Iw(r):r instanceof We?Ew(r):Cw(r,!0)}function Iw(r){const e=[];for(let t=-1,s=r.length;++t<s;)e[t]=to(r[t]);return Ku(e)}function kw(r){let e=-1;const t=[];for(const s of r.values())t[++e]=to(s);return Ku(t)}function Ew(r){const e=[];for(let t=-1,s=r.length;++t<s;)e[t]=to(r.get(t));return Ku(e)}function Cw(r,e=!1){const t=Object.keys(r);if(!e&&t.length===0)return()=>!1;const s=[];for(let l=-1,u=t.length;++l<u;)s[l]=to(r[t[l]]);return Ku(s,t)}function Ku(r,e){return t=>{if(!t||typeof t!="object")return!1;switch(t.constructor){case Array:return xw(r,t);case Map:return im(r,t,t.keys());case zd:case Rd:case Object:case void 0:return im(r,t,e||Object.keys(t))}return t instanceof We?Ow(r,t):!1}}function xw(r,e){const t=r.length;if(e.length!==t)return!1;for(let s=-1;++s<t;)if(!r[s](e[s]))return!1;return!0}function Ow(r,e){const t=r.length;if(e.length!==t)return!1;for(let s=-1;++s<t;)if(!r[s](e.get(s)))return!1;return!0}function im(r,e,t){const s=t[Symbol.iterator](),l=e instanceof Map?e.keys():Object.keys(e)[Symbol.iterator](),u=e instanceof Map?e.values():Object.values(e)[Symbol.iterator]();let f=0;const h=r.length;let p=u.next(),m=s.next(),v=l.next();for(;f<h&&!m.done&&!v.done&&!p.done&&!(m.value!==v.value||!r[f](p.value));++f,m=s.next(),v=l.next(),p=u.next());return f===h&&m.done&&v.done&&p.done?!0:(s.return&&s.return(),l.return&&l.return(),u.return&&u.return(),!1)}function Hg(r,e,t,s){return(t&1<<s)!==0}function Aw(r,e,t,s){return(t&1<<s)>>s}function jd(r,e,t){const s=t.byteLength+7&-8;if(r>0||t.byteLength<s){const l=new Uint8Array(s);return l.set(r%8===0?t.subarray(r>>3):Su(new $d(t,r,e,null,Hg)).subarray(0,s)),l}return t}function Su(r){const e=[];let t=0,s=0,l=0;for(const f of r)f&&(l|=1<<s),++s===8&&(e[t++]=l,l=s=0);(t===0||s>0)&&(e[t++]=l);const u=new Uint8Array(e.length+7&-8);return u.set(e),u}class $d{constructor(e,t,s,l,u){this.bytes=e,this.length=s,this.context=l,this.get=u,this.bit=t%8,this.byteIndex=t>>3,this.byte=e[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function pd(r,e,t){if(t-e<=0)return 0;if(t-e<8){let u=0;for(const f of new $d(r,e,t-e,r,Aw))u+=f;return u}const s=t>>3<<3,l=e+(e%8===0?0:8-e%8);return pd(r,e,l)+pd(r,s,t)+Nw(r,l>>3,s-l>>3)}function Nw(r,e,t){let s=0,l=Math.trunc(e);const u=new DataView(r.buffer,r.byteOffset,r.byteLength),f=t===void 0?r.byteLength:l+t;for(;f-l>=4;)s+=Kf(u.getUint32(l)),l+=4;for(;f-l>=2;)s+=Kf(u.getUint16(l)),l+=2;for(;f-l>=1;)s+=Kf(u.getUint8(l)),l+=1;return s}function Kf(r){let e=Math.trunc(r);return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24}const Tw=-1;class tt{constructor(e,t,s,l,u,f=[],h){this.type=e,this.children=f,this.dictionary=h,this.offset=Math.floor(Math.max(t||0,0)),this.length=Math.floor(Math.max(s||0,0)),this._nullCount=Math.floor(Math.max(l||0,-1));let p;u instanceof tt?(this.stride=u.stride,this.values=u.values,this.typeIds=u.typeIds,this.nullBitmap=u.nullBitmap,this.valueOffsets=u.valueOffsets):(this.stride=Fr(e),u&&((p=u[0])&&(this.valueOffsets=p),(p=u[1])&&(this.values=p),(p=u[2])&&(this.nullBitmap=p),(p=u[3])&&(this.typeIds=p))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let e=0;const{valueOffsets:t,values:s,nullBitmap:l,typeIds:u}=this;return t&&(e+=t.byteLength),s&&(e+=s.byteLength),l&&(e+=l.byteLength),u&&(e+=u.byteLength),this.children.reduce((f,h)=>f+h.byteLength,e)}get nullCount(){let e=this._nullCount,t;return e<=Tw&&(t=this.nullBitmap)&&(this._nullCount=e=this.length-pd(t,this.offset,this.offset+this.length)),e}getValid(e){if(this.nullable&&this.nullCount>0){const t=this.offset+e;return(this.nullBitmap[t>>3]&1<<t%8)!==0}return!0}setValid(e,t){if(!this.nullable)return t;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){const{nullBitmap:p}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:p,_nullCount:0})}const{nullBitmap:s,offset:l}=this,u=l+e>>3,f=(l+e)%8,h=s[u]>>f&1;return t?h===0&&(s[u]|=1<<f,this._nullCount=this.nullCount+1):h===1&&(s[u]&=~(1<<f),this._nullCount=this.nullCount-1),t}clone(e=this.type,t=this.offset,s=this.length,l=this._nullCount,u=this,f=this.children){return new tt(e,t,s,l,u,f,this.dictionary)}slice(e,t){const{stride:s,typeId:l,children:u}=this,f=+(this._nullCount===0)-1,h=l===16?s:1,p=this._sliceBuffers(e,t,s,l);return this.clone(this.type,this.offset+e,t,f,p,u.length===0||this.valueOffsets?u:this._sliceChildren(u,h*e,h*t))}_changeLengthAndBackfillNullBitmap(e){if(this.typeId===C.Null)return this.clone(this.type,0,e,0);const{length:t,nullCount:s}=this,l=new Uint8Array((e+63&-64)>>3).fill(255,0,t>>3);l[t>>3]=(1<<t-(t&-8))-1,s>0&&l.set(jd(this.offset,t,this.nullBitmap),0);const u=this.buffers;return u[Dr.VALIDITY]=l,this.clone(this.type,0,e,s+(e-t),u)}_sliceBuffers(e,t,s,l){let u;const{buffers:f}=this;return(u=f[Dr.TYPE])&&(f[Dr.TYPE]=u.subarray(e,e+t)),(u=f[Dr.OFFSET])&&(f[Dr.OFFSET]=u.subarray(e,e+t+1))||(u=f[Dr.DATA])&&(f[Dr.DATA]=l===6?u:u.subarray(s*e,s*(e+t))),f}_sliceChildren(e,t,s){return e.map(l=>l.slice(t,s))}}tt.prototype.children=Object.freeze([]);class ol extends Me{visit(e){return this.getVisitFn(e.type).call(this,e)}visitNull(e){const{["type"]:t,["offset"]:s=0,["length"]:l=0}=e;return new tt(t,s,l,0)}visitBool(e){const{["type"]:t,["offset"]:s=0}=e,l=Ue(e.nullBitmap),u=Je(t.ArrayType,e.data),{["length"]:f=u.length>>3,["nullCount"]:h=e.nullBitmap?-1:0}=e;return new tt(t,s,f,h,[void 0,u,l])}visitInt(e){const{["type"]:t,["offset"]:s=0}=e,l=Ue(e.nullBitmap),u=Je(t.ArrayType,e.data),{["length"]:f=u.length,["nullCount"]:h=e.nullBitmap?-1:0}=e;return new tt(t,s,f,h,[void 0,u,l])}visitFloat(e){const{["type"]:t,["offset"]:s=0}=e,l=Ue(e.nullBitmap),u=Je(t.ArrayType,e.data),{["length"]:f=u.length,["nullCount"]:h=e.nullBitmap?-1:0}=e;return new tt(t,s,f,h,[void 0,u,l])}visitUtf8(e){const{["type"]:t,["offset"]:s=0}=e,l=Ue(e.data),u=Ue(e.nullBitmap),f=Zo(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:p=e.nullBitmap?-1:0}=e;return new tt(t,s,h,p,[f,l,u])}visitBinary(e){const{["type"]:t,["offset"]:s=0}=e,l=Ue(e.data),u=Ue(e.nullBitmap),f=Zo(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:p=e.nullBitmap?-1:0}=e;return new tt(t,s,h,p,[f,l,u])}visitFixedSizeBinary(e){const{["type"]:t,["offset"]:s=0}=e,l=Ue(e.nullBitmap),u=Je(t.ArrayType,e.data),{["length"]:f=u.length/Fr(t),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new tt(t,s,f,h,[void 0,u,l])}visitDate(e){const{["type"]:t,["offset"]:s=0}=e,l=Ue(e.nullBitmap),u=Je(t.ArrayType,e.data),{["length"]:f=u.length/Fr(t),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new tt(t,s,f,h,[void 0,u,l])}visitTimestamp(e){const{["type"]:t,["offset"]:s=0}=e,l=Ue(e.nullBitmap),u=Je(t.ArrayType,e.data),{["length"]:f=u.length/Fr(t),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new tt(t,s,f,h,[void 0,u,l])}visitTime(e){const{["type"]:t,["offset"]:s=0}=e,l=Ue(e.nullBitmap),u=Je(t.ArrayType,e.data),{["length"]:f=u.length/Fr(t),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new tt(t,s,f,h,[void 0,u,l])}visitDecimal(e){const{["type"]:t,["offset"]:s=0}=e,l=Ue(e.nullBitmap),u=Je(t.ArrayType,e.data),{["length"]:f=u.length/Fr(t),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new tt(t,s,f,h,[void 0,u,l])}visitList(e){const{["type"]:t,["offset"]:s=0,["child"]:l}=e,u=Ue(e.nullBitmap),f=Zo(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:p=e.nullBitmap?-1:0}=e;return new tt(t,s,h,p,[f,void 0,u],[l])}visitStruct(e){const{["type"]:t,["offset"]:s=0,["children"]:l=[]}=e,u=Ue(e.nullBitmap),{length:f=l.reduce((p,{length:m})=>Math.max(p,m),0),nullCount:h=e.nullBitmap?-1:0}=e;return new tt(t,s,f,h,[void 0,void 0,u],l)}visitUnion(e){const{["type"]:t,["offset"]:s=0,["children"]:l=[]}=e,u=Ue(e.nullBitmap),f=Je(t.ArrayType,e.typeIds),{["length"]:h=f.length,["nullCount"]:p=e.nullBitmap?-1:0}=e;if(ge.isSparseUnion(t))return new tt(t,s,h,p,[void 0,void 0,u,f],l);const m=Zo(e.valueOffsets);return new tt(t,s,h,p,[m,void 0,u,f],l)}visitDictionary(e){const{["type"]:t,["offset"]:s=0}=e,l=Ue(e.nullBitmap),u=Je(t.indices.ArrayType,e.data),{["dictionary"]:f=new We([new ol().visit({type:t.dictionary})])}=e,{["length"]:h=u.length,["nullCount"]:p=e.nullBitmap?-1:0}=e;return new tt(t,s,h,p,[void 0,u,l],[],f)}visitInterval(e){const{["type"]:t,["offset"]:s=0}=e,l=Ue(e.nullBitmap),u=Je(t.ArrayType,e.data),{["length"]:f=u.length/Fr(t),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new tt(t,s,f,h,[void 0,u,l])}visitFixedSizeList(e){const{["type"]:t,["offset"]:s=0,["child"]:l=new ol().visit({type:t.valueType})}=e,u=Ue(e.nullBitmap),{["length"]:f=l.length/Fr(t),["nullCount"]:h=e.nullBitmap?-1:0}=e;return new tt(t,s,f,h,[void 0,void 0,u],[l])}visitMap(e){const{["type"]:t,["offset"]:s=0,["child"]:l=new ol().visit({type:t.childType})}=e,u=Ue(e.nullBitmap),f=Zo(e.valueOffsets),{["length"]:h=f.length-1,["nullCount"]:p=e.nullBitmap?-1:0}=e;return new tt(t,s,h,p,[f,void 0,u],[l])}}function Be(r){return new ol().visit(r)}class sm{constructor(e=0,t){this.numChunks=e,this.getChunkIterator=t,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function qg(r){return r.reduce((e,t)=>e+t.nullCount,0)}function Yg(r){return r.reduce((e,t,s)=>(e[s+1]=e[s]+t.length,e),new Uint32Array(r.length+1))}function Qg(r,e,t,s){const l=[];for(let u=-1,f=r.length;++u<f;){const h=r[u],p=e[u],{length:m}=h;if(p>=s)break;if(t>=p+m)continue;if(p>=t&&p+m<=s){l.push(h);continue}const v=Math.max(0,t-p),w=Math.min(s-p,m);l.push(h.slice(v,w-v))}return l.length===0&&l.push(r[0].slice(0,0)),l}function Vd(r,e,t,s){let l=0,u=0,f=e.length-1;do{if(l>=f-1)return t<e[f]?s(r,l,t-e[l]):null;u=l+Math.trunc((f-l)*.5),t<e[u]?f=u:l=u}while(l<f)}function Wd(r,e){return r.getValid(e)}function Ks(r){function e(t,s,l){return r(t[s],l)}return function(t){const s=this.data;return Vd(s,this._offsets,t,e)}}function Gg(r){let e;function t(s,l,u){return r(s[l],u,e)}return function(s,l){const u=this.data;e=l;const f=Vd(u,this._offsets,s,t);return e=void 0,f}}function Jg(r){let e;function t(s,l,u){let f=u,h=0,p=0;for(let m=l-1,v=s.length;++m<v;){const w=s[m];if(~(h=r(w,e,f)))return p+h;f=0,p+=w.length}return-1}return function(s,l){e=s;const u=this.data,f=typeof l!="number"?t(u,0,0):Vd(u,this._offsets,l,t);return e=void 0,f}}class _e extends Me{}function Dw(r,e){return e===null&&r.length>0?0:-1}function Fw(r,e){const{nullBitmap:t}=r;if(!t||r.nullCount<=0)return-1;let s=0;for(const l of new $d(t,r.offset+(e||0),r.length,t,Hg)){if(!l)return s;++s}return-1}function Ae(r,e,t){if(e===void 0)return-1;if(e===null)return Fw(r,t);const s=yn.getVisitFn(r),l=to(e);for(let u=(t||0)-1,f=r.length;++u<f;)if(l(s(r,u)))return u;return-1}function Zg(r,e,t){const s=yn.getVisitFn(r),l=to(e);for(let u=(t||0)-1,f=r.length;++u<f;)if(l(s(r,u)))return u;return-1}_e.prototype.visitNull=Dw;_e.prototype.visitBool=Ae;_e.prototype.visitInt=Ae;_e.prototype.visitInt8=Ae;_e.prototype.visitInt16=Ae;_e.prototype.visitInt32=Ae;_e.prototype.visitInt64=Ae;_e.prototype.visitUint8=Ae;_e.prototype.visitUint16=Ae;_e.prototype.visitUint32=Ae;_e.prototype.visitUint64=Ae;_e.prototype.visitFloat=Ae;_e.prototype.visitFloat16=Ae;_e.prototype.visitFloat32=Ae;_e.prototype.visitFloat64=Ae;_e.prototype.visitUtf8=Ae;_e.prototype.visitBinary=Ae;_e.prototype.visitFixedSizeBinary=Ae;_e.prototype.visitDate=Ae;_e.prototype.visitDateDay=Ae;_e.prototype.visitDateMillisecond=Ae;_e.prototype.visitTimestamp=Ae;_e.prototype.visitTimestampSecond=Ae;_e.prototype.visitTimestampMillisecond=Ae;_e.prototype.visitTimestampMicrosecond=Ae;_e.prototype.visitTimestampNanosecond=Ae;_e.prototype.visitTime=Ae;_e.prototype.visitTimeSecond=Ae;_e.prototype.visitTimeMillisecond=Ae;_e.prototype.visitTimeMicrosecond=Ae;_e.prototype.visitTimeNanosecond=Ae;_e.prototype.visitDecimal=Ae;_e.prototype.visitList=Ae;_e.prototype.visitStruct=Ae;_e.prototype.visitUnion=Ae;_e.prototype.visitDenseUnion=Zg;_e.prototype.visitSparseUnion=Zg;_e.prototype.visitDictionary=Ae;_e.prototype.visitInterval=Ae;_e.prototype.visitIntervalDayTime=Ae;_e.prototype.visitIntervalYearMonth=Ae;_e.prototype.visitFixedSizeList=Ae;_e.prototype.visitMap=Ae;const bu=new _e;class we extends Me{}function ke(r){const{type:e}=r;if(r.nullCount===0&&r.stride===1&&(e.typeId===C.Timestamp||e instanceof Ii&&e.bitWidth!==64||e instanceof hl&&e.bitWidth!==64||e instanceof dl&&e.precision!==hn.HALF))return new sm(r.data.length,s=>{const l=r.data[s];return l.values.subarray(0,l.length)[Symbol.iterator]()});let t=0;return new sm(r.data.length,s=>{const u=r.data[s].length,f=r.slice(t,t+u);return t+=u,new Bw(f)})}class Bw{constructor(e){this.vector=e,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}we.prototype.visitNull=ke;we.prototype.visitBool=ke;we.prototype.visitInt=ke;we.prototype.visitInt8=ke;we.prototype.visitInt16=ke;we.prototype.visitInt32=ke;we.prototype.visitInt64=ke;we.prototype.visitUint8=ke;we.prototype.visitUint16=ke;we.prototype.visitUint32=ke;we.prototype.visitUint64=ke;we.prototype.visitFloat=ke;we.prototype.visitFloat16=ke;we.prototype.visitFloat32=ke;we.prototype.visitFloat64=ke;we.prototype.visitUtf8=ke;we.prototype.visitBinary=ke;we.prototype.visitFixedSizeBinary=ke;we.prototype.visitDate=ke;we.prototype.visitDateDay=ke;we.prototype.visitDateMillisecond=ke;we.prototype.visitTimestamp=ke;we.prototype.visitTimestampSecond=ke;we.prototype.visitTimestampMillisecond=ke;we.prototype.visitTimestampMicrosecond=ke;we.prototype.visitTimestampNanosecond=ke;we.prototype.visitTime=ke;we.prototype.visitTimeSecond=ke;we.prototype.visitTimeMillisecond=ke;we.prototype.visitTimeMicrosecond=ke;we.prototype.visitTimeNanosecond=ke;we.prototype.visitDecimal=ke;we.prototype.visitList=ke;we.prototype.visitStruct=ke;we.prototype.visitUnion=ke;we.prototype.visitDenseUnion=ke;we.prototype.visitSparseUnion=ke;we.prototype.visitDictionary=ke;we.prototype.visitInterval=ke;we.prototype.visitIntervalDayTime=ke;we.prototype.visitIntervalYearMonth=ke;we.prototype.visitFixedSizeList=ke;we.prototype.visitMap=ke;const Kd=new we,Mw=(r,e)=>r+e;class xi extends Me{visitNull(e,t){return 0}visitInt(e,t){return e.type.bitWidth/8}visitFloat(e,t){return e.type.ArrayType.BYTES_PER_ELEMENT}visitBool(e,t){return 1/8}visitDecimal(e,t){return e.type.bitWidth/8}visitDate(e,t){return(e.type.unit+1)*4}visitTime(e,t){return e.type.bitWidth/8}visitTimestamp(e,t){return e.type.unit===ze.SECOND?4:8}visitInterval(e,t){return(e.type.unit+1)*4}visitStruct(e,t){return e.children.reduce((s,l)=>s+_r.visit(l,t),0)}visitFixedSizeBinary(e,t){return e.type.byteWidth}visitMap(e,t){return 8+e.children.reduce((s,l)=>s+_r.visit(l,t),0)}visitDictionary(e,t){var s;return e.type.indices.bitWidth/8+(((s=e.dictionary)===null||s===void 0?void 0:s.getByteLength(e.values[t]))||0)}}const Pw=({valueOffsets:r},e)=>8+(r[e+1]-r[e]),Lw=({valueOffsets:r},e)=>8+(r[e+1]-r[e]),Rw=({valueOffsets:r,stride:e,children:t},s)=>{const l=t[0],{[s*e]:u}=r,{[s*e+1]:f}=r,h=_r.getVisitFn(l.type),p=l.slice(u,f-u);let m=8;for(let v=-1,w=f-u;++v<w;)m+=h(p,v);return m},Uw=({stride:r,children:e},t)=>{const s=e[0],l=s.slice(t*r,r),u=_r.getVisitFn(s.type);let f=0;for(let h=-1,p=l.length;++h<p;)f+=u(l,h);return f},zw=(r,e)=>r.type.mode===On.Dense?Xg(r,e):e0(r,e),Xg=({type:r,children:e,typeIds:t,valueOffsets:s},l)=>{const u=r.typeIdToChildIndex[t[l]];return 8+_r.visit(e[u],s[l])},e0=({children:r},e)=>4+_r.visitMany(r,r.map(()=>e)).reduce(Mw,0);xi.prototype.visitUtf8=Pw;xi.prototype.visitBinary=Lw;xi.prototype.visitList=Rw;xi.prototype.visitFixedSizeList=Uw;xi.prototype.visitUnion=zw;xi.prototype.visitDenseUnion=Xg;xi.prototype.visitSparseUnion=e0;const _r=new xi;var t0;const n0={},r0={};class We{constructor(e){var t,s,l;const u=e[0]instanceof We?e.flatMap(h=>h.data):e;if(u.length===0||u.some(h=>!(h instanceof tt)))throw new TypeError("Vector constructor expects an Array of Data instances.");const f=(t=u[0])===null||t===void 0?void 0:t.type;switch(u.length){case 0:this._offsets=[0];break;case 1:{const{get:h,set:p,indexOf:m,byteLength:v}=n0[f.typeId],w=u[0];this.isValid=I=>Wd(w,I),this.get=I=>h(w,I),this.set=(I,A)=>p(w,I,A),this.indexOf=I=>m(w,I),this.getByteLength=I=>v(w,I),this._offsets=[0,w.length];break}default:Object.setPrototypeOf(this,r0[f.typeId]),this._offsets=Yg(u);break}this.data=u,this.type=f,this.stride=Fr(f),this.numChildren=(l=(s=f.children)===null||s===void 0?void 0:s.length)!==null&&l!==void 0?l:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((e,t)=>e+t.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=qg(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${C[this.type.typeId]}Vector`}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}includes(e,t){return this.indexOf(e,t)>0}getByteLength(e){return 0}[Symbol.iterator](){return Kd.visit(this)}concat(...e){return new We(this.data.concat(e.flatMap(t=>t.data).flat(Number.POSITIVE_INFINITY)))}slice(e,t){return new We(Kg(this,e,t,({data:s,_offsets:l},u,f)=>Qg(s,l,u,f)))}toJSON(){return[...this]}toArray(){const{type:e,data:t,length:s,stride:l,ArrayType:u}=this;switch(e.typeId){case C.Int:case C.Float:case C.Decimal:case C.Time:case C.Timestamp:switch(t.length){case 0:return new u;case 1:return t[0].values.subarray(0,s*l);default:return t.reduce((f,{values:h,length:p})=>(f.array.set(h.subarray(0,p*l),f.offset),f.offset+=p*l,f),{array:new u(s*l),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(e){var t;return this.getChildAt((t=this.type.children)===null||t===void 0?void 0:t.findIndex(s=>s.name===e))}getChildAt(e){return e>-1&&e<this.numChildren?new We(this.data.map(({children:t})=>t[e])):null}get isMemoized(){return ge.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(ge.isDictionary(this.type)){const e=new Iu(this.data[0].dictionary),t=this.data.map(s=>{const l=s.clone();return l.dictionary=e,l});return new We(t)}return new Iu(this)}unmemoize(){if(ge.isDictionary(this.type)&&this.isMemoized){const e=this.data[0].dictionary.unmemoize(),t=this.data.map(s=>{const l=s.clone();return l.dictionary=e,l});return new We(t)}return this}}t0=Symbol.toStringTag;We[t0]=(r=>{r.type=ge.prototype,r.data=[],r.length=0,r.stride=1,r.numChildren=0,r._nullCount=-1,r._byteLength=-1,r._offsets=new Uint32Array([0]),r[Symbol.isConcatSpreadable]=!0;const e=Object.keys(C).map(t=>C[t]).filter(t=>typeof t=="number"&&t!==C.NONE);for(const t of e){const s=yn.getVisitFnByTypeId(t),l=Wn.getVisitFnByTypeId(t),u=bu.getVisitFnByTypeId(t),f=_r.getVisitFnByTypeId(t);n0[t]={get:s,set:l,indexOf:u,byteLength:f},r0[t]=Object.create(r,{isValid:{value:Ks(Wd)},get:{value:Ks(yn.getVisitFnByTypeId(t))},set:{value:Gg(Wn.getVisitFnByTypeId(t))},indexOf:{value:Jg(bu.getVisitFnByTypeId(t))},getByteLength:{value:Ks(_r.getVisitFnByTypeId(t))}})}return"Vector"})(We.prototype);class Iu extends We{constructor(e){super(e.data);const t=this.get,s=this.set,l=this.slice,u=new Array(this.length);Object.defineProperty(this,"get",{value(f){const h=u[f];if(h!==void 0)return h;const p=t.call(this,f);return u[f]=p,p}}),Object.defineProperty(this,"set",{value(f,h){s.call(this,f,h),u[f]=h}}),Object.defineProperty(this,"slice",{value:(f,h)=>new Iu(l.call(this,f,h))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new We(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class yd{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(e,t,s,l){return e.prep(8,24),e.writeInt64(l),e.pad(4),e.writeInt32(s),e.writeInt64(t),e.offset()}}const Hf=2,fr=4,Mr=4,Ze=4,gi=new Int32Array(2),om=new Float32Array(gi.buffer),lm=new Float64Array(gi.buffer),Qa=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let Rr=class md{constructor(e,t){this.low=e|0,this.high=t|0}static create(e,t){return e==0&&t==0?md.ZERO:new md(e,t)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(e){return this.low==e.low&&this.high==e.high}};Rr.ZERO=new Rr(0,0);var gd;(function(r){r[r.UTF8_BYTES=1]="UTF8_BYTES",r[r.UTF16_STRING=2]="UTF16_STRING"})(gd||(gd={}));let qs=class i0{constructor(e){this.bytes_=e,this.position_=0}static allocate(e){return new i0(new Uint8Array(e))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(e){this.position_=e}capacity(){return this.bytes_.length}readInt8(e){return this.readUint8(e)<<24>>24}readUint8(e){return this.bytes_[e]}readInt16(e){return this.readUint16(e)<<16>>16}readUint16(e){return this.bytes_[e]|this.bytes_[e+1]<<8}readInt32(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}readUint32(e){return this.readInt32(e)>>>0}readInt64(e){return new Rr(this.readInt32(e),this.readInt32(e+4))}readUint64(e){return new Rr(this.readUint32(e),this.readUint32(e+4))}readFloat32(e){return gi[0]=this.readInt32(e),om[0]}readFloat64(e){return gi[Qa?0:1]=this.readInt32(e),gi[Qa?1:0]=this.readInt32(e+4),lm[0]}writeInt8(e,t){this.bytes_[e]=t}writeUint8(e,t){this.bytes_[e]=t}writeInt16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeUint16(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}writeInt32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeUint32(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}writeInt64(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)}writeUint64(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)}writeFloat32(e,t){om[0]=t,this.writeInt32(e,gi[0])}writeFloat64(e,t){lm[0]=t,this.writeInt32(e,gi[Qa?0:1]),this.writeInt32(e+4,gi[Qa?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+fr+Mr)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let e="";for(let t=0;t<Mr;t++)e+=String.fromCharCode(this.readInt8(this.position_+fr+t));return e}__offset(e,t){const s=e-this.readInt32(e);return t<this.readInt16(s)?this.readInt16(s+t):0}__union(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e}__string(e,t){e+=this.readInt32(e);const s=this.readInt32(e);let l="",u=0;if(e+=fr,t===gd.UTF8_BYTES)return this.bytes_.subarray(e,e+s);for(;u<s;){let f;const h=this.readUint8(e+u++);if(h<192)f=h;else{const p=this.readUint8(e+u++);if(h<224)f=(h&31)<<6|p&63;else{const m=this.readUint8(e+u++);if(h<240)f=(h&15)<<12|(p&63)<<6|m&63;else{const v=this.readUint8(e+u++);f=(h&7)<<18|(p&63)<<12|(m&63)<<6|v&63}}}f<65536?l+=String.fromCharCode(f):(f-=65536,l+=String.fromCharCode((f>>10)+55296,(f&1023)+56320))}return l}__union_with_string(e,t){return typeof e=="string"?this.__string(t):this.__union(e,t)}__indirect(e){return e+this.readInt32(e)}__vector(e){return e+this.readInt32(e)+fr}__vector_len(e){return this.readInt32(e+this.readInt32(e))}__has_identifier(e){if(e.length!=Mr)throw new Error("FlatBuffers: file identifier must be length "+Mr);for(let t=0;t<Mr;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+fr+t))return!1;return!0}createLong(e,t){return Rr.create(e,t)}createScalarList(e,t){const s=[];for(let l=0;l<t;++l)e(l)!==null&&s.push(e(l));return s}createObjList(e,t){const s=[];for(let l=0;l<t;++l){const u=e(l);u!==null&&s.push(u.unpack())}return s}},s0=class o0{constructor(e){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let t;e?t=e:t=1024,this.bb=qs.allocate(t),this.space=t}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(e){this.force_defaults=e}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(e,t){e>this.minalign&&(this.minalign=e);const s=~(this.bb.capacity()-this.space+t)+1&e-1;for(;this.space<s+e+t;){const l=this.bb.capacity();this.bb=o0.growByteBuffer(this.bb),this.space+=this.bb.capacity()-l}this.pad(s)}pad(e){for(let t=0;t<e;t++)this.bb.writeInt8(--this.space,0)}writeInt8(e){this.bb.writeInt8(this.space-=1,e)}writeInt16(e){this.bb.writeInt16(this.space-=2,e)}writeInt32(e){this.bb.writeInt32(this.space-=4,e)}writeInt64(e){this.bb.writeInt64(this.space-=8,e)}writeFloat32(e){this.bb.writeFloat32(this.space-=4,e)}writeFloat64(e){this.bb.writeFloat64(this.space-=8,e)}addInt8(e){this.prep(1,0),this.writeInt8(e)}addInt16(e){this.prep(2,0),this.writeInt16(e)}addInt32(e){this.prep(4,0),this.writeInt32(e)}addInt64(e){this.prep(8,0),this.writeInt64(e)}addFloat32(e){this.prep(4,0),this.writeFloat32(e)}addFloat64(e){this.prep(8,0),this.writeFloat64(e)}addFieldInt8(e,t,s){(this.force_defaults||t!=s)&&(this.addInt8(t),this.slot(e))}addFieldInt16(e,t,s){(this.force_defaults||t!=s)&&(this.addInt16(t),this.slot(e))}addFieldInt32(e,t,s){(this.force_defaults||t!=s)&&(this.addInt32(t),this.slot(e))}addFieldInt64(e,t,s){(this.force_defaults||!t.equals(s))&&(this.addInt64(t),this.slot(e))}addFieldFloat32(e,t,s){(this.force_defaults||t!=s)&&(this.addFloat32(t),this.slot(e))}addFieldFloat64(e,t,s){(this.force_defaults||t!=s)&&(this.addFloat64(t),this.slot(e))}addFieldOffset(e,t,s){(this.force_defaults||t!=s)&&(this.addOffset(t),this.slot(e))}addFieldStruct(e,t,s){t!=s&&(this.nested(t),this.slot(e))}nested(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(e){this.vtable!==null&&(this.vtable[e]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(e){const t=e.capacity();if(t&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const s=t<<1,l=qs.allocate(s);return l.setPosition(s-t),l.bytes().set(e.bytes(),s-t),l}addOffset(e){this.prep(fr,0),this.writeInt32(this.offset()-e+fr)}startObject(e){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=e;for(let t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const e=this.offset();let t=this.vtable_in_use-1;for(;t>=0&&this.vtable[t]==0;t--);const s=t+1;for(;t>=0;t--)this.addInt16(this.vtable[t]!=0?e-this.vtable[t]:0);const l=2;this.addInt16(e-this.object_start);const u=(s+l)*Hf;this.addInt16(u);let f=0;const h=this.space;e:for(t=0;t<this.vtables.length;t++){const p=this.bb.capacity()-this.vtables[t];if(u==this.bb.readInt16(p)){for(let m=Hf;m<u;m+=Hf)if(this.bb.readInt16(h+m)!=this.bb.readInt16(p+m))continue e;f=this.vtables[t];break}}return f?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,f-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}finish(e,t,s){const l=s?Ze:0;if(t){const u=t;if(this.prep(this.minalign,fr+Mr+l),u.length!=Mr)throw new Error("FlatBuffers: file identifier must be length "+Mr);for(let f=Mr-1;f>=0;f--)this.writeInt8(u.charCodeAt(f))}this.prep(this.minalign,fr+l),this.addOffset(e),l&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(e,t){this.finish(e,t,!0)}requiredField(e,t){const s=this.bb.capacity()-e,l=s-this.bb.readInt32(s);if(!(this.bb.readInt16(l+t)!=0))throw new Error("FlatBuffers: field "+t+" must be set")}startVector(e,t,s){this.notNested(),this.vector_num_elems=t,this.prep(fr,e*t),this.prep(s,e*t)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);const t=this.createString(e);return this.string_maps.set(e,t),t}createString(e){if(!e)return 0;let t;if(e instanceof Uint8Array)t=e;else{t=[];let s=0;for(;s<e.length;){let l;const u=e.charCodeAt(s++);if(u<55296||u>=56320)l=u;else{const f=e.charCodeAt(s++);l=(u<<10)+f+-56613888}l<128?t.push(l):(l<2048?t.push(l>>6&31|192):(l<65536?t.push(l>>12&15|224):t.push(l>>18&7|240,l>>12&63|128),t.push(l>>6&63|128)),t.push(l&63|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(let s=0,l=this.space,u=this.bb.bytes();s<t.length;s++)u[l++]=t[s];return this.endVector()}createLong(e,t){return Rr.create(e,t)}createObjectOffset(e){return e===null?0:typeof e=="string"?this.createString(e):e.pack(this)}createObjectOffsetList(e){const t=[];for(let s=0;s<e.length;++s){const l=e[s];if(l!==null)t.push(this.createObjectOffset(l));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return t}createStructOffsetList(e,t){return t(this,e.length),this.createObjectOffsetList(e),this.endVector()}};class Ot{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsKeyValue(e,t){return(t||new Ot).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsKeyValue(e,t){return e.setPosition(e.position()+Ze),(t||new Ot).__init(e.readInt32(e.position())+e.position(),e)}key(e){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}value(e){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startKeyValue(e){e.startObject(2)}static addKey(e,t){e.addFieldOffset(0,t,0)}static addValue(e,t){e.addFieldOffset(1,t,0)}static endKeyValue(e){return e.endObject()}static createKeyValue(e,t,s){return Ot.startKeyValue(e),Ot.addKey(e,t),Ot.addValue(e,s),Ot.endKeyValue(e)}}var Ys;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(Ys||(Ys={}));var Qs;(function(r){r[r.Little=0]="Little",r[r.Big=1]="Big"})(Qs||(Qs={}));var ku;(function(r){r[r.DenseArray=0]="DenseArray"})(ku||(ku={}));class Cn{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInt(e,t){return(t||new Cn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInt(e,t){return e.setPosition(e.position()+Ze),(t||new Cn).__init(e.readInt32(e.position())+e.position(),e)}bitWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}isSigned(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startInt(e){e.startObject(2)}static addBitWidth(e,t){e.addFieldInt32(0,t,0)}static addIsSigned(e,t){e.addFieldInt8(1,+t,0)}static endInt(e){return e.endObject()}static createInt(e,t,s){return Cn.startInt(e),Cn.addBitWidth(e,t),Cn.addIsSigned(e,s),Cn.endInt(e)}}class Pr{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryEncoding(e,t){return(t||new Pr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryEncoding(e,t){return e.setPosition(e.position()+Ze),(t||new Pr).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}indexType(e){const t=this.bb.__offset(this.bb_pos,6);return t?(e||new Cn).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isOrdered(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}dictionaryKind(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):ku.DenseArray}static startDictionaryEncoding(e){e.startObject(4)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addIndexType(e,t){e.addFieldOffset(1,t,0)}static addIsOrdered(e,t){e.addFieldInt8(2,+t,0)}static addDictionaryKind(e,t){e.addFieldInt16(3,t,ku.DenseArray)}static endDictionaryEncoding(e){return e.endObject()}}class Gi{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBinary(e,t){return(t||new Gi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBinary(e,t){return e.setPosition(e.position()+Ze),(t||new Gi).__init(e.readInt32(e.position())+e.position(),e)}static startBinary(e){e.startObject(0)}static endBinary(e){return e.endObject()}static createBinary(e){return Gi.startBinary(e),Gi.endBinary(e)}}class Ji{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBool(e,t){return(t||new Ji).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBool(e,t){return e.setPosition(e.position()+Ze),(t||new Ji).__init(e.readInt32(e.position())+e.position(),e)}static startBool(e){e.startObject(0)}static endBool(e){return e.endObject()}static createBool(e){return Ji.startBool(e),Ji.endBool(e)}}var Eu;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(Eu||(Eu={}));let eu=class Ls{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDate(e,t){return(t||new Ls).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDate(e,t){return e.setPosition(e.position()+Ze),(t||new Ls).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Eu.MILLISECOND}static startDate(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,Eu.MILLISECOND)}static endDate(e){return e.endObject()}static createDate(e,t){return Ls.startDate(e),Ls.addUnit(e,t),Ls.endDate(e)}};class cn{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDecimal(e,t){return(t||new cn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDecimal(e,t){return e.setPosition(e.position()+Ze),(t||new cn).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}scale(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}bitWidth(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}static startDecimal(e){e.startObject(3)}static addPrecision(e,t){e.addFieldInt32(0,t,0)}static addScale(e,t){e.addFieldInt32(1,t,0)}static addBitWidth(e,t){e.addFieldInt32(2,t,128)}static endDecimal(e){return e.endObject()}static createDecimal(e,t,s,l){return cn.startDecimal(e),cn.addPrecision(e,t),cn.addScale(e,s),cn.addBitWidth(e,l),cn.endDecimal(e)}}var Gs;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(Gs||(Gs={}));class dr{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeBinary(e,t){return(t||new dr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeBinary(e,t){return e.setPosition(e.position()+Ze),(t||new dr).__init(e.readInt32(e.position())+e.position(),e)}byteWidth(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeBinary(e){e.startObject(1)}static addByteWidth(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeBinary(e){return e.endObject()}static createFixedSizeBinary(e,t){return dr.startFixedSizeBinary(e),dr.addByteWidth(e,t),dr.endFixedSizeBinary(e)}}class hr{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFixedSizeList(e,t){return(t||new hr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFixedSizeList(e,t){return e.setPosition(e.position()+Ze),(t||new hr).__init(e.readInt32(e.position())+e.position(),e)}listSize(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}static startFixedSizeList(e){e.startObject(1)}static addListSize(e,t){e.addFieldInt32(0,t,0)}static endFixedSizeList(e){return e.endObject()}static createFixedSizeList(e,t){return hr.startFixedSizeList(e),hr.addListSize(e,t),hr.endFixedSizeList(e)}}var Cu;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(Cu||(Cu={}));class pr{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFloatingPoint(e,t){return(t||new pr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFloatingPoint(e,t){return e.setPosition(e.position()+Ze),(t||new pr).__init(e.readInt32(e.position())+e.position(),e)}precision(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Cu.HALF}static startFloatingPoint(e){e.startObject(1)}static addPrecision(e,t){e.addFieldInt16(0,t,Cu.HALF)}static endFloatingPoint(e){return e.endObject()}static createFloatingPoint(e,t){return pr.startFloatingPoint(e),pr.addPrecision(e,t),pr.endFloatingPoint(e)}}var xu;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME",r[r.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(xu||(xu={}));class yr{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsInterval(e,t){return(t||new yr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsInterval(e,t){return e.setPosition(e.position()+Ze),(t||new yr).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):xu.YEAR_MONTH}static startInterval(e){e.startObject(1)}static addUnit(e,t){e.addFieldInt16(0,t,xu.YEAR_MONTH)}static endInterval(e){return e.endObject()}static createInterval(e,t){return yr.startInterval(e),yr.addUnit(e,t),yr.endInterval(e)}}class Zi{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsList(e,t){return(t||new Zi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsList(e,t){return e.setPosition(e.position()+Ze),(t||new Zi).__init(e.readInt32(e.position())+e.position(),e)}static startList(e){e.startObject(0)}static endList(e){return e.endObject()}static createList(e){return Zi.startList(e),Zi.endList(e)}}let tu=class Rs{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMap(e,t){return(t||new Rs).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMap(e,t){return e.setPosition(e.position()+Ze),(t||new Rs).__init(e.readInt32(e.position())+e.position(),e)}keysSorted(){const e=this.bb.__offset(this.bb_pos,4);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startMap(e){e.startObject(1)}static addKeysSorted(e,t){e.addFieldInt8(0,+t,0)}static endMap(e){return e.endObject()}static createMap(e,t){return Rs.startMap(e),Rs.addKeysSorted(e,t),Rs.endMap(e)}};class Xi{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsNull(e,t){return(t||new Xi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsNull(e,t){return e.setPosition(e.position()+Ze),(t||new Xi).__init(e.readInt32(e.position())+e.position(),e)}static startNull(e){e.startObject(0)}static endNull(e){return e.endObject()}static createNull(e){return Xi.startNull(e),Xi.endNull(e)}}class es{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsStruct_(e,t){return(t||new es).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsStruct_(e,t){return e.setPosition(e.position()+Ze),(t||new es).__init(e.readInt32(e.position())+e.position(),e)}static startStruct_(e){e.startObject(0)}static endStruct_(e){return e.endObject()}static createStruct_(e){return es.startStruct_(e),es.endStruct_(e)}}class zn{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTime(e,t){return(t||new zn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTime(e,t){return e.setPosition(e.position()+Ze),(t||new zn).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Gs.MILLISECOND}bitWidth(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}static startTime(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,Gs.MILLISECOND)}static addBitWidth(e,t){e.addFieldInt32(1,t,32)}static endTime(e){return e.endObject()}static createTime(e,t,s){return zn.startTime(e),zn.addUnit(e,t),zn.addBitWidth(e,s),zn.endTime(e)}}class jn{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsTimestamp(e,t){return(t||new jn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsTimestamp(e,t){return e.setPosition(e.position()+Ze),(t||new jn).__init(e.readInt32(e.position())+e.position(),e)}unit(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Gs.SECOND}timezone(e){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}static startTimestamp(e){e.startObject(2)}static addUnit(e,t){e.addFieldInt16(0,t,Gs.SECOND)}static addTimezone(e,t){e.addFieldOffset(1,t,0)}static endTimestamp(e){return e.endObject()}static createTimestamp(e,t,s){return jn.startTimestamp(e),jn.addUnit(e,t),jn.addTimezone(e,s),jn.endTimestamp(e)}}var Ou;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(Ou||(Ou={}));class fn{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUnion(e,t){return(t||new fn).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUnion(e,t){return e.setPosition(e.position()+Ze),(t||new fn).__init(e.readInt32(e.position())+e.position(),e)}mode(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ou.Sparse}typeIds(e){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+e*4):0}typeIdsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}typeIdsArray(){const e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}static startUnion(e){e.startObject(2)}static addMode(e,t){e.addFieldInt16(0,t,Ou.Sparse)}static addTypeIds(e,t){e.addFieldOffset(1,t,0)}static createTypeIdsVector(e,t){e.startVector(4,t.length,4);for(let s=t.length-1;s>=0;s--)e.addInt32(t[s]);return e.endVector()}static startTypeIdsVector(e,t){e.startVector(4,t,4)}static endUnion(e){return e.endObject()}static createUnion(e,t,s){return fn.startUnion(e),fn.addMode(e,t),fn.addTypeIds(e,s),fn.endUnion(e)}}class ts{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsUtf8(e,t){return(t||new ts).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsUtf8(e,t){return e.setPosition(e.position()+Ze),(t||new ts).__init(e.readInt32(e.position())+e.position(),e)}static startUtf8(e){e.startObject(0)}static endUtf8(e){return e.endObject()}static createUtf8(e){return ts.startUtf8(e),ts.endUtf8(e)}}var ft;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.FloatingPoint=3]="FloatingPoint",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct_=13]="Struct_",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.LargeList=21]="LargeList"})(ft||(ft={}));let Rn=class nu{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsField(e,t){return(t||new nu).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsField(e,t){return e.setPosition(e.position()+Ze),(t||new nu).__init(e.readInt32(e.position())+e.position(),e)}name(e){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}nullable(){const e=this.bb.__offset(this.bb_pos,6);return e?!!this.bb.readInt8(this.bb_pos+e):!1}typeType(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):ft.NONE}type(e){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}dictionary(e){const t=this.bb.__offset(this.bb_pos,12);return t?(e||new Pr).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}children(e,t){const s=this.bb.__offset(this.bb_pos,14);return s?(t||new nu).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+e*4),this.bb):null}childrenLength(){const e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){const s=this.bb.__offset(this.bb_pos,16);return s?(t||new Ot).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}static startField(e){e.startObject(7)}static addName(e,t){e.addFieldOffset(0,t,0)}static addNullable(e,t){e.addFieldInt8(1,+t,0)}static addTypeType(e,t){e.addFieldInt8(2,t,ft.NONE)}static addType(e,t){e.addFieldOffset(3,t,0)}static addDictionary(e,t){e.addFieldOffset(4,t,0)}static addChildren(e,t){e.addFieldOffset(5,t,0)}static createChildrenVector(e,t){e.startVector(4,t.length,4);for(let s=t.length-1;s>=0;s--)e.addOffset(t[s]);return e.endVector()}static startChildrenVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(6,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let s=t.length-1;s>=0;s--)e.addOffset(t[s]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endField(e){return e.endObject()}},lr=class Tr{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsSchema(e,t){return(t||new Tr).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsSchema(e,t){return e.setPosition(e.position()+Ze),(t||new Tr).__init(e.readInt32(e.position())+e.position(),e)}endianness(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Qs.Little}fields(e,t){const s=this.bb.__offset(this.bb_pos,6);return s?(t||new Rn).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+e*4),this.bb):null}fieldsLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){const s=this.bb.__offset(this.bb_pos,8);return s?(t||new Ot).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}features(e){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+e*8):this.bb.createLong(0,0)}featuresLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}static startSchema(e){e.startObject(4)}static addEndianness(e,t){e.addFieldInt16(0,t,Qs.Little)}static addFields(e,t){e.addFieldOffset(1,t,0)}static createFieldsVector(e,t){e.startVector(4,t.length,4);for(let s=t.length-1;s>=0;s--)e.addOffset(t[s]);return e.endVector()}static startFieldsVector(e,t){e.startVector(4,t,4)}static addCustomMetadata(e,t){e.addFieldOffset(2,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let s=t.length-1;s>=0;s--)e.addOffset(t[s]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static addFeatures(e,t){e.addFieldOffset(3,t,0)}static createFeaturesVector(e,t){e.startVector(8,t.length,8);for(let s=t.length-1;s>=0;s--)e.addInt64(t[s]);return e.endVector()}static startFeaturesVector(e,t){e.startVector(8,t,8)}static endSchema(e){return e.endObject()}static finishSchemaBuffer(e,t){e.finish(t)}static finishSizePrefixedSchemaBuffer(e,t){e.finish(t,void 0,!0)}static createSchema(e,t,s,l,u){return Tr.startSchema(e),Tr.addEndianness(e,t),Tr.addFields(e,s),Tr.addCustomMetadata(e,l),Tr.addFeatures(e,u),Tr.endSchema(e)}};class En{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsFooter(e,t){return(t||new En).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsFooter(e,t){return e.setPosition(e.position()+Ze),(t||new En).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ys.V1}schema(e){const t=this.bb.__offset(this.bb_pos,6);return t?(e||new lr).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}dictionaries(e,t){const s=this.bb.__offset(this.bb_pos,8);return s?(t||new yd).__init(this.bb.__vector(this.bb_pos+s)+e*24,this.bb):null}dictionariesLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}recordBatches(e,t){const s=this.bb.__offset(this.bb_pos,10);return s?(t||new yd).__init(this.bb.__vector(this.bb_pos+s)+e*24,this.bb):null}recordBatchesLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}customMetadata(e,t){const s=this.bb.__offset(this.bb_pos,12);return s?(t||new Ot).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startFooter(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,Ys.V1)}static addSchema(e,t){e.addFieldOffset(1,t,0)}static addDictionaries(e,t){e.addFieldOffset(2,t,0)}static startDictionariesVector(e,t){e.startVector(24,t,8)}static addRecordBatches(e,t){e.addFieldOffset(3,t,0)}static startRecordBatchesVector(e,t){e.startVector(24,t,8)}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let s=t.length-1;s>=0;s--)e.addOffset(t[s]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endFooter(e){return e.endObject()}static finishFooterBuffer(e,t){e.finish(t)}static finishSizePrefixedFooterBuffer(e,t){e.finish(t,void 0,!0)}}class Ke{constructor(e=[],t,s){this.fields=e||[],this.metadata=t||new Map,s||(s=vd(e)),this.dictionaries=s}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(e=>e.name)}toString(){return`Schema<{ ${this.fields.map((e,t)=>`${t}: ${e}`).join(", ")} }>`}select(e){const t=new Set(e),s=this.fields.filter(l=>t.has(l.name));return new Ke(s,this.metadata)}selectAt(e){const t=e.map(s=>this.fields[s]).filter(Boolean);return new Ke(t,this.metadata)}assign(...e){const t=e[0]instanceof Ke?e[0]:Array.isArray(e[0])?new Ke(e[0]):new Ke(e),s=[...this.fields],l=Ga(Ga(new Map,this.metadata),t.metadata),u=t.fields.filter(h=>{const p=s.findIndex(m=>m.name===h.name);return~p?(s[p]=h.clone({metadata:Ga(Ga(new Map,s[p].metadata),h.metadata)}))&&!1:!0}),f=vd(u,new Map);return new Ke([...s,...u],l,new Map([...this.dictionaries,...f]))}}Ke.prototype.fields=null;Ke.prototype.metadata=null;Ke.prototype.dictionaries=null;class st{constructor(e,t,s=!1,l){this.name=e,this.type=t,this.nullable=s,this.metadata=l||new Map}static new(...e){let[t,s,l,u]=e;return e[0]&&typeof e[0]=="object"&&({name:t}=e[0],s===void 0&&(s=e[0].type),l===void 0&&(l=e[0].nullable),u===void 0&&(u=e[0].metadata)),new st(`${t}`,s,l,u)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...e){let[t,s,l,u]=e;return!e[0]||typeof e[0]!="object"?[t=this.name,s=this.type,l=this.nullable,u=this.metadata]=e:{name:t=this.name,type:s=this.type,nullable:l=this.nullable,metadata:u=this.metadata}=e[0],st.new(t,s,l,u)}}st.prototype.type=null;st.prototype.name=null;st.prototype.nullable=null;st.prototype.metadata=null;function Ga(r,e){return new Map([...r||new Map,...e||new Map])}function vd(r,e=new Map){for(let t=-1,s=r.length;++t<s;){const u=r[t].type;if(ge.isDictionary(u)){if(!e.has(u.id))e.set(u.id,u.dictionary);else if(e.get(u.id)!==u.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}u.children&&u.children.length>0&&vd(u.children,e)}return e}var am=Rr,jw=s0,$w=qs;class pl{constructor(e,t=xn.V4,s,l){this.schema=e,this.version=t,s&&(this._recordBatches=s),l&&(this._dictionaryBatches=l)}static decode(e){e=new $w(Ue(e));const t=En.getRootAsFooter(e),s=Ke.decode(t.schema());return new Vw(s,t)}static encode(e){const t=new jw,s=Ke.encode(t,e.schema);En.startRecordBatchesVector(t,e.numRecordBatches);for(const f of[...e.recordBatches()].slice().reverse())ki.encode(t,f);const l=t.endVector();En.startDictionariesVector(t,e.numDictionaries);for(const f of[...e.dictionaryBatches()].slice().reverse())ki.encode(t,f);const u=t.endVector();return En.startFooter(t),En.addSchema(t,s),En.addVersion(t,xn.V4),En.addRecordBatches(t,l),En.addDictionaries(t,u),En.finishFooterBuffer(t,En.endFooter(t)),t.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let e,t=-1,s=this.numRecordBatches;++t<s;)(e=this.getRecordBatch(t))&&(yield e)}*dictionaryBatches(){for(let e,t=-1,s=this.numDictionaries;++t<s;)(e=this.getDictionaryBatch(t))&&(yield e)}getRecordBatch(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}getDictionaryBatch(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}class Vw extends pl{constructor(e,t){super(e,t.version()),this._footer=t}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(e){if(e>=0&&e<this.numRecordBatches){const t=this._footer.recordBatches(e);if(t)return ki.decode(t)}return null}getDictionaryBatch(e){if(e>=0&&e<this.numDictionaries){const t=this._footer.dictionaries(e);if(t)return ki.decode(t)}return null}}class ki{constructor(e,t,s){this.metaDataLength=e,this.offset=typeof s=="number"?s:s.low,this.bodyLength=typeof t=="number"?t:t.low}static decode(e){return new ki(e.metaDataLength(),e.bodyLength(),e.offset())}static encode(e,t){const{metaDataLength:s}=t,l=new am(t.offset,0),u=new am(t.bodyLength,0);return yd.createBlock(e,l,s,u)}}const ht=Object.freeze({done:!0,value:void 0});class um{constructor(e){this._json=e}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class Hd{tee(){return this._getDOMStream().tee()}pipe(e,t){return this._getNodeStream().pipe(e,t)}pipeTo(e,t){return this._getDOMStream().pipeTo(e,t)}pipeThrough(e,t){return this._getDOMStream().pipeThrough(e,t)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class Ww extends Hd{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}get closed(){return this._closedPromise}cancel(e){return ye(this,void 0,void 0,function*(){yield this.return(e)})}write(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}abort(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}close(){if(this._closedPromiseResolve){const{resolvers:e}=this;for(;e.length>0;)e.shift().resolve(ht);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(e){return Un.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,e)}toNodeStream(e){return Un.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,e)}throw(e){return ye(this,void 0,void 0,function*(){return yield this.abort(e),ht})}return(e){return ye(this,void 0,void 0,function*(){return yield this.close(),ht})}read(e){return ye(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return ye(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(...e){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((t,s)=>{this.resolvers.push({resolve:t,reject:s})}):Promise.resolve(ht)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class ru extends Ww{write(e){if((e=Ue(e)).byteLength>0)return super.write(e)}toString(e=!1){return e?cd(this.toUint8Array(!0)):this.toUint8Array(!1).then(cd)}toUint8Array(e=!1){return e?vr(this._values)[0]:ye(this,void 0,void 0,function*(){var t,s;const l=[];let u=0;try{for(var f=ns(this),h;h=yield f.next(),!h.done;){const p=h.value;l.push(p),u+=p.byteLength}}catch(p){t={error:p}}finally{try{h&&!h.done&&(s=f.return)&&(yield s.call(f))}finally{if(t)throw t.error}}return vr(l,u)[0]})}}class Au{constructor(e){e&&(this.source=new Kw(Un.fromIterable(e)))}[Symbol.iterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class Js{constructor(e){e instanceof Js?this.source=e.source:e instanceof ru?this.source=new qi(Un.fromAsyncIterable(e)):$m(e)?this.source=new qi(Un.fromNodeStream(e)):Dd(e)?this.source=new qi(Un.fromDOMStream(e)):jm(e)?this.source=new qi(Un.fromDOMStream(e.body)):wl(e)?this.source=new qi(Un.fromIterable(e)):wi(e)?this.source=new qi(Un.fromAsyncIterable(e)):eo(e)&&(this.source=new qi(Un.fromAsyncIterable(e)))}[Symbol.asyncIterator](){return this}next(e){return this.source.next(e)}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}get closed(){return this.source.closed}cancel(e){return this.source.cancel(e)}peek(e){return this.source.peek(e)}read(e){return this.source.read(e)}}class Kw{constructor(e){this.source=e}cancel(e){this.return(e)}peek(e){return this.next(e,"peek").value}read(e){return this.next(e,"read").value}next(e,t="read"){return this.source.next({cmd:t,size:e})}throw(e){return Object.create(this.source.throw&&this.source.throw(e)||ht)}return(e){return Object.create(this.source.return&&this.source.return(e)||ht)}}class qi{constructor(e){this.source=e,this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}cancel(e){return ye(this,void 0,void 0,function*(){yield this.return(e)})}get closed(){return this._closedPromise}read(e){return ye(this,void 0,void 0,function*(){return(yield this.next(e,"read")).value})}peek(e){return ye(this,void 0,void 0,function*(){return(yield this.next(e,"peek")).value})}next(e,t="read"){return ye(this,void 0,void 0,function*(){return yield this.source.next({cmd:t,size:e})})}throw(e){return ye(this,void 0,void 0,function*(){const t=this.source.throw&&(yield this.source.throw(e))||ht;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}return(e){return ye(this,void 0,void 0,function*(){const t=this.source.return&&(yield this.source.return(e))||ht;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(t)})}}class cm extends Au{constructor(e,t){super(),this.position=0,this.buffer=Ue(e),this.size=typeof t>"u"?this.buffer.byteLength:t}readInt32(e){const{buffer:t,byteOffset:s}=this.readAt(e,4);return new DataView(t,s).getInt32(0,!0)}seek(e){return this.position=Math.min(e,this.size),e<this.size}read(e){const{buffer:t,size:s,position:l}=this;return t&&l<s?(typeof e!="number"&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(s,l+Math.min(s-l,e)),t.subarray(l,this.position)):null}readAt(e,t){const s=this.buffer,l=Math.min(this.size,e+t);return s?s.subarray(e,l):new Uint8Array(t)}close(){this.buffer&&(this.buffer=null)}throw(e){return this.close(),{done:!0,value:e}}return(e){return this.close(),{done:!0,value:e}}}class Nu extends Js{constructor(e,t){super(),this.position=0,this._handle=e,typeof t=="number"?this.size=t:this._pending=ye(this,void 0,void 0,function*(){this.size=(yield e.stat()).size,delete this._pending})}readInt32(e){return ye(this,void 0,void 0,function*(){const{buffer:t,byteOffset:s}=yield this.readAt(e,4);return new DataView(t,s).getInt32(0,!0)})}seek(e){return ye(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(e,this.size),e<this.size})}read(e){return ye(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:t,size:s,position:l}=this;if(t&&l<s){typeof e!="number"&&(e=Number.POSITIVE_INFINITY);let u=l,f=0,h=0;const p=Math.min(s,u+Math.min(s-u,e)),m=new Uint8Array(Math.max(0,(this.position=p)-u));for(;(u+=h)<p&&(f+=h)<m.byteLength;)({bytesRead:h}=yield t.read(m,f,m.byteLength-f,u));return m}return null})}readAt(e,t){return ye(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:s,size:l}=this;if(s&&e+t<l){const u=Math.min(l,e+t),f=new Uint8Array(u-e);return(yield s.read(f,0,t,e)).buffer}return new Uint8Array(t)})}close(){return ye(this,void 0,void 0,function*(){const e=this._handle;this._handle=null,e&&(yield e.close())})}throw(e){return ye(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}return(e){return ye(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:e}})}}const Hw=65536;function zs(r){return r<0&&(r=4294967295+r+1),`0x${r.toString(16)}`}const Zs=8,qd=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class l0{constructor(e){this.buffer=e}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(e){const t=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),s=new Uint32Array([e.buffer[1]>>>16,e.buffer[1]&65535,e.buffer[0]>>>16,e.buffer[0]&65535]);let l=t[3]*s[3];this.buffer[0]=l&65535;let u=l>>>16;return l=t[2]*s[3],u+=l,l=t[3]*s[2]>>>0,u+=l,this.buffer[0]+=u<<16,this.buffer[1]=u>>>0<l?Hw:0,this.buffer[1]+=u>>>16,this.buffer[1]+=t[1]*s[3]+t[2]*s[2]+t[3]*s[1],this.buffer[1]+=t[0]*s[3]+t[1]*s[2]+t[2]*s[1]+t[3]*s[0]<<16,this}_plus(e){const t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}lessThan(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}equals(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}greaterThan(e){return e.lessThan(this)}hex(){return`${zs(this.buffer[1])} ${zs(this.buffer[0])}`}}class Ge extends l0{times(e){return this._times(e),this}plus(e){return this._plus(e),this}static from(e,t=new Uint32Array(2)){return Ge.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return Ge.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){const s=e.length,l=new Ge(t);for(let u=0;u<s;){const f=Zs<s-u?Zs:s-u,h=new Ge(new Uint32Array([Number.parseInt(e.slice(u,u+f),10),0])),p=new Ge(new Uint32Array([qd[f],0]));l.times(p),l.plus(h),u+=f}return l}static convertArray(e){const t=new Uint32Array(e.length*2);for(let s=-1,l=e.length;++s<l;)Ge.from(e[s],new Uint32Array(t.buffer,t.byteOffset+2*s*4,2));return t}static multiply(e,t){return new Ge(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new Ge(new Uint32Array(e.buffer)).plus(t)}}class un extends l0{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(e){return this._times(e),this}plus(e){return this._plus(e),this}lessThan(e){const t=this.buffer[1]<<0,s=e.buffer[1]<<0;return t<s||t===s&&this.buffer[0]<e.buffer[0]}static from(e,t=new Uint32Array(2)){return un.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(2)){return un.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(2)){const s=e.startsWith("-"),l=e.length,u=new un(t);for(let f=s?1:0;f<l;){const h=Zs<l-f?Zs:l-f,p=new un(new Uint32Array([Number.parseInt(e.slice(f,f+h),10),0])),m=new un(new Uint32Array([qd[h],0]));u.times(m),u.plus(p),f+=h}return s?u.negate():u}static convertArray(e){const t=new Uint32Array(e.length*2);for(let s=-1,l=e.length;++s<l;)un.from(e[s],new Uint32Array(t.buffer,t.byteOffset+2*s*4,2));return t}static multiply(e,t){return new un(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new un(new Uint32Array(e.buffer)).plus(t)}}class ar{constructor(e){this.buffer=e}high(){return new un(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new un(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(e){const t=new Ge(new Uint32Array([this.buffer[3],0])),s=new Ge(new Uint32Array([this.buffer[2],0])),l=new Ge(new Uint32Array([this.buffer[1],0])),u=new Ge(new Uint32Array([this.buffer[0],0])),f=new Ge(new Uint32Array([e.buffer[3],0])),h=new Ge(new Uint32Array([e.buffer[2],0])),p=new Ge(new Uint32Array([e.buffer[1],0])),m=new Ge(new Uint32Array([e.buffer[0],0]));let v=Ge.multiply(u,m);this.buffer[0]=v.low();const w=new Ge(new Uint32Array([v.high(),0]));return v=Ge.multiply(l,m),w.plus(v),v=Ge.multiply(u,p),w.plus(v),this.buffer[1]=w.low(),this.buffer[3]=w.lessThan(v)?1:0,this.buffer[2]=w.high(),new Ge(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Ge.multiply(s,m)).plus(Ge.multiply(l,p)).plus(Ge.multiply(u,h)),this.buffer[3]+=Ge.multiply(t,m).plus(Ge.multiply(s,p)).plus(Ge.multiply(l,h)).plus(Ge.multiply(u,f)).low(),this}plus(e){const t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}hex(){return`${zs(this.buffer[3])} ${zs(this.buffer[2])} ${zs(this.buffer[1])} ${zs(this.buffer[0])}`}static multiply(e,t){return new ar(new Uint32Array(e.buffer)).times(t)}static add(e,t){return new ar(new Uint32Array(e.buffer)).plus(t)}static from(e,t=new Uint32Array(4)){return ar.fromString(typeof e=="string"?e:e.toString(),t)}static fromNumber(e,t=new Uint32Array(4)){return ar.fromString(e.toString(),t)}static fromString(e,t=new Uint32Array(4)){const s=e.startsWith("-"),l=e.length,u=new ar(t);for(let f=s?1:0;f<l;){const h=Zs<l-f?Zs:l-f,p=new ar(new Uint32Array([Number.parseInt(e.slice(f,f+h),10),0,0,0])),m=new ar(new Uint32Array([qd[h],0,0,0]));u.times(m),u.plus(p),f+=h}return s?u.negate():u}static convertArray(e){const t=new Uint32Array(e.length*4);for(let s=-1,l=e.length;++s<l;)ar.from(e[s],new Uint32Array(t.buffer,t.byteOffset+16*s,4));return t}}class a0 extends Me{constructor(e,t,s,l){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=e,this.nodes=t,this.buffers=s,this.dictionaries=l}visit(e){return super.visit(e instanceof st?e.type:e)}visitNull(e,{length:t}=this.nextFieldNode()){return Be({type:e,length:t})}visitBool(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),data:this.readData(e)})}visitInt(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),data:this.readData(e)})}visitFloat(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),data:this.readData(e)})}visitUtf8(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitBinary(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),valueOffsets:this.readOffsets(e),data:this.readData(e)})}visitFixedSizeBinary(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),data:this.readData(e)})}visitDate(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),data:this.readData(e)})}visitTimestamp(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),data:this.readData(e)})}visitTime(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),data:this.readData(e)})}visitDecimal(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),data:this.readData(e)})}visitList(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}visitStruct(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),children:this.visitMany(e.children)})}visitUnion(e){return e.mode===On.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}visitDenseUnion(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}visitSparseUnion(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}visitDictionary(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}visitInterval(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),data:this.readData(e)})}visitFixedSizeList(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),child:this.visit(e.children[0])})}visitMap(e,{length:t,nullCount:s}=this.nextFieldNode()){return Be({type:e,length:t,nullCount:s,nullBitmap:this.readNullBitmap(e,s),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(e,t,s=this.nextBufferRange()){return t>0&&this.readData(e,s)||new Uint8Array(0)}readOffsets(e,t){return this.readData(e,t)}readTypeIds(e,t){return this.readData(e,t)}readData(e,{length:t,offset:s}=this.nextBufferRange()){return this.bytes.subarray(s,s+t)}readDictionary(e){return this.dictionaries.get(e.id)}}class qw extends a0{constructor(e,t,s,l){super(new Uint8Array(0),t,s,l),this.sources=e}readNullBitmap(e,t,{offset:s}=this.nextBufferRange()){return t<=0?new Uint8Array(0):Su(this.sources[s])}readOffsets(e,{offset:t}=this.nextBufferRange()){return Je(Uint8Array,Je(Int32Array,this.sources[t]))}readTypeIds(e,{offset:t}=this.nextBufferRange()){return Je(Uint8Array,Je(e.ArrayType,this.sources[t]))}readData(e,{offset:t}=this.nextBufferRange()){const{sources:s}=this;return ge.isTimestamp(e)||(ge.isInt(e)||ge.isTime(e))&&e.bitWidth===64||ge.isDate(e)&&e.unit===zr.MILLISECOND?Je(Uint8Array,un.convertArray(s[t])):ge.isDecimal(e)?Je(Uint8Array,ar.convertArray(s[t])):ge.isBinary(e)||ge.isFixedSizeBinary(e)?Yw(s[t]):ge.isBool(e)?Su(s[t]):ge.isUtf8(e)?Td(s[t].join("")):Je(Uint8Array,Je(e.ArrayType,s[t].map(l=>+l)))}}function Yw(r){const e=r.join(""),t=new Uint8Array(e.length/2);for(let s=0;s<e.length;s+=2)t[s>>1]=Number.parseInt(e.slice(s,s+2),16);return t}class Se extends Me{compareSchemas(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}compareManyFields(e,t){return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((s,l)=>this.compareFields(s,t[l]))}compareFields(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}}function vn(r,e){return e instanceof r.constructor}function Sl(r,e){return r===e||vn(r,e)}function Vr(r,e){return r===e||vn(r,e)&&r.bitWidth===e.bitWidth&&r.isSigned===e.isSigned}function Hu(r,e){return r===e||vn(r,e)&&r.precision===e.precision}function Qw(r,e){return r===e||vn(r,e)&&r.byteWidth===e.byteWidth}function Yd(r,e){return r===e||vn(r,e)&&r.unit===e.unit}function bl(r,e){return r===e||vn(r,e)&&r.unit===e.unit&&r.timezone===e.timezone}function Il(r,e){return r===e||vn(r,e)&&r.unit===e.unit&&r.bitWidth===e.bitWidth}function Gw(r,e){return r===e||vn(r,e)&&r.children.length===e.children.length&&Ei.compareManyFields(r.children,e.children)}function Jw(r,e){return r===e||vn(r,e)&&r.children.length===e.children.length&&Ei.compareManyFields(r.children,e.children)}function Qd(r,e){return r===e||vn(r,e)&&r.mode===e.mode&&r.typeIds.every((t,s)=>t===e.typeIds[s])&&Ei.compareManyFields(r.children,e.children)}function Zw(r,e){return r===e||vn(r,e)&&r.id===e.id&&r.isOrdered===e.isOrdered&&Ei.visit(r.indices,e.indices)&&Ei.visit(r.dictionary,e.dictionary)}function Gd(r,e){return r===e||vn(r,e)&&r.unit===e.unit}function Xw(r,e){return r===e||vn(r,e)&&r.listSize===e.listSize&&r.children.length===e.children.length&&Ei.compareManyFields(r.children,e.children)}function eS(r,e){return r===e||vn(r,e)&&r.keysSorted===e.keysSorted&&r.children.length===e.children.length&&Ei.compareManyFields(r.children,e.children)}Se.prototype.visitNull=Sl;Se.prototype.visitBool=Sl;Se.prototype.visitInt=Vr;Se.prototype.visitInt8=Vr;Se.prototype.visitInt16=Vr;Se.prototype.visitInt32=Vr;Se.prototype.visitInt64=Vr;Se.prototype.visitUint8=Vr;Se.prototype.visitUint16=Vr;Se.prototype.visitUint32=Vr;Se.prototype.visitUint64=Vr;Se.prototype.visitFloat=Hu;Se.prototype.visitFloat16=Hu;Se.prototype.visitFloat32=Hu;Se.prototype.visitFloat64=Hu;Se.prototype.visitUtf8=Sl;Se.prototype.visitBinary=Sl;Se.prototype.visitFixedSizeBinary=Qw;Se.prototype.visitDate=Yd;Se.prototype.visitDateDay=Yd;Se.prototype.visitDateMillisecond=Yd;Se.prototype.visitTimestamp=bl;Se.prototype.visitTimestampSecond=bl;Se.prototype.visitTimestampMillisecond=bl;Se.prototype.visitTimestampMicrosecond=bl;Se.prototype.visitTimestampNanosecond=bl;Se.prototype.visitTime=Il;Se.prototype.visitTimeSecond=Il;Se.prototype.visitTimeMillisecond=Il;Se.prototype.visitTimeMicrosecond=Il;Se.prototype.visitTimeNanosecond=Il;Se.prototype.visitDecimal=Sl;Se.prototype.visitList=Gw;Se.prototype.visitStruct=Jw;Se.prototype.visitUnion=Qd;Se.prototype.visitDenseUnion=Qd;Se.prototype.visitSparseUnion=Qd;Se.prototype.visitDictionary=Zw;Se.prototype.visitInterval=Gd;Se.prototype.visitIntervalDayTime=Gd;Se.prototype.visitIntervalYearMonth=Gd;Se.prototype.visitFixedSizeList=Xw;Se.prototype.visitMap=eS;const Ei=new Se;function _d(r,e){return Ei.compareSchemas(r,e)}function qf(r,e){return tS(r,e.map(t=>t.data.concat()))}function tS(r,e){const t=[...r.fields],s=[],l={numBatches:e.reduce((w,I)=>Math.max(w,I.length),0)};let u=0,f=0,h=-1;const p=e.length;let m,v=[];for(;l.numBatches-- >0;){for(f=Number.POSITIVE_INFINITY,h=-1;++h<p;)v[h]=m=e[h].shift(),f=Math.min(f,m?m.length:f);Number.isFinite(f)&&(v=nS(t,f,v,e,l),f>0&&(s[u++]=Be({type:new Zt(t),length:f,nullCount:0,children:v.slice()})))}return[r=r.assign(t),s.map(w=>new dn(r,w))]}function nS(r,e,t,s,l){var u;const f=(e+63&-64)>>3;for(let h=-1,p=s.length;++h<p;){const m=t[h],v=m?.length;if(v>=e)v===e?t[h]=m:(t[h]=m.slice(0,e),l.numBatches=Math.max(l.numBatches,s[h].unshift(m.slice(e,v-e))));else{const w=r[h];r[h]=w.clone({nullable:!0}),t[h]=(u=m?._changeLengthAndBackfillNullBitmap(e))!==null&&u!==void 0?u:Be({type:w.type,length:e,nullCount:e,nullBitmap:new Uint8Array(f)})}}return t}var u0;class Jt{constructor(...e){var t,s;if(e.length===0)return this.batches=[],this.schema=new Ke([]),this._offsets=[0],this;let l,u;e[0]instanceof Ke&&(l=e.shift()),e[e.length-1]instanceof Uint32Array&&(u=e.pop());const f=p=>{if(p){if(p instanceof dn)return[p];if(p instanceof Jt)return p.batches;if(p instanceof tt){if(p.type instanceof Zt)return[new dn(new Ke(p.type.children),p)]}else{if(Array.isArray(p))return p.flatMap(m=>f(m));if(typeof p[Symbol.iterator]=="function")return[...p].flatMap(m=>f(m));if(typeof p=="object"){const m=Object.keys(p),v=m.map(A=>new We([p[A]])),w=new Ke(m.map((A,M)=>new st(String(A),v[M].type))),[,I]=qf(w,v);return I.length===0?[new dn(p)]:I}}}return[]},h=e.flatMap(p=>f(p));if(l=(s=l??((t=h[0])===null||t===void 0?void 0:t.schema))!==null&&s!==void 0?s:new Ke([]),!(l instanceof Ke))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const p of h){if(!(p instanceof dn))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!_d(l,p.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=l,this.batches=h,this._offsets=u??Yg(this.data)}get data(){return this.batches.map(({data:e})=>e)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((e,t)=>e+t.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=qg(this.data)),this._nullCount}isValid(e){return!1}get(e){return null}set(e,t){}indexOf(e,t){return-1}getByteLength(e){return 0}[Symbol.iterator](){return this.batches.length>0?Kd.visit(new We(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...e){const t=this.schema,s=this.data.concat(e.flatMap(({data:l})=>l));return new Jt(t,s.map(l=>new dn(t,l)))}slice(e,t){const s=this.schema;[e,t]=Kg({length:this.numRows},e,t);const l=Qg(this.data,this._offsets,e,t);return new Jt(s,l.map(u=>new dn(s,u)))}getChild(e){return this.getChildAt(this.schema.fields.findIndex(t=>t.name===e))}getChildAt(e){if(e>-1&&e<this.schema.fields.length){const t=this.data.map(s=>s.children[e]);if(t.length===0){const{type:s}=this.schema.fields[e],l=Be({type:s,length:0,nullCount:0});t.push(l._changeLengthAndBackfillNullBitmap(this.numRows))}return new We(t)}return null}setChild(e,t){var s;return this.setChildAt((s=this.schema.fields)===null||s===void 0?void 0:s.findIndex(l=>l.name===e),t)}setChildAt(e,t){let s=this.schema,l=[...this.batches];if(e>-1&&e<this.numCols){t||(t=new We([Be({type:new bi,length:this.numRows})]));const u=s.fields.slice(),f=u[e].clone({type:t.type}),h=this.schema.fields.map((p,m)=>this.getChildAt(m));[u[e],h[e]]=[f,t],[s,l]=qf(s,h)}return new Jt(s,l)}select(e){const t=this.schema.fields.reduce((s,l,u)=>s.set(l.name,u),new Map);return this.selectAt(e.map(s=>t.get(s)).filter(s=>s>-1))}selectAt(e){const t=this.schema.selectAt(e),s=this.batches.map(l=>l.selectAt(e));return new Jt(t,s)}assign(e){const t=this.schema.fields,[s,l]=e.schema.fields.reduce((h,p,m)=>{const[v,w]=h,I=t.findIndex(A=>A.name===p.name);return~I?w[I]=m:v.push(m),h},[[],[]]),u=this.schema.assign(e.schema),f=[...t.map((h,p)=>[p,l[p]]).map(([h,p])=>p===void 0?this.getChildAt(h):e.getChildAt(p)),...s.map(h=>e.getChildAt(h))].filter(Boolean);return new Jt(...qf(u,f))}}u0=Symbol.toStringTag;Jt[u0]=(r=>(r.schema=null,r.batches=[],r._offsets=new Uint32Array([0]),r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,r.isValid=Ks(Wd),r.get=Ks(yn.getVisitFn(C.Struct)),r.set=Gg(Wn.getVisitFn(C.Struct)),r.indexOf=Jg(bu.getVisitFn(C.Struct)),r.getByteLength=Ks(_r.getVisitFn(C.Struct)),"Table"))(Jt.prototype);var c0;let dn=class rl{constructor(...e){switch(e.length){case 2:{if([this.schema]=e,!(this.schema instanceof Ke))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=Be({nullCount:0,type:new Zt(this.schema.fields),children:this.schema.fields.map(t=>Be({type:t.type,nullCount:0}))})]=e,!(this.data instanceof tt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=fm(this.schema,this.data.children);break}case 1:{const[t]=e,{fields:s,children:l,length:u}=Object.keys(t).reduce((p,m,v)=>(p.children[v]=t[m],p.length=Math.max(p.length,t[m].length),p.fields[v]=st.new({name:m,type:t[m].type,nullable:!0}),p),{length:0,fields:new Array,children:new Array}),f=new Ke(s),h=Be({type:new Zt(s),length:u,children:l,nullCount:0});[this.schema,this.data]=fm(f,h.children,u);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=f0(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return yn.visit(this.data,e)}set(e,t){return Wn.visit(this.data,e,t)}indexOf(e,t){return bu.visit(this.data,e,t)}getByteLength(e){return _r.visit(this.data,e)}[Symbol.iterator](){return Kd.visit(new We([this.data]))}toArray(){return[...this]}concat(...e){return new Jt(this.schema,[this,...e])}slice(e,t){const[s]=new We([this.data]).slice(e,t).data;return new rl(this.schema,s)}getChild(e){var t;return this.getChildAt((t=this.schema.fields)===null||t===void 0?void 0:t.findIndex(s=>s.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new We([this.data.children[e]]):null}setChild(e,t){var s;return this.setChildAt((s=this.schema.fields)===null||s===void 0?void 0:s.findIndex(l=>l.name===e),t)}setChildAt(e,t){let s=this.schema,l=this.data;if(e>-1&&e<this.numCols){t||(t=new We([Be({type:new bi,length:this.numRows})]));const u=s.fields.slice(),f=l.children.slice(),h=u[e].clone({type:t.type});[u[e],f[e]]=[h,t.data[0]],s=new Ke(u,new Map(this.schema.metadata)),l=Be({type:new Zt(u),children:f})}return new rl(s,l)}select(e){const t=this.schema.select(e),s=new Zt(t.fields),l=[];for(const u of e){const f=this.schema.fields.findIndex(h=>h.name===u);~f&&(l[f]=this.data.children[f])}return new rl(t,Be({type:s,length:this.numRows,children:l}))}selectAt(e){const t=this.schema.selectAt(e),s=e.map(u=>this.data.children[u]).filter(Boolean),l=Be({type:new Zt(t.fields),length:this.numRows,children:s});return new rl(t,l)}};c0=Symbol.toStringTag;dn[c0]=(r=>(r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(dn.prototype);function fm(r,e,t=e.reduce((s,l)=>Math.max(s,l.length),0)){var s;const l=[...r.fields],u=[...e],f=(t+63&-64)>>3;for(const[h,p]of r.fields.entries()){const m=e[h];(!m||m.length!==t)&&(l[h]=p.clone({nullable:!0}),u[h]=(s=m?._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:Be({type:p.type,length:t,nullCount:t,nullBitmap:new Uint8Array(f)}))}return[r.assign(l),Be({type:new Zt(l),length:t,children:u})]}function f0(r,e,t=new Map){for(let s=-1,l=r.length;++s<l;){const f=r[s].type,h=e[s];if(ge.isDictionary(f)){if(!t.has(f.id))h.dictionary&&t.set(f.id,h.dictionary);else if(t.get(f.id)!==h.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}f.children&&f.children.length>0&&f0(f.children,h.children,t)}return t}class Jd extends dn{constructor(e){const t=e.fields.map(l=>Be({type:l.type})),s=Be({type:new Zt(e.fields),nullCount:0,children:t});super(e,s)}}var Tu;(function(r){r[r.BUFFER=0]="BUFFER"})(Tu||(Tu={}));var Du;(function(r){r[r.LZ4_FRAME=0]="LZ4_FRAME",r[r.ZSTD=1]="ZSTD"})(Du||(Du={}));class vi{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsBodyCompression(e,t){return(t||new vi).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsBodyCompression(e,t){return e.setPosition(e.position()+Ze),(t||new vi).__init(e.readInt32(e.position())+e.position(),e)}codec(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):Du.LZ4_FRAME}method(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):Tu.BUFFER}static startBodyCompression(e){e.startObject(2)}static addCodec(e,t){e.addFieldInt8(0,t,Du.LZ4_FRAME)}static addMethod(e,t){e.addFieldInt8(1,t,Tu.BUFFER)}static endBodyCompression(e){return e.endObject()}static createBodyCompression(e,t,s){return vi.startBodyCompression(e),vi.addCodec(e,t),vi.addMethod(e,s),vi.endBodyCompression(e)}}class d0{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(e,t,s){return e.prep(8,16),e.writeInt64(s),e.writeInt64(t),e.offset()}}let h0=class{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(e,t,s){return e.prep(8,16),e.writeInt64(s),e.writeInt64(t),e.offset()}},Br=class wd{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsRecordBatch(e,t){return(t||new wd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsRecordBatch(e,t){return e.setPosition(e.position()+Ze),(t||new wd).__init(e.readInt32(e.position())+e.position(),e)}length(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}nodes(e,t){const s=this.bb.__offset(this.bb_pos,6);return s?(t||new h0).__init(this.bb.__vector(this.bb_pos+s)+e*16,this.bb):null}nodesLength(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}buffers(e,t){const s=this.bb.__offset(this.bb_pos,8);return s?(t||new d0).__init(this.bb.__vector(this.bb_pos+s)+e*16,this.bb):null}buffersLength(){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}compression(e){const t=this.bb.__offset(this.bb_pos,10);return t?(e||new vi).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}static startRecordBatch(e){e.startObject(4)}static addLength(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addNodes(e,t){e.addFieldOffset(1,t,0)}static startNodesVector(e,t){e.startVector(16,t,8)}static addBuffers(e,t){e.addFieldOffset(2,t,0)}static startBuffersVector(e,t){e.startVector(16,t,8)}static addCompression(e,t){e.addFieldOffset(3,t,0)}static endRecordBatch(e){return e.endObject()}},Us=class Sd{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsDictionaryBatch(e,t){return(t||new Sd).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsDictionaryBatch(e,t){return e.setPosition(e.position()+Ze),(t||new Sd).__init(e.readInt32(e.position())+e.position(),e)}id(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}data(e){const t=this.bb.__offset(this.bb_pos,6);return t?(e||new Br).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}isDelta(){const e=this.bb.__offset(this.bb_pos,8);return e?!!this.bb.readInt8(this.bb_pos+e):!1}static startDictionaryBatch(e){e.startObject(3)}static addId(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}static addData(e,t){e.addFieldOffset(1,t,0)}static addIsDelta(e,t){e.addFieldInt8(2,+t,0)}static endDictionaryBatch(e){return e.endObject()}};var Fu;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(Fu||(Fu={}));let hi=class or{constructor(){this.bb=null,this.bb_pos=0}__init(e,t){return this.bb_pos=e,this.bb=t,this}static getRootAsMessage(e,t){return(t||new or).__init(e.readInt32(e.position())+e.position(),e)}static getSizePrefixedRootAsMessage(e,t){return e.setPosition(e.position()+Ze),(t||new or).__init(e.readInt32(e.position())+e.position(),e)}version(){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Ys.V1}headerType(){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):Fu.NONE}header(e){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}bodyLength(){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}customMetadata(e,t){const s=this.bb.__offset(this.bb_pos,12);return s?(t||new Ot).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+s)+e*4),this.bb):null}customMetadataLength(){const e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}static startMessage(e){e.startObject(5)}static addVersion(e,t){e.addFieldInt16(0,t,Ys.V1)}static addHeaderType(e,t){e.addFieldInt8(1,t,Fu.NONE)}static addHeader(e,t){e.addFieldOffset(2,t,0)}static addBodyLength(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}static addCustomMetadata(e,t){e.addFieldOffset(4,t,0)}static createCustomMetadataVector(e,t){e.startVector(4,t.length,4);for(let s=t.length-1;s>=0;s--)e.addOffset(t[s]);return e.endVector()}static startCustomMetadataVector(e,t){e.startVector(4,t,4)}static endMessage(e){return e.endObject()}static finishMessageBuffer(e,t){e.finish(t)}static finishSizePrefixedMessageBuffer(e,t){e.finish(t,void 0,!0)}static createMessage(e,t,s,l,u,f){return or.startMessage(e),or.addVersion(e,t),or.addHeaderType(e,s),or.addHeader(e,l),or.addBodyLength(e,u),or.addCustomMetadata(e,f),or.endMessage(e)}};var rS=Rr;class iS extends Me{visit(e,t){return e==null||t==null?void 0:super.visit(e,t)}visitNull(e,t){return Xi.startNull(t),Xi.endNull(t)}visitInt(e,t){return Cn.startInt(t),Cn.addBitWidth(t,e.bitWidth),Cn.addIsSigned(t,e.isSigned),Cn.endInt(t)}visitFloat(e,t){return pr.startFloatingPoint(t),pr.addPrecision(t,e.precision),pr.endFloatingPoint(t)}visitBinary(e,t){return Gi.startBinary(t),Gi.endBinary(t)}visitBool(e,t){return Ji.startBool(t),Ji.endBool(t)}visitUtf8(e,t){return ts.startUtf8(t),ts.endUtf8(t)}visitDecimal(e,t){return cn.startDecimal(t),cn.addScale(t,e.scale),cn.addPrecision(t,e.precision),cn.addBitWidth(t,e.bitWidth),cn.endDecimal(t)}visitDate(e,t){return eu.startDate(t),eu.addUnit(t,e.unit),eu.endDate(t)}visitTime(e,t){return zn.startTime(t),zn.addUnit(t,e.unit),zn.addBitWidth(t,e.bitWidth),zn.endTime(t)}visitTimestamp(e,t){const s=e.timezone&&t.createString(e.timezone)||void 0;return jn.startTimestamp(t),jn.addUnit(t,e.unit),s!==void 0&&jn.addTimezone(t,s),jn.endTimestamp(t)}visitInterval(e,t){return yr.startInterval(t),yr.addUnit(t,e.unit),yr.endInterval(t)}visitList(e,t){return Zi.startList(t),Zi.endList(t)}visitStruct(e,t){return es.startStruct_(t),es.endStruct_(t)}visitUnion(e,t){fn.startTypeIdsVector(t,e.typeIds.length);const s=fn.createTypeIdsVector(t,e.typeIds);return fn.startUnion(t),fn.addMode(t,e.mode),fn.addTypeIds(t,s),fn.endUnion(t)}visitDictionary(e,t){const s=this.visit(e.indices,t);return Pr.startDictionaryEncoding(t),Pr.addId(t,new rS(e.id,0)),Pr.addIsOrdered(t,e.isOrdered),s!==void 0&&Pr.addIndexType(t,s),Pr.endDictionaryEncoding(t)}visitFixedSizeBinary(e,t){return dr.startFixedSizeBinary(t),dr.addByteWidth(t,e.byteWidth),dr.endFixedSizeBinary(t)}visitFixedSizeList(e,t){return hr.startFixedSizeList(t),hr.addListSize(t,e.listSize),hr.endFixedSizeList(t)}visitMap(e,t){return tu.startMap(t),tu.addKeysSorted(t,e.keysSorted),tu.endMap(t)}}const Yf=new iS;function sS(r,e=new Map){return new Ke(lS(r,e),iu(r.customMetadata),e)}function p0(r){return new An(r.count,y0(r.columns),m0(r.columns))}function oS(r){return new wr(p0(r.data),r.id,r.isDelta)}function lS(r,e){return(r.fields||[]).filter(Boolean).map(t=>st.fromJSON(t,e))}function dm(r,e){return(r.children||[]).filter(Boolean).map(t=>st.fromJSON(t,e))}function y0(r){return(r||[]).reduce((e,t)=>[...e,new ls(t.count,aS(t.VALIDITY)),...y0(t.children)],[])}function m0(r,e=[]){for(let t=-1,s=(r||[]).length;++t<s;){const l=r[t];l.VALIDITY&&e.push(new gr(e.length,l.VALIDITY.length)),l.TYPE&&e.push(new gr(e.length,l.TYPE.length)),l.OFFSET&&e.push(new gr(e.length,l.OFFSET.length)),l.DATA&&e.push(new gr(e.length,l.DATA.length)),e=m0(l.children,e)}return e}function aS(r){return(r||[]).reduce((e,t)=>e+ +(t===0),0)}function uS(r,e){let t,s,l,u,f,h;return!e||!(u=r.dictionary)?(f=pm(r,dm(r,e)),l=new st(r.name,f,r.nullable,iu(r.customMetadata))):e.has(t=u.id)?(s=(s=u.indexType)?hm(s):new fl,h=new Hs(e.get(t),s,t,u.isOrdered),l=new st(r.name,h,r.nullable,iu(r.customMetadata))):(s=(s=u.indexType)?hm(s):new fl,e.set(t,f=pm(r,dm(r,e))),h=new Hs(f,s,t,u.isOrdered),l=new st(r.name,h,r.nullable,iu(r.customMetadata))),l||null}function iu(r){return new Map(Object.entries(r||{}))}function hm(r){return new Ii(r.isSigned,r.bitWidth)}function pm(r,e){const t=r.type.name;switch(t){case"NONE":return new bi;case"null":return new bi;case"binary":return new uu;case"utf8":return new cu;case"bool":return new fu;case"list":return new mu((e||[])[0]);case"struct":return new Zt(e||[]);case"struct_":return new Zt(e||[])}switch(t){case"int":{const s=r.type;return new Ii(s.isSigned,s.bitWidth)}case"floatingpoint":{const s=r.type;return new dl(hn[s.precision])}case"decimal":{const s=r.type;return new du(s.scale,s.precision,s.bitWidth)}case"date":{const s=r.type;return new hu(zr[s.unit])}case"time":{const s=r.type;return new hl(ze[s.unit],s.bitWidth)}case"timestamp":{const s=r.type;return new pu(ze[s.unit],s.timezone)}case"interval":{const s=r.type;return new yu(Si[s.unit])}case"union":{const s=r.type;return new gu(On[s.mode],s.typeIds||[],e||[])}case"fixedsizebinary":{const s=r.type;return new vu(s.byteWidth)}case"fixedsizelist":{const s=r.type;return new _u(s.listSize,(e||[])[0])}case"map":{const s=r.type;return new wu((e||[])[0],s.keysSorted)}}throw new Error(`Unrecognized type: "${t}"`)}var ss=Rr,cS=s0,fS=qs;class Xt{constructor(e,t,s,l){this._version=t,this._headerType=s,this.body=new Uint8Array(0),l&&(this._createHeader=()=>l),this._bodyLength=typeof e=="number"?e:e.low}static fromJSON(e,t){const s=new Xt(0,xn.V4,t);return s._createHeader=dS(e,t),s}static decode(e){e=new fS(Ue(e));const t=hi.getRootAsMessage(e),s=t.bodyLength(),l=t.version(),u=t.headerType(),f=new Xt(s,l,u);return f._createHeader=hS(t,u),f}static encode(e){const t=new cS;let s=-1;return e.isSchema()?s=Ke.encode(t,e.header()):e.isRecordBatch()?s=An.encode(t,e.header()):e.isDictionaryBatch()&&(s=wr.encode(t,e.header())),hi.startMessage(t),hi.addVersion(t,xn.V4),hi.addHeader(t,s),hi.addHeaderType(t,e.headerType),hi.addBodyLength(t,new ss(e.bodyLength,0)),hi.finishMessageBuffer(t,hi.endMessage(t)),t.asUint8Array()}static from(e,t=0){if(e instanceof Ke)return new Xt(0,xn.V4,Ve.Schema,e);if(e instanceof An)return new Xt(t,xn.V4,Ve.RecordBatch,e);if(e instanceof wr)return new Xt(t,xn.V4,Ve.DictionaryBatch,e);throw new Error(`Unrecognized Message header: ${e}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Ve.Schema}isRecordBatch(){return this.headerType===Ve.RecordBatch}isDictionaryBatch(){return this.headerType===Ve.DictionaryBatch}}class An{constructor(e,t,s){this._nodes=t,this._buffers=s,this._length=typeof e=="number"?e:e.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class wr{constructor(e,t,s=!1){this._data=e,this._isDelta=s,this._id=typeof t=="number"?t:t.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class gr{constructor(e,t){this.offset=typeof e=="number"?e:e.low,this.length=typeof t=="number"?t:t.low}}class ls{constructor(e,t){this.length=typeof e=="number"?e:e.low,this.nullCount=typeof t=="number"?t:t.low}}function dS(r,e){return(()=>{switch(e){case Ve.Schema:return Ke.fromJSON(r);case Ve.RecordBatch:return An.fromJSON(r);case Ve.DictionaryBatch:return wr.fromJSON(r)}throw new Error(`Unrecognized Message type: { name: ${Ve[e]}, type: ${e} }`)})}function hS(r,e){return(()=>{switch(e){case Ve.Schema:return Ke.decode(r.header(new lr));case Ve.RecordBatch:return An.decode(r.header(new Br),r.version());case Ve.DictionaryBatch:return wr.decode(r.header(new Us),r.version())}throw new Error(`Unrecognized Message type: { name: ${Ve[e]}, type: ${e} }`)})}st.encode=kS;st.decode=bS;st.fromJSON=uS;Ke.encode=IS;Ke.decode=pS;Ke.fromJSON=sS;An.encode=ES;An.decode=yS;An.fromJSON=p0;wr.encode=CS;wr.decode=mS;wr.fromJSON=oS;ls.encode=xS;ls.decode=vS;gr.encode=OS;gr.decode=gS;function pS(r,e=new Map){const t=SS(r,e);return new Ke(t,su(r),e)}function yS(r,e=xn.V4){if(r.compression()!==null)throw new Error("Record batch compression not implemented");return new An(r.length(),_S(r),wS(r,e))}function mS(r,e=xn.V4){return new wr(An.decode(r.data(),e),r.id(),r.isDelta())}function gS(r){return new gr(r.offset(),r.length())}function vS(r){return new ls(r.length(),r.nullCount())}function _S(r){const e=[];for(let t,s=-1,l=-1,u=r.nodesLength();++s<u;)(t=r.nodes(s))&&(e[++l]=ls.decode(t));return e}function wS(r,e){const t=[];for(let s,l=-1,u=-1,f=r.buffersLength();++l<f;)(s=r.buffers(l))&&(e<xn.V4&&(s.bb_pos+=8*(l+1)),t[++u]=gr.decode(s));return t}function SS(r,e){const t=[];for(let s,l=-1,u=-1,f=r.fieldsLength();++l<f;)(s=r.fields(l))&&(t[++u]=st.decode(s,e));return t}function ym(r,e){const t=[];for(let s,l=-1,u=-1,f=r.childrenLength();++l<f;)(s=r.children(l))&&(t[++u]=st.decode(s,e));return t}function bS(r,e){let t,s,l,u,f,h;return!e||!(h=r.dictionary())?(l=gm(r,ym(r,e)),s=new st(r.name(),l,r.nullable(),su(r))):e.has(t=h.id().low)?(u=(u=h.indexType())?mm(u):new fl,f=new Hs(e.get(t),u,t,h.isOrdered()),s=new st(r.name(),f,r.nullable(),su(r))):(u=(u=h.indexType())?mm(u):new fl,e.set(t,l=gm(r,ym(r,e))),f=new Hs(l,u,t,h.isOrdered()),s=new st(r.name(),f,r.nullable(),su(r))),s||null}function su(r){const e=new Map;if(r)for(let t,s,l=-1,u=Math.trunc(r.customMetadataLength());++l<u;)(t=r.customMetadata(l))&&(s=t.key())!=null&&e.set(s,t.value());return e}function mm(r){return new Ii(r.isSigned(),r.bitWidth())}function gm(r,e){const t=r.typeType();switch(t){case ft.NONE:return new bi;case ft.Null:return new bi;case ft.Binary:return new uu;case ft.Utf8:return new cu;case ft.Bool:return new fu;case ft.List:return new mu((e||[])[0]);case ft.Struct_:return new Zt(e||[])}switch(t){case ft.Int:{const s=r.type(new Cn);return new Ii(s.isSigned(),s.bitWidth())}case ft.FloatingPoint:{const s=r.type(new pr);return new dl(s.precision())}case ft.Decimal:{const s=r.type(new cn);return new du(s.scale(),s.precision(),s.bitWidth())}case ft.Date:{const s=r.type(new eu);return new hu(s.unit())}case ft.Time:{const s=r.type(new zn);return new hl(s.unit(),s.bitWidth())}case ft.Timestamp:{const s=r.type(new jn);return new pu(s.unit(),s.timezone())}case ft.Interval:{const s=r.type(new yr);return new yu(s.unit())}case ft.Union:{const s=r.type(new fn);return new gu(s.mode(),s.typeIdsArray()||[],e||[])}case ft.FixedSizeBinary:{const s=r.type(new dr);return new vu(s.byteWidth())}case ft.FixedSizeList:{const s=r.type(new hr);return new _u(s.listSize(),(e||[])[0])}case ft.Map:{const s=r.type(new tu);return new wu((e||[])[0],s.keysSorted())}}throw new Error(`Unrecognized type: "${ft[t]}" (${t})`)}function IS(r,e){const t=e.fields.map(u=>st.encode(r,u));lr.startFieldsVector(r,t.length);const s=lr.createFieldsVector(r,t),l=e.metadata&&e.metadata.size>0?lr.createCustomMetadataVector(r,[...e.metadata].map(([u,f])=>{const h=r.createString(`${u}`),p=r.createString(`${f}`);return Ot.startKeyValue(r),Ot.addKey(r,h),Ot.addValue(r,p),Ot.endKeyValue(r)})):-1;return lr.startSchema(r),lr.addFields(r,s),lr.addEndianness(r,AS?Qs.Little:Qs.Big),l!==-1&&lr.addCustomMetadata(r,l),lr.endSchema(r)}function kS(r,e){let t=-1,s=-1,l=-1;const u=e.type;let f=e.typeId;ge.isDictionary(u)?(f=u.dictionary.typeId,l=Yf.visit(u,r),s=Yf.visit(u.dictionary,r)):s=Yf.visit(u,r);const h=(u.children||[]).map(v=>st.encode(r,v)),p=Rn.createChildrenVector(r,h),m=e.metadata&&e.metadata.size>0?Rn.createCustomMetadataVector(r,[...e.metadata].map(([v,w])=>{const I=r.createString(`${v}`),A=r.createString(`${w}`);return Ot.startKeyValue(r),Ot.addKey(r,I),Ot.addValue(r,A),Ot.endKeyValue(r)})):-1;return e.name&&(t=r.createString(e.name)),Rn.startField(r),Rn.addType(r,s),Rn.addTypeType(r,f),Rn.addChildren(r,p),Rn.addNullable(r,!!e.nullable),t!==-1&&Rn.addName(r,t),l!==-1&&Rn.addDictionary(r,l),m!==-1&&Rn.addCustomMetadata(r,m),Rn.endField(r)}function ES(r,e){const t=e.nodes||[],s=e.buffers||[];Br.startNodesVector(r,t.length);for(const f of t.slice().reverse())ls.encode(r,f);const l=r.endVector();Br.startBuffersVector(r,s.length);for(const f of s.slice().reverse())gr.encode(r,f);const u=r.endVector();return Br.startRecordBatch(r),Br.addLength(r,new ss(e.length,0)),Br.addNodes(r,l),Br.addBuffers(r,u),Br.endRecordBatch(r)}function CS(r,e){const t=An.encode(r,e.data);return Us.startDictionaryBatch(r),Us.addId(r,new ss(e.id,0)),Us.addIsDelta(r,e.isDelta),Us.addData(r,t),Us.endDictionaryBatch(r)}function xS(r,e){return h0.createFieldNode(r,new ss(e.length,0),new ss(e.nullCount,0))}function OS(r,e){return d0.createBuffer(r,new ss(e.offset,0),new ss(e.length,0))}const AS=(()=>{const r=new ArrayBuffer(2);return new DataView(r).setInt16(0,256,!0),new Int16Array(r)[0]===256})(),Zd=r=>`Expected ${Ve[r]} Message in stream, but was null or length 0.`,Xd=r=>`Header pointer of flatbuffer-encoded ${Ve[r]} Message is null or length 0.`,g0=(r,e)=>`Expected to read ${r} metadata bytes, but only read ${e}.`,v0=(r,e)=>`Expected to read ${r} bytes for message body, but only read ${e}.`;class _0{constructor(e){this.source=e instanceof Au?e:new Au(e)}[Symbol.iterator](){return this}next(){let e;return(e=this.readMetadataLength()).done||e.value===-1&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?ht:e}throw(e){return this.source.throw(e)}return(e){return this.source.return(e)}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Zd(e));return t.value}readMessageBody(e){if(e<=0)return new Uint8Array(0);const t=Ue(this.source.read(e));if(t.byteLength<e)throw new Error(v0(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}readSchema(e=!1){const t=Ve.Schema,s=this.readMessage(t),l=s?.header();if(e&&!l)throw new Error(Xd(t));return l}readMetadataLength(){const e=this.source.read(qu),t=e&&new qs(e),s=t?.readInt32(0)||0;return{done:s===0,value:s}}readMetadata(e){const t=this.source.read(e);if(!t)return ht;if(t.byteLength<e)throw new Error(g0(e,t.byteLength));return{done:!1,value:Xt.decode(t)}}}class NS{constructor(e,t){this.source=e instanceof Js?e:zm(e)?new Nu(e,t):new Js(e)}[Symbol.asyncIterator](){return this}next(){return ye(this,void 0,void 0,function*(){let e;return(e=yield this.readMetadataLength()).done||e.value===-1&&(e=yield this.readMetadataLength()).done||(e=yield this.readMetadata(e.value)).done?ht:e})}throw(e){return ye(this,void 0,void 0,function*(){return yield this.source.throw(e)})}return(e){return ye(this,void 0,void 0,function*(){return yield this.source.return(e)})}readMessage(e){return ye(this,void 0,void 0,function*(){let t;if((t=yield this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Zd(e));return t.value})}readMessageBody(e){return ye(this,void 0,void 0,function*(){if(e<=0)return new Uint8Array(0);const t=Ue(yield this.source.read(e));if(t.byteLength<e)throw new Error(v0(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()})}readSchema(e=!1){return ye(this,void 0,void 0,function*(){const t=Ve.Schema,s=yield this.readMessage(t),l=s?.header();if(e&&!l)throw new Error(Xd(t));return l})}readMetadataLength(){return ye(this,void 0,void 0,function*(){const e=yield this.source.read(qu),t=e&&new qs(e),s=t?.readInt32(0)||0;return{done:s===0,value:s}})}readMetadata(e){return ye(this,void 0,void 0,function*(){const t=yield this.source.read(e);if(!t)return ht;if(t.byteLength<e)throw new Error(g0(e,t.byteLength));return{done:!1,value:Xt.decode(t)}})}}class TS extends _0{constructor(e){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=e instanceof um?e:new um(e)}next(){const{_json:e}=this;if(!this._schema)return this._schema=!0,{done:!1,value:Xt.fromJSON(e.schema,Ve.Schema)};if(this._dictionaryIndex<e.dictionaries.length){const t=e.dictionaries[this._dictionaryIndex++];return this._body=t.data.columns,{done:!1,value:Xt.fromJSON(t,Ve.DictionaryBatch)}}if(this._batchIndex<e.batches.length){const t=e.batches[this._batchIndex++];return this._body=t.columns,{done:!1,value:Xt.fromJSON(t,Ve.RecordBatch)}}return this._body=[],ht}readMessageBody(e){return t(this._body);function t(s){return(s||[]).reduce((l,u)=>[...l,...u.VALIDITY&&[u.VALIDITY]||[],...u.TYPE&&[u.TYPE]||[],...u.OFFSET&&[u.OFFSET]||[],...u.DATA&&[u.DATA]||[],...t(u.children)],[])}}readMessage(e){let t;if((t=this.next()).done)return null;if(e!=null&&t.value.headerType!==e)throw new Error(Zd(e));return t.value}readSchema(){const e=Ve.Schema,t=this.readMessage(e),s=t?.header();if(!t||!s)throw new Error(Xd(e));return s}}const qu=4,bd="ARROW1",yl=new Uint8Array(bd.length);for(let r=0;r<bd.length;r+=1)yl[r]=bd.codePointAt(r);function eh(r,e=0){for(let t=-1,s=yl.length;++t<s;)if(yl[t]!==r[e+t])return!1;return!0}const kl=yl.length,w0=kl+qu,DS=kl*2+qu;class Ur extends Hd{constructor(e){super(),this._impl=e}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(e){return this._impl.throw(e)}return(e){return this._impl.return(e)}cancel(){return this._impl.cancel()}reset(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}open(e){const t=this._impl.open(e);return wi(t)?t.then(()=>this):this}readRecordBatch(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Un.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Un.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}static from(e){return e instanceof Ur?e:fd(e)?PS(e):zm(e)?US(e):wi(e)?ye(this,void 0,void 0,function*(){return yield Ur.from(yield e)}):jm(e)||Dd(e)||$m(e)||eo(e)?RS(new Js(e)):LS(new Au(e))}static readAll(e){return e instanceof Ur?e.isSync()?vm(e):_m(e):fd(e)||ArrayBuffer.isView(e)||wl(e)||Um(e)?vm(e):_m(e)}}class Bu extends Ur{constructor(e){super(e),this._impl=e}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return mr(this,arguments,function*(){yield Oe(yield*Xa(ns(this[Symbol.iterator]())))})}}class Mu extends Ur{constructor(e){super(e),this._impl=e}readAll(){var e,t;return ye(this,void 0,void 0,function*(){const s=new Array;try{for(var l=ns(this),u;u=yield l.next(),!u.done;){const f=u.value;s.push(f)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(t=l.return)&&(yield t.call(l))}finally{if(e)throw e.error}}return s})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class S0 extends Bu{constructor(e){super(e),this._impl=e}}class FS extends Mu{constructor(e){super(e),this._impl=e}}class b0{constructor(e=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=e}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}_loadRecordBatch(e,t){const s=this._loadVectors(e,t,this.schema.fields),l=Be({type:new Zt(this.schema.fields),length:e.length,children:s});return new dn(this.schema,l)}_loadDictionaryBatch(e,t){const{id:s,isDelta:l}=e,{dictionaries:u,schema:f}=this,h=u.get(s);if(l||!h){const p=f.dictionaries.get(s),m=this._loadVectors(e.data,t,[p]);return(h&&l?h.concat(new We(m)):new We(m)).memoize()}return h.memoize()}_loadVectors(e,t,s){return new a0(t,e.nodes,e.buffers,this.dictionaries).visitMany(s)}}class Pu extends b0{constructor(e,t){super(t),this._reader=fd(e)?new TS(this._handle=e):new _0(this._handle=e)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(e){return this.closed||(this.autoDestroy=k0(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):ht}return(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):ht}next(){if(this.closed)return ht;let e;const{_reader:t}=this;for(;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const s=e.header(),l=t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(s,l)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const s=e.header(),l=t.readMessageBody(e.bodyLength),u=this._loadDictionaryBatch(s,l);this.dictionaries.set(s.id,u)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Jd(this.schema)}):this.return()}_readNextMessageAndValidate(e){return this._reader.readMessage(e)}}class Lu extends b0{constructor(e,t){super(t),this._reader=new NS(this._handle=e)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return ye(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(e){return ye(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=k0(this,e),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(e){return ye(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(e):ht})}return(e){return ye(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(e):ht})}next(){return ye(this,void 0,void 0,function*(){if(this.closed)return ht;let e;const{_reader:t}=this;for(;e=yield this._readNextMessageAndValidate();)if(e.isSchema())yield this.reset(e.header());else if(e.isRecordBatch()){this._recordBatchIndex++;const s=e.header(),l=yield t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(s,l)}}else if(e.isDictionaryBatch()){this._dictionaryIndex++;const s=e.header(),l=yield t.readMessageBody(e.bodyLength),u=this._loadDictionaryBatch(s,l);this.dictionaries.set(s.id,u)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Jd(this.schema)}):yield this.return()})}_readNextMessageAndValidate(e){return ye(this,void 0,void 0,function*(){return yield this._reader.readMessage(e)})}}class I0 extends Pu{constructor(e,t){super(e instanceof cm?e:new cm(e),t)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const t of this._footer.dictionaryBatches())t&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(e)}readRecordBatch(e){var t;if(this.closed)return null;this._footer||this.open();const s=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(s&&this._handle.seek(s.offset)){const l=this._reader.readMessage(Ve.RecordBatch);if(l?.isRecordBatch()){const u=l.header(),f=this._reader.readMessageBody(l.bodyLength);return this._loadRecordBatch(u,f)}}return null}_readDictionaryBatch(e){var t;const s=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(s&&this._handle.seek(s.offset)){const l=this._reader.readMessage(Ve.DictionaryBatch);if(l?.isDictionaryBatch()){const u=l.header(),f=this._reader.readMessageBody(l.bodyLength),h=this._loadDictionaryBatch(u,f);this.dictionaries.set(u.id,h)}}}_readFooter(){const{_handle:e}=this,t=e.size-w0,s=e.readInt32(t),l=e.readAt(t-s,s);return pl.decode(l)}_readNextMessageAndValidate(e){var t;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const s=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(this._recordBatchIndex);if(s&&this._handle.seek(s.offset))return this._reader.readMessage(e)}return null}}class BS extends Lu{constructor(e,...t){const s=typeof t[0]!="number"?t.shift():void 0,l=t[0]instanceof Map?t.shift():void 0;super(e instanceof Nu?e:new Nu(e,s),l)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(e){const t=Object.create(null,{open:{get:()=>super.open}});return ye(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const s of this._footer.dictionaryBatches())s&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield t.open.call(this,e)})}readRecordBatch(e){var t;return ye(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const s=(t=this._footer)===null||t===void 0?void 0:t.getRecordBatch(e);if(s&&(yield this._handle.seek(s.offset))){const l=yield this._reader.readMessage(Ve.RecordBatch);if(l?.isRecordBatch()){const u=l.header(),f=yield this._reader.readMessageBody(l.bodyLength);return this._loadRecordBatch(u,f)}}return null})}_readDictionaryBatch(e){var t;return ye(this,void 0,void 0,function*(){const s=(t=this._footer)===null||t===void 0?void 0:t.getDictionaryBatch(e);if(s&&(yield this._handle.seek(s.offset))){const l=yield this._reader.readMessage(Ve.DictionaryBatch);if(l?.isDictionaryBatch()){const u=l.header(),f=yield this._reader.readMessageBody(l.bodyLength),h=this._loadDictionaryBatch(u,f);this.dictionaries.set(u.id,h)}}})}_readFooter(){return ye(this,void 0,void 0,function*(){const{_handle:e}=this;e._pending&&(yield e._pending);const t=e.size-w0,s=yield e.readInt32(t),l=yield e.readAt(t-s,s);return pl.decode(l)})}_readNextMessageAndValidate(e){return ye(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const t=this._footer.getRecordBatch(this._recordBatchIndex);if(t&&(yield this._handle.seek(t.offset)))return yield this._reader.readMessage(e)}return null})}}class MS extends Pu{constructor(e,t){super(e,t)}_loadVectors(e,t,s){return new qw(t,e.nodes,e.buffers,this.dictionaries).visitMany(s)}}function k0(r,e){return e&&typeof e.autoDestroy=="boolean"?e.autoDestroy:r.autoDestroy}function*vm(r){const e=Ur.from(r);try{if(!e.open({autoDestroy:!1}).closed)do yield e;while(!e.reset().open().closed)}finally{e.cancel()}}function _m(r){return mr(this,arguments,function*(){const t=yield Oe(Ur.from(r));try{if(!(yield Oe(t.open({autoDestroy:!1}))).closed)do yield yield Oe(t);while(!(yield Oe(t.reset().open())).closed)}finally{yield Oe(t.cancel())}})}function PS(r){return new Bu(new MS(r))}function LS(r){const e=r.peek(kl+7&-8);return e&&e.byteLength>=4?eh(e)?new S0(new I0(r.read())):new Bu(new Pu(r)):new Bu(new Pu((function*(){})()))}function RS(r){return ye(this,void 0,void 0,function*(){const e=yield r.peek(kl+7&-8);return e&&e.byteLength>=4?eh(e)?new S0(new I0(yield r.read())):new Mu(new Lu(r)):new Mu(new Lu((function(){return mr(this,arguments,function*(){})})()))})}function US(r){return ye(this,void 0,void 0,function*(){const{size:e}=yield r.stat(),t=new Nu(r,e);return e>=DS&&eh(yield t.readAt(0,kl+7&-8))?new FS(new BS(t)):new Mu(new Lu(t))})}class bt extends Me{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...e){const t=l=>l.flatMap(u=>Array.isArray(u)?t(u):u instanceof dn?u.data.children:u.data),s=new bt;return s.visitMany(t(e)),s}visit(e){if(e instanceof We)return this.visitMany(e.data),this;const{type:t}=e;if(!ge.isDictionary(t)){const{length:s,nullCount:l}=e;if(s>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");ge.isNull(t)||Xn.call(this,l<=0?new Uint8Array(0):jd(e.offset,s,e.nullBitmap)),this.nodes.push(new ls(s,l))}return super.visit(e)}visitNull(e){return this}visitDictionary(e){return this.visit(e.clone(e.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Xn(r){const e=r.byteLength+7&-8;return this.buffers.push(r),this.bufferRegions.push(new gr(this._byteLength,e)),this._byteLength+=e,this}function zS(r){const{type:e,length:t,typeIds:s,valueOffsets:l}=r;if(Xn.call(this,s),e.mode===On.Sparse)return Id.call(this,r);if(e.mode===On.Dense){if(r.offset<=0)return Xn.call(this,l),Id.call(this,r);{const u=s.reduce((v,w)=>Math.max(v,w),s[0]),f=new Int32Array(u+1),h=new Int32Array(u+1).fill(-1),p=new Int32Array(t),m=Bd(-l[0],t,l);for(let v,w,I=-1;++I<t;)(w=h[v=s[I]])===-1&&(w=h[v]=m[v]),p[I]=m[I]-w,++f[v];Xn.call(this,p);for(let v,w=-1,I=e.children.length;++w<I;)if(v=r.children[w]){const A=e.typeIds[w],M=Math.min(t,f[A]);this.visit(v.slice(h[A],M))}}}return this}function jS(r){let e;return r.nullCount>=r.length?Xn.call(this,new Uint8Array(0)):(e=r.values)instanceof Uint8Array?Xn.call(this,jd(r.offset,r.length,e)):Xn.call(this,Su(r.values))}function Oi(r){return Xn.call(this,r.values.subarray(0,r.length*r.stride))}function E0(r){const{length:e,values:t,valueOffsets:s}=r,l=s[0],u=s[e],f=Math.min(u-l,t.byteLength-l);return Xn.call(this,Bd(-s[0],e,s)),Xn.call(this,t.subarray(l,l+f)),this}function th(r){const{length:e,valueOffsets:t}=r;return t&&Xn.call(this,Bd(t[0],e,t)),this.visit(r.children[0])}function Id(r){return this.visitMany(r.type.children.map((e,t)=>r.children[t]).filter(Boolean))[0]}bt.prototype.visitBool=jS;bt.prototype.visitInt=Oi;bt.prototype.visitFloat=Oi;bt.prototype.visitUtf8=E0;bt.prototype.visitBinary=E0;bt.prototype.visitFixedSizeBinary=Oi;bt.prototype.visitDate=Oi;bt.prototype.visitTimestamp=Oi;bt.prototype.visitTime=Oi;bt.prototype.visitDecimal=Oi;bt.prototype.visitList=th;bt.prototype.visitStruct=Id;bt.prototype.visitUnion=zS;bt.prototype.visitInterval=Oi;bt.prototype.visitFixedSizeList=th;bt.prototype.visitMap=th;class C0 extends Hd{constructor(e){super(),this._position=0,this._started=!1,this._sink=new ru,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,pn(e)||(e={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof e.autoDestroy=="boolean"?e.autoDestroy:!0,this._writeLegacyIpcFormat=typeof e.writeLegacyIpcFormat=="boolean"?e.writeLegacyIpcFormat:!1}static throughNode(e){throw new Error('"throughNode" not available in this environment')}static throughDOM(e,t){throw new Error('"throughDOM" not available in this environment')}toString(e=!1){return this._sink.toString(e)}toUint8Array(e=!1){return this._sink.toUint8Array(e)}writeAll(e){return wi(e)?e.then(t=>this.writeAll(t)):eo(e)?sh(this,e):ih(this,e)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(e){return this._sink.toDOMStream(e)}toNodeStream(e){return this._sink.toNodeStream(e)}close(){return this.reset()._sink.close()}abort(e){return this.reset()._sink.abort(e)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(e=this._sink,t=null){return e===this._sink||e instanceof ru?this._sink=e:(this._sink=new ru,e&&a1(e)?this.toDOMStream({type:"bytes"}).pipeTo(e):e&&u1(e)&&this.toNodeStream({objectMode:!1}).pipe(e)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!t||!_d(t,this._schema))&&(t==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=t,this._writeSchema(t))),this}write(e){let t=null;if(this._sink){if(e==null)return this.finish()&&void 0;if(e instanceof Jt&&!(t=e.schema))return this.finish()&&void 0;if(e instanceof dn&&!(t=e.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(t&&!_d(t,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,t)}e instanceof dn?e instanceof Jd||this._writeRecordBatch(e):e instanceof Jt?this.writeAll(e.batches):wl(e)&&this.writeAll(e)}_writeMessage(e,t=8){const s=t-1,l=Xt.encode(e),u=l.byteLength,f=this._writeLegacyIpcFormat?4:8,h=u+f+s&~s,p=h-u-f;return e.headerType===Ve.RecordBatch?this._recordBatchBlocks.push(new ki(h,e.bodyLength,this._position)):e.headerType===Ve.DictionaryBatch&&this._dictionaryBlocks.push(new ki(h,e.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(h-f)),u>0&&this._write(l),this._writePadding(p)}_write(e){if(this._started){const t=Ue(e);t&&t.byteLength>0&&(this._sink.write(t),this._position+=t.byteLength)}return this}_writeSchema(e){return this._writeMessage(Xt.from(e))}_writeFooter(e){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(yl)}_writePadding(e){return e>0?this._write(new Uint8Array(e)):this}_writeRecordBatch(e){const{byteLength:t,nodes:s,bufferRegions:l,buffers:u}=bt.assemble(e),f=new An(e.numRows,s,l),h=Xt.from(f,t);return this._writeDictionaries(e)._writeMessage(h)._writeBodyBuffers(u)}_writeDictionaryBatch(e,t,s=!1){this._dictionaryDeltaOffsets.set(t,e.length+(this._dictionaryDeltaOffsets.get(t)||0));const{byteLength:l,nodes:u,bufferRegions:f,buffers:h}=bt.assemble(new We([e])),p=new An(e.length,u,f),m=new wr(p,t,s),v=Xt.from(m,l);return this._writeMessage(v)._writeBodyBuffers(h)}_writeBodyBuffers(e){let t,s,l;for(let u=-1,f=e.length;++u<f;)(t=e[u])&&(s=t.byteLength)>0&&(this._write(t),(l=(s+7&-8)-s)>0&&this._writePadding(l));return this}_writeDictionaries(e){for(let[t,s]of e.dictionaries){let l=this._dictionaryDeltaOffsets.get(t)||0;if(l===0||(s=s?.slice(l)).length>0)for(const u of s.data)this._writeDictionaryBatch(u,t,l>0),l+=u.length}return this}}class nh extends C0{static writeAll(e,t){const s=new nh(t);return wi(e)?e.then(l=>s.writeAll(l)):eo(e)?sh(s,e):ih(s,e)}}class rh extends C0{static writeAll(e){const t=new rh;return wi(e)?e.then(s=>t.writeAll(s)):eo(e)?sh(t,e):ih(t,e)}constructor(){super(),this._autoDestroy=!0}_writeSchema(e){return this._writeMagic()._writePadding(2)}_writeFooter(e){const t=pl.encode(new pl(e,xn.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(e)._write(t)._write(Int32Array.of(t.byteLength))._writeMagic()}}function ih(r,e){let t=e;e instanceof Jt&&(t=e.batches,r.reset(void 0,e.schema));for(const s of t)r.write(s);return r.finish()}function sh(r,e){var t,s,l,u;return ye(this,void 0,void 0,function*(){try{for(t=ns(e);s=yield t.next(),!s.done;){const f=s.value;r.write(f)}}catch(f){l={error:f}}finally{try{s&&!s.done&&(u=t.return)&&(yield u.call(t))}finally{if(l)throw l.error}}return r.finish()})}function il(r){const e=Ur.from(r);return wi(e)?e.then(t=>il(t)):e.isAsync()?e.readAll().then(t=>new Jt(t)):new Jt(e.readAll())}function Qf(r,e="stream"){return(e==="stream"?nh:rh).writeAll(r).toUint8Array(!0)}var wm=(function(){function r(e,t,s,l){var u=this;this.getCell=function(f,h){var p=f<u.headerRows&&h<u.headerColumns,m=f>=u.headerRows&&h<u.headerColumns,v=f<u.headerRows&&h>=u.headerColumns;if(p){var w=["blank"];return h>0&&w.push("level"+f),{type:"blank",classNames:w.join(" "),content:""}}else if(v){var I=h-u.headerColumns,w=["col_heading","level"+f,"col"+I];return{type:"columns",classNames:w.join(" "),content:u.getContent(u.columnsTable,I,f)}}else if(m){var A=f-u.headerRows,w=["row_heading","level"+h,"row"+A];return{type:"index",id:"T_".concat(u.uuid,"level").concat(h,"_row").concat(A),classNames:w.join(" "),content:u.getContent(u.indexTable,A,h)}}else{var A=f-u.headerRows,I=h-u.headerColumns,w=["data","row"+A,"col"+I],M=u.styler?u.getContent(u.styler.displayValuesTable,A,I):u.getContent(u.dataTable,A,I);return{type:"data",id:"T_".concat(u.uuid,"row").concat(A,"_col").concat(I),classNames:w.join(" "),content:M}}},this.getContent=function(f,h,p){var m=f.getChildAt(p);if(m===null)return"";var v=u.getColumnTypeId(f,p);return v===C.Timestamp?u.nanosToDate(m.get(h)):m.get(h)},this.dataTable=il(e),this.indexTable=il(t),this.columnsTable=il(s),this.styler=l?{caption:l.caption,displayValuesTable:il(l.displayValues),styles:l.styles,uuid:l.uuid}:void 0}return Object.defineProperty(r.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),r.prototype.serialize=function(){return{data:Qf(this.dataTable),index:Qf(this.indexTable),columns:Qf(this.columnsTable)}},r.prototype.getColumnTypeId=function(e,t){return e.schema.fields[t].type.typeId},r.prototype.nanosToDate=function(e){return new Date(e/1e6)},r})(),ll=function(){return ll=Object.assign||function(r){for(var e,t=1,s=arguments.length;t<s;t++){e=arguments[t];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(r[l]=e[l])}return r},ll.apply(this,arguments)},al;(function(r){r.COMPONENT_READY="streamlit:componentReady",r.SET_COMPONENT_VALUE="streamlit:setComponentValue",r.SET_FRAME_HEIGHT="streamlit:setFrameHeight"})(al||(al={}));var jr=(function(){function r(){}return r.API_VERSION=1,r.RENDER_EVENT="streamlit:render",r.events=new EventTarget,r.registeredMessageListener=!1,r.setComponentReady=function(){r.registeredMessageListener||(window.addEventListener("message",r.onMessageEvent),r.registeredMessageListener=!0),r.sendBackMsg(al.COMPONENT_READY,{apiVersion:r.API_VERSION})},r.setFrameHeight=function(e){e===void 0&&(e=document.body.scrollHeight),e!==r.lastFrameHeight&&(r.lastFrameHeight=e,r.sendBackMsg(al.SET_FRAME_HEIGHT,{height:e}))},r.setComponentValue=function(e){var t;e instanceof wm?(t="dataframe",e=e.serialize()):VS(e)?(t="bytes",e=new Uint8Array(e.buffer)):e instanceof ArrayBuffer?(t="bytes",e=new Uint8Array(e)):t="json",r.sendBackMsg(al.SET_COMPONENT_VALUE,{value:e,dataType:t})},r.onMessageEvent=function(e){var t=e.data.type;t===r.RENDER_EVENT&&r.onRenderMessage(e.data)},r.onRenderMessage=function(e){var t=e.args;t==null&&(console.error("Got null args in onRenderMessage. This should never happen"),t={});var s=e.dfs&&e.dfs.length>0?r.argsDataframeToObject(e.dfs):{};t=ll(ll({},t),s);var l=!!e.disabled,u=e.theme;u&&$S(u);var f={disabled:l,args:t,theme:u},h=new CustomEvent(r.RENDER_EVENT,{detail:f});r.events.dispatchEvent(h)},r.argsDataframeToObject=function(e){var t=e.map(function(s){var l=s.key,u=s.value;return[l,r.toArrowTable(u)]});return Object.fromEntries(t)},r.toArrowTable=function(e){var t,s=(t=e.data,t.data),l=t.index,u=t.columns,f=t.styler;return new wm(s,l,u,f)},r.sendBackMsg=function(e,t){window.parent.postMessage(ll({isStreamlitMessage:!0,type:e},t),"*")},r})(),$S=function(r){var e=document.createElement("style");document.head.appendChild(e),e.innerHTML=`
    :root {
      --primary-color: `.concat(r.primaryColor,`;
      --background-color: `).concat(r.backgroundColor,`;
      --secondary-background-color: `).concat(r.secondaryBackgroundColor,`;
      --text-color: `).concat(r.textColor,`;
      --font: `).concat(r.font,`;
    }

    body {
      background-color: var(--background-color);
      color: var(--text-color);
    }
  `)};function VS(r){var e=!1;try{e=r instanceof BigInt64Array||r instanceof BigUint64Array}catch{}return r instanceof Int8Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array||e}var WS=(function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}})();(function(r){WS(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.componentDidMount=function(){jr.setFrameHeight()},e.prototype.componentDidUpdate=function(){jr.setFrameHeight()},e})(r1.PureComponent);const KS=["white","black"],Ru=["a","b","c","d","e","f","g","h"],Uu=["1","2","3","4","5","6","7","8"],HS=[...Uu].reverse(),oh=Array.prototype.concat(...Ru.map(r=>Uu.map(e=>r+e))),$n=r=>oh[8*r[0]+r[1]],dt=r=>[r.charCodeAt(0)-97,r.charCodeAt(1)-49],x0=oh.map(dt);function qS(r){let e;const t=()=>(e===void 0&&(e=r()),e);return t.clear=()=>{e=void 0},t}const YS=()=>{let r;return{start(){r=performance.now()},cancel(){r=void 0},stop(){if(!r)return 0;const e=performance.now()-r;return r=void 0,e}}},lh=r=>r==="white"?"black":"white",ml=(r,e)=>{const t=r[0]-e[0],s=r[1]-e[1];return t*t+s*s},kd=(r,e)=>r.role===e.role&&r.color===e.color,El=r=>(e,t)=>[(t?e[0]:7-e[0])*r.width/8,(t?7-e[1]:e[1])*r.height/8],ur=(r,e)=>{r.style.transform=`translate(${e[0]}px,${e[1]}px)`},O0=(r,e,t=1)=>{r.style.transform=`translate(${e[0]}px,${e[1]}px) scale(${t})`},ah=(r,e)=>{r.style.visibility=e?"visible":"hidden"},as=r=>{var e;if(r.clientX||r.clientX===0)return[r.clientX,r.clientY];if(!((e=r.targetTouches)===null||e===void 0)&&e[0])return[r.targetTouches[0].clientX,r.targetTouches[0].clientY]},A0=r=>r.button===2,Lr=(r,e)=>{const t=document.createElement(r);return e&&(t.className=e),t};function N0(r,e,t){const s=dt(r);return e||(s[0]=7-s[0],s[1]=7-s[1]),[t.left+t.width*s[0]/8+t.width/16,t.top+t.height*(7-s[1])/8+t.height/16]}const os=(r,e)=>Math.abs(r-e),QS=r=>(e,t,s,l)=>os(e,s)<2&&(r==="white"?l===t+1||t<=1&&l===t+2&&e===s:l===t-1||t>=6&&l===t-2&&e===s),T0=(r,e,t,s)=>{const l=os(r,t),u=os(e,s);return l===1&&u===2||l===2&&u===1},D0=(r,e,t,s)=>os(r,t)===os(e,s),F0=(r,e,t,s)=>r===t||e===s,B0=(r,e,t,s)=>D0(r,e,t,s)||F0(r,e,t,s),GS=(r,e,t)=>(s,l,u,f)=>os(s,u)<2&&os(l,f)<2||t&&l===f&&l===(r==="white"?0:7)&&(s===4&&(u===2&&e.includes(0)||u===6&&e.includes(7))||e.includes(u));function JS(r,e){const t=e==="white"?"1":"8",s=[];for(const[l,u]of r)l[1]===t&&u.color===e&&u.role==="rook"&&s.push(dt(l)[0]);return s}function M0(r,e,t){const s=r.get(e);if(!s)return[];const l=dt(e),u=s.role,f=u==="pawn"?QS(s.color):u==="knight"?T0:u==="bishop"?D0:u==="rook"?F0:u==="queen"?B0:GS(s.color,JS(r,s.color),t);return x0.filter(h=>(l[0]!==h[0]||l[1]!==h[1])&&f(l[0],l[1],h[0],h[1])).map($n)}function mn(r,...e){r&&setTimeout(()=>r(...e),1)}function ZS(r){r.orientation=lh(r.orientation),r.animation.current=r.draggable.current=r.selected=void 0}function XS(r,e){for(const[t,s]of e)s?r.pieces.set(t,s):r.pieces.delete(t)}function eb(r,e){if(r.check=void 0,e===!0&&(e=r.turnColor),e)for(const[t,s]of r.pieces)s.role==="king"&&s.color===e&&(r.check=t)}function tb(r,e,t,s){Ni(r),r.premovable.current=[e,t],mn(r.premovable.events.set,e,t,s)}function Ai(r){r.premovable.current&&(r.premovable.current=void 0,mn(r.premovable.events.unset))}function nb(r,e,t){Ai(r),r.predroppable.current={role:e,key:t},mn(r.predroppable.events.set,e,t)}function Ni(r){const e=r.predroppable;e.current&&(e.current=void 0,mn(e.events.unset))}function rb(r,e,t){if(!r.autoCastle)return!1;const s=r.pieces.get(e);if(!s||s.role!=="king")return!1;const l=dt(e),u=dt(t);if(l[1]!==0&&l[1]!==7||l[1]!==u[1])return!1;l[0]===4&&!r.pieces.has(t)&&(u[0]===6?t=$n([7,u[1]]):u[0]===2&&(t=$n([0,u[1]])));const f=r.pieces.get(t);return!f||f.color!==s.color||f.role!=="rook"?!1:(r.pieces.delete(e),r.pieces.delete(t),l[0]<u[0]?(r.pieces.set($n([6,u[1]]),s),r.pieces.set($n([5,u[1]]),f)):(r.pieces.set($n([2,u[1]]),s),r.pieces.set($n([3,u[1]]),f)),!0)}function P0(r,e,t){const s=r.pieces.get(e),l=r.pieces.get(t);if(e===t||!s)return!1;const u=l&&l.color!==s.color?l:void 0;return t===r.selected&&Vn(r),mn(r.events.move,e,t,u),rb(r,e,t)||(r.pieces.set(t,s),r.pieces.delete(e)),r.lastMove=[e,t],r.check=void 0,mn(r.events.change),u||!0}function uh(r,e,t,s){if(r.pieces.has(t))if(s)r.pieces.delete(t);else return!1;return mn(r.events.dropNewPiece,e,t),r.pieces.set(t,e),r.lastMove=[t],r.check=void 0,mn(r.events.change),r.movable.dests=void 0,r.turnColor=lh(r.turnColor),!0}function L0(r,e,t){const s=P0(r,e,t);return s&&(r.movable.dests=void 0,r.turnColor=lh(r.turnColor),r.animation.current=void 0),s}function R0(r,e,t){if(ch(r,e,t)){const s=L0(r,e,t);if(s){const l=r.hold.stop();Vn(r);const u={premove:!1,ctrlKey:r.stats.ctrlKey,holdTime:l};return s!==!0&&(u.captured=s),mn(r.movable.events.after,e,t,u),!0}}else if(sb(r,e,t))return tb(r,e,t,{ctrlKey:r.stats.ctrlKey}),Vn(r),!0;return Vn(r),!1}function U0(r,e,t,s){const l=r.pieces.get(e);l&&(ib(r,e,t)||s)?(r.pieces.delete(e),uh(r,l,t,s),mn(r.movable.events.afterNewPiece,l.role,t,{premove:!1,predrop:!1})):l&&ob(r,e,t)?nb(r,l.role,t):(Ai(r),Ni(r)),r.pieces.delete(e),Vn(r)}function Ed(r,e,t){if(mn(r.events.select,e),r.selected){if(r.selected===e&&!r.draggable.enabled){Vn(r),r.hold.cancel();return}else if((r.selectable.enabled||t)&&r.selected!==e&&R0(r,r.selected,e)){r.stats.dragged=!1;return}}(r.selectable.enabled||r.draggable.enabled)&&(j0(r,e)||fh(r,e))&&(z0(r,e),r.hold.start())}function z0(r,e){r.selected=e,fh(r,e)?r.premovable.customDests||(r.premovable.dests=M0(r.pieces,e,r.premovable.castle)):r.premovable.dests=void 0}function Vn(r){r.selected=void 0,r.premovable.dests=void 0,r.hold.cancel()}function j0(r,e){const t=r.pieces.get(e);return!!t&&(r.movable.color==="both"||r.movable.color===t.color&&r.turnColor===t.color)}const ch=(r,e,t)=>{var s,l;return e!==t&&j0(r,e)&&(r.movable.free||!!(!((l=(s=r.movable.dests)===null||s===void 0?void 0:s.get(e))===null||l===void 0)&&l.includes(t)))};function ib(r,e,t){const s=r.pieces.get(e);return!!s&&(e===t||!r.pieces.has(t))&&(r.movable.color==="both"||r.movable.color===s.color&&r.turnColor===s.color)}function fh(r,e){const t=r.pieces.get(e);return!!t&&r.premovable.enabled&&r.movable.color===t.color&&r.turnColor!==t.color}function sb(r,e,t){var s,l;const u=(l=(s=r.premovable.customDests)===null||s===void 0?void 0:s.get(e))!==null&&l!==void 0?l:M0(r.pieces,e,r.premovable.castle);return e!==t&&fh(r,e)&&u.includes(t)}function ob(r,e,t){const s=r.pieces.get(e),l=r.pieces.get(t);return!!s&&(!l||l.color!==r.movable.color)&&r.predroppable.enabled&&(s.role!=="pawn"||t[1]!=="1"&&t[1]!=="8")&&r.movable.color===s.color&&r.turnColor!==s.color}function lb(r,e){const t=r.pieces.get(e);return!!t&&r.draggable.enabled&&(r.movable.color==="both"||r.movable.color===t.color&&(r.turnColor===t.color||r.premovable.enabled))}function ab(r){const e=r.premovable.current;if(!e)return!1;const t=e[0],s=e[1];let l=!1;if(ch(r,t,s)){const u=L0(r,t,s);if(u){const f={premove:!0};u!==!0&&(f.captured=u),mn(r.movable.events.after,t,s,f),l=!0}}return Ai(r),l}function ub(r,e){const t=r.predroppable.current;let s=!1;if(!t)return!1;if(e(t)){const l={role:t.role,color:r.movable.color};uh(r,l,t.key)&&(mn(r.movable.events.afterNewPiece,t.role,t.key,{premove:!1,predrop:!0}),s=!0)}return Ni(r),s}function dh(r){Ai(r),Ni(r),Vn(r)}function Sm(r){r.movable.color=r.movable.dests=r.animation.current=void 0,dh(r)}function us(r,e,t){let s=Math.floor(8*(r[0]-t.left)/t.width);e||(s=7-s);let l=7-Math.floor(8*(r[1]-t.top)/t.height);return e||(l=7-l),s>=0&&s<8&&l>=0&&l<8?$n([s,l]):void 0}function cb(r,e,t,s){const l=dt(r),u=x0.filter(m=>B0(l[0],l[1],m[0],m[1])||T0(l[0],l[1],m[0],m[1])),h=u.map(m=>N0($n(m),t,s)).map(m=>ml(e,m)),[,p]=h.reduce((m,v,w)=>m[0]<v?m:[v,w],[h[0],0]);return $n(u[p])}const gn=r=>r.orientation==="white",$0="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",fb={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},db={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};function V0(r){r==="start"&&(r=$0);const e=new Map;let t=7,s=0;for(const l of r)switch(l){case" ":case"[":return e;case"/":if(--t,t<0)return e;s=0;break;case"~":{const u=e.get($n([s-1,t]));u&&(u.promoted=!0);break}default:{const u=l.charCodeAt(0);if(u<57)s+=u-48;else{const f=l.toLowerCase();e.set($n([s,t]),{role:fb[f],color:l===f?"black":"white"}),++s}}}return e}function hb(r){return HS.map(e=>Ru.map(t=>{const s=r.get(t+e);if(s){let l=db[s.role];return s.color==="white"&&(l=l.toUpperCase()),s.promoted&&(l+="~"),l}else return"1"}).join("")).join("/").replace(/1{2,}/g,e=>e.length.toString())}function W0(r,e){e.animation&&(hh(r.animation,e.animation),(r.animation.duration||0)<70&&(r.animation.enabled=!1))}function K0(r,e){var t,s,l;if(!((t=e.movable)===null||t===void 0)&&t.dests&&(r.movable.dests=void 0),!((s=e.drawable)===null||s===void 0)&&s.autoShapes&&(r.drawable.autoShapes=[]),hh(r,e),e.fen&&(r.pieces=V0(e.fen),r.drawable.shapes=((l=e.drawable)===null||l===void 0?void 0:l.shapes)||[]),"check"in e&&eb(r,e.check||!1),"lastMove"in e&&!e.lastMove?r.lastMove=void 0:e.lastMove&&(r.lastMove=e.lastMove),r.selected&&z0(r,r.selected),W0(r,e),!r.movable.rookCastle&&r.movable.dests){const u=r.movable.color==="white"?"1":"8",f="e"+u,h=r.movable.dests.get(f),p=r.pieces.get(f);if(!h||!p||p.role!=="king")return;r.movable.dests.set(f,h.filter(m=>!(m==="a"+u&&h.includes("c"+u))&&!(m==="h"+u&&h.includes("g"+u))))}}function hh(r,e){for(const t in e)t==="__proto__"||t==="constructor"||!Object.prototype.hasOwnProperty.call(e,t)||(Object.prototype.hasOwnProperty.call(r,t)&&bm(r[t])&&bm(e[t])?hh(r[t],e[t]):r[t]=e[t])}function bm(r){if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return e===Object.prototype||e===null}const Qi=(r,e)=>e.animation.enabled?mb(r,e):mi(r,e);function mi(r,e){const t=r(e);return e.dom.redraw(),t}const Gf=(r,e)=>({key:r,pos:dt(r),piece:e}),pb=(r,e)=>e.sort((t,s)=>ml(r.pos,t.pos)-ml(r.pos,s.pos))[0];function yb(r,e){const t=new Map,s=[],l=new Map,u=[],f=[],h=new Map;let p,m,v;for(const[w,I]of r)h.set(w,Gf(w,I));for(const w of oh)p=e.pieces.get(w),m=h.get(w),p?m?kd(p,m.piece)||(u.push(m),f.push(Gf(w,p))):f.push(Gf(w,p)):m&&u.push(m);for(const w of f)m=pb(w,u.filter(I=>kd(w.piece,I.piece))),m&&(v=[m.pos[0]-w.pos[0],m.pos[1]-w.pos[1]],t.set(w.key,v.concat(v)),s.push(m.key));for(const w of u)s.includes(w.key)||l.set(w.key,w.piece);return{anims:t,fadings:l}}function H0(r,e){const t=r.animation.current;if(t===void 0){r.dom.destroyed||r.dom.redrawNow();return}const s=1-(e-t.start)*t.frequency;if(s<=0)r.animation.current=void 0,r.dom.redrawNow();else{const l=gb(s);for(const u of t.plan.anims.values())u[2]=u[0]*l,u[3]=u[1]*l;r.dom.redrawNow(!0),requestAnimationFrame((u=performance.now())=>H0(r,u))}}function mb(r,e){const t=new Map(e.pieces),s=r(e),l=yb(t,e);if(l.anims.size||l.fadings.size){const u=e.animation.current&&e.animation.current.start;e.animation.current={start:performance.now(),frequency:1/e.animation.duration,plan:l},u||H0(e,performance.now())}else e.dom.redraw();return s}const gb=r=>r<.5?4*r*r*r:(r-1)*(2*r-2)*(2*r-2)+1,vb=["green","red","blue","yellow"];function _b(r,e){if(e.touches&&e.touches.length>1)return;e.stopPropagation(),e.preventDefault(),e.ctrlKey?Vn(r):dh(r);const t=as(e),s=us(t,gn(r),r.dom.bounds());s&&(r.drawable.current={orig:s,pos:t,brush:Ib(e),snapToValidMove:r.drawable.defaultSnapToValidMove},q0(r))}function q0(r){requestAnimationFrame(()=>{const e=r.drawable.current;if(e){const t=us(e.pos,gn(r),r.dom.bounds());t||(e.snapToValidMove=!1);const s=e.snapToValidMove?cb(e.orig,e.pos,gn(r),r.dom.bounds()):t;s!==e.mouseSq&&(e.mouseSq=s,e.dest=s!==e.orig?s:void 0,r.dom.redrawNow()),q0(r)}})}function wb(r,e){r.drawable.current&&(r.drawable.current.pos=as(e))}function Sb(r){const e=r.drawable.current;e&&(e.mouseSq&&kb(r.drawable,e),Y0(r))}function Y0(r){r.drawable.current&&(r.drawable.current=void 0,r.dom.redraw())}function bb(r){r.drawable.shapes.length&&(r.drawable.shapes=[],r.dom.redraw(),Q0(r.drawable))}function Ib(r){var e;const t=(r.shiftKey||r.ctrlKey)&&A0(r),s=r.altKey||r.metaKey||((e=r.getModifierState)===null||e===void 0?void 0:e.call(r,"AltGraph"));return vb[(t?1:0)+(s?2:0)]}function kb(r,e){const t=l=>l.orig===e.orig&&l.dest===e.dest,s=r.shapes.find(t);s&&(r.shapes=r.shapes.filter(l=>!t(l))),(!s||s.brush!==e.brush)&&r.shapes.push({orig:e.orig,dest:e.dest,brush:e.brush}),Q0(r)}function Q0(r){r.onChange&&r.onChange(r.shapes)}function Eb(r,e){if(!(r.trustAllEvents||e.isTrusted)||e.buttons!==void 0&&e.buttons>1||e.touches&&e.touches.length>1)return;const t=r.dom.bounds(),s=as(e),l=us(s,gn(r),t);if(!l)return;const u=r.pieces.get(l),f=r.selected;if(!f&&r.drawable.enabled&&(r.drawable.eraseOnClick||!u||u.color!==r.turnColor)&&bb(r),e.cancelable!==!1&&(!e.touches||r.blockTouchScroll||u||f||Cb(r,s)))e.preventDefault();else if(e.touches)return;const h=!!r.premovable.current,p=!!r.predroppable.current;r.stats.ctrlKey=e.ctrlKey,r.selected&&ch(r,r.selected,l)?Qi(w=>Ed(w,l),r):Ed(r,l);const m=r.selected===l,v=J0(r,l);if(u&&v&&m&&lb(r,l)){r.draggable.current={orig:l,piece:u,origPos:s,pos:s,started:r.draggable.autoDistance&&r.stats.dragged,element:v,previouslySelected:f,originTarget:e.target,keyHasChanged:!1},v.cgDragging=!0,v.classList.add("dragging");const w=r.dom.elements.ghost;w&&(w.className=`ghost ${u.color} ${u.role}`,ur(w,El(t)(dt(l),gn(r))),ah(w,!0)),ph(r)}else h&&Ai(r),p&&Ni(r);r.dom.redraw()}function Cb(r,e){const t=gn(r),s=r.dom.bounds(),l=Math.pow(s.width/8,2);for(const u of r.pieces.keys()){const f=N0(u,t,s);if(ml(f,e)<=l)return!0}return!1}function xb(r,e,t,s){r.pieces.set("a0",e),r.dom.redraw();const u=as(t);r.draggable.current={orig:"a0",piece:e,origPos:u,pos:u,started:!0,element:()=>J0(r,"a0"),originTarget:t.target,newPiece:!0,force:!!s,keyHasChanged:!1},ph(r)}function ph(r){requestAnimationFrame(()=>{var e;const t=r.draggable.current;if(!t)return;!((e=r.animation.current)===null||e===void 0)&&e.plan.anims.has(t.orig)&&(r.animation.current=void 0);const s=r.pieces.get(t.orig);if(!s||!kd(s,t.piece))zu(r);else if(!t.started&&ml(t.pos,t.origPos)>=Math.pow(r.draggable.distance,2)&&(t.started=!0),t.started){if(typeof t.element=="function"){const u=t.element();if(!u)return;u.cgDragging=!0,u.classList.add("dragging"),t.element=u}const l=r.dom.bounds();ur(t.element,[t.pos[0]-l.left-l.width/16,t.pos[1]-l.top-l.height/16]),t.keyHasChanged||(t.keyHasChanged=t.orig!==us(t.pos,gn(r),l))}ph(r)})}function Ob(r,e){r.draggable.current&&(!e.touches||e.touches.length<2)&&(r.draggable.current.pos=as(e))}function Ab(r,e){const t=r.draggable.current;if(!t)return;if(e.type==="touchend"&&e.cancelable!==!1&&e.preventDefault(),e.type==="touchend"&&t.originTarget!==e.target&&!t.newPiece){r.draggable.current=void 0;return}Ai(r),Ni(r);const s=as(e)||t.pos,l=us(s,gn(r),r.dom.bounds());l&&t.started&&t.orig!==l?t.newPiece?U0(r,t.orig,l,t.force):(r.stats.ctrlKey=e.ctrlKey,R0(r,t.orig,l)&&(r.stats.dragged=!0)):t.newPiece?r.pieces.delete(t.orig):r.draggable.deleteOnDropOff&&!l&&(r.pieces.delete(t.orig),mn(r.events.change)),(t.orig===t.previouslySelected||t.keyHasChanged)&&(t.orig===l||!l)?Vn(r):r.selectable.enabled||Vn(r),G0(r),r.draggable.current=void 0,r.dom.redraw()}function zu(r){const e=r.draggable.current;e&&(e.newPiece&&r.pieces.delete(e.orig),r.draggable.current=void 0,Vn(r),G0(r),r.dom.redraw())}function G0(r){const e=r.dom.elements;e.ghost&&ah(e.ghost,!1)}function J0(r,e){let t=r.dom.elements.board.firstChild;for(;t;){if(t.cgKey===e&&t.tagName==="PIECE")return t;t=t.nextSibling}}function Nb(r,e){r.exploding={stage:1,keys:e},r.dom.redraw(),setTimeout(()=>{Im(r,2),setTimeout(()=>Im(r,void 0),120)},120)}function Im(r,e){r.exploding&&(e?r.exploding.stage=e:r.exploding=void 0,r.dom.redraw())}function Tb(r,e){function t(){ZS(r),e()}return{set(s){s.orientation&&s.orientation!==r.orientation&&t(),W0(r,s),(s.fen?Qi:mi)(l=>K0(l,s),r)},state:r,getFen:()=>hb(r.pieces),toggleOrientation:t,setPieces(s){Qi(l=>XS(l,s),r)},selectSquare(s,l){s?Qi(u=>Ed(u,s,l),r):r.selected&&(Vn(r),r.dom.redraw())},move(s,l){Qi(u=>P0(u,s,l),r)},newPiece(s,l){Qi(u=>uh(u,s,l),r)},playPremove(){if(r.premovable.current){if(Qi(ab,r))return!0;r.dom.redraw()}return!1},playPredrop(s){if(r.predroppable.current){const l=ub(r,s);return r.dom.redraw(),l}return!1},cancelPremove(){mi(Ai,r)},cancelPredrop(){mi(Ni,r)},cancelMove(){mi(s=>{dh(s),zu(s)},r)},stop(){mi(s=>{Sm(s),zu(s)},r)},explode(s){Nb(r,s)},setAutoShapes(s){mi(l=>l.drawable.autoShapes=s,r)},setShapes(s){mi(l=>l.drawable.shapes=s,r)},getKeyAtDomPos(s){return us(s,gn(r),r.dom.bounds())},redrawAll:e,dragNewPiece(s,l,u){xb(r,s,l,u)},destroy(){Sm(r),r.dom.unbind&&r.dom.unbind(),r.dom.destroyed=!0}}}function Db(){return{pieces:V0($0),orientation:"white",turnColor:"white",coordinates:!0,coordinatesOnSquares:!1,ranksPosition:"right",autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,pieceKey:!1,trustAllEvents:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15},purple:{key:"purple",color:"#68217a",opacity:.65,lineWidth:10},pink:{key:"pink",color:"#ee2080",opacity:.5,lineWidth:10},white:{key:"white",color:"white",opacity:1,lineWidth:10}},prevSvgHash:""},hold:YS()}}const km={hilitePrimary:{key:"hilitePrimary",color:"#3291ff",opacity:1,lineWidth:1},hiliteWhite:{key:"hiliteWhite",color:"#ffffff",opacity:1,lineWidth:1}};function Fb(){const r=At("defs"),e=en(At("filter"),{id:"cg-filter-blur"});return e.appendChild(en(At("feGaussianBlur"),{stdDeviation:"0.019"})),r.appendChild(e),r}function Bb(r,e,t){var s;const l=r.drawable,u=l.current,f=u&&u.mouseSq?u:void 0,h=new Map,p=r.dom.bounds(),m=l.autoShapes.filter(A=>!A.piece);for(const A of l.shapes.concat(m).concat(f?[f]:[])){if(!A.dest)continue;const M=(s=h.get(A.dest))!==null&&s!==void 0?s:new Set,L=Vu($u(dt(A.orig),r.orientation),p),J=Vu($u(dt(A.dest),r.orientation),p);M.add(xd(L,J)),h.set(A.dest,M)}const v=l.shapes.concat(m).map(A=>({shape:A,current:!1,hash:Em(A,Cd(A.dest,h),!1,p)}));f&&v.push({shape:f,current:!0,hash:Em(f,Cd(f.dest,h),!0,p)});const w=v.map(A=>A.hash).join(";");if(w===r.drawable.prevSvgHash)return;r.drawable.prevSvgHash=w;const I=e.querySelector("defs");Mb(l,v,I),Pb(v,e.querySelector("g"),t.querySelector("g"),A=>Ub(r,A,l.brushes,h,p))}function Mb(r,e,t){var s;const l=new Map;let u;for(const p of e.filter(m=>m.shape.dest&&m.shape.brush))u=Z0(r.brushes[p.shape.brush],p.shape.modifiers),!((s=p.shape.modifiers)===null||s===void 0)&&s.hilite&&l.set(ju(u).key,ju(u)),l.set(u.key,u);const f=new Set;let h=t.firstElementChild;for(;h;)f.add(h.getAttribute("cgKey")),h=h.nextElementSibling;for(const[p,m]of l.entries())f.has(p)||t.appendChild($b(m))}function Pb(r,e,t,s){const l=new Map;for(const u of r)l.set(u.hash,!1);for(const u of[e,t]){const f=[];let h=u.firstElementChild,p;for(;h;)p=h.getAttribute("cgHash"),l.has(p)?l.set(p,!0):f.push(h),h=h.nextElementSibling;for(const m of f)u.removeChild(m)}for(const u of r.filter(f=>!l.get(f.hash)))for(const f of s(u))f.isCustom?t.appendChild(f.el):e.appendChild(f.el)}function Em({orig:r,dest:e,brush:t,piece:s,modifiers:l,customSvg:u,label:f},h,p,m){var v,w;return[m.width,m.height,p,r,e,t,h&&"-",s&&Lb(s),l&&Rb(l),u&&`custom-${Cm(u.html)},${(w=(v=u.center)===null||v===void 0?void 0:v[0])!==null&&w!==void 0?w:"o"}`,f&&`label-${Cm(f.text)}`].filter(I=>I).join(",")}function Lb(r){return[r.color,r.role,r.scale].filter(e=>e).join(",")}function Rb(r){return[r.lineWidth,r.hilite&&"*"].filter(e=>e).join(",")}function Cm(r){let e=0;for(let t=0;t<r.length;t++)e=(e<<5)-e+r.charCodeAt(t)>>>0;return e.toString()}function Ub(r,{shape:e,current:t,hash:s},l,u,f){var h,p;const m=Vu($u(dt(e.orig),r.orientation),f),v=e.dest?Vu($u(dt(e.dest),r.orientation),f):m,w=e.brush&&Z0(l[e.brush],e.modifiers),I=u.get(e.dest),A=[];if(w){const M=en(At("g"),{cgHash:s});A.push({el:M}),m[0]!==v[0]||m[1]!==v[1]?M.appendChild(jb(e,w,m,v,t,Cd(e.dest,u))):M.appendChild(zb(l[e.brush],m,t,f))}if(e.label){const M=e.label;(h=M.fill)!==null&&h!==void 0||(M.fill=e.brush&&l[e.brush].color);const L=e.brush?void 0:"tr";A.push({el:Vb(M,s,m,v,I,L),isCustom:!0})}if(e.customSvg){const M=(p=e.customSvg.center)!==null&&p!==void 0?p:"orig",[L,J]=M==="label"?ev(m,v,I).map(Ee=>Ee-.5):M==="dest"?v:m,fe=en(At("g"),{transform:`translate(${L},${J})`,cgHash:s});fe.innerHTML=`<svg width="1" height="1" viewBox="0 0 100 100">${e.customSvg.html}</svg>`,A.push({el:fe,isCustom:!0})}return A}function zb(r,e,t,s){const l=Wb(),u=(s.width+s.height)/(4*Math.max(s.width,s.height));return en(At("circle"),{stroke:r.color,"stroke-width":l[t?0:1],fill:"none",opacity:X0(r,t),cx:e[0],cy:e[1],r:u-l[1]/2})}function ju(r){return["#ffffff","#fff","white"].includes(r.color)?km.hilitePrimary:km.hiliteWhite}function jb(r,e,t,s,l,u){var f;function h(v){var w;const I=Hb(u&&!l),A=s[0]-t[0],M=s[1]-t[1],L=Math.atan2(M,A),J=Math.cos(L)*I,fe=Math.sin(L)*I;return en(At("line"),{stroke:v?ju(e).color:e.color,"stroke-width":Kb(e,l)+(v?.04:0),"stroke-linecap":"round","marker-end":`url(#arrowhead-${v?ju(e).key:e.key})`,opacity:!((w=r.modifiers)===null||w===void 0)&&w.hilite?1:X0(e,l),x1:t[0],y1:t[1],x2:s[0]-J,y2:s[1]-fe})}if(!(!((f=r.modifiers)===null||f===void 0)&&f.hilite))return h(!1);const p=At("g"),m=en(At("g"),{filter:"url(#cg-filter-blur)"});return m.appendChild(qb(t,s)),m.appendChild(h(!0)),p.appendChild(m),p.appendChild(h(!1)),p}function $b(r){const e=en(At("marker"),{id:"arrowhead-"+r.key,orient:"auto",overflow:"visible",markerWidth:4,markerHeight:4,refX:r.key.startsWith("hilite")?1.86:2.05,refY:2});return e.appendChild(en(At("path"),{d:"M0,0 V4 L3,2 Z",fill:r.color})),e.setAttribute("cgKey",r.key),e}function Vb(r,e,t,s,l,u){var f;const p=.4*.75**r.text.length,m=ev(t,s,l),v=u==="tr"?.4:0,w=en(At("g"),{transform:`translate(${m[0]+v},${m[1]-v})`,cgHash:e});w.appendChild(en(At("circle"),{r:.4/2,"fill-opacity":u?1:.8,"stroke-opacity":u?1:.7,"stroke-width":.03,fill:(f=r.fill)!==null&&f!==void 0?f:"#666",stroke:"white"}));const I=en(At("text"),{"font-size":p,"font-family":"Noto Sans","text-anchor":"middle",fill:"white",y:.13*.75**r.text.length});return I.innerHTML=r.text,w.appendChild(I),w}function $u(r,e){return e==="white"?r:[7-r[0],7-r[1]]}function Cd(r,e){return(r&&e.has(r)&&e.get(r).size>1)===!0}function At(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function en(r,e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.setAttribute(t,e[t]);return r}function Z0(r,e){return e?{color:r.color,opacity:Math.round(r.opacity*10)/10,lineWidth:Math.round(e.lineWidth||r.lineWidth),key:[r.key,e.lineWidth].filter(t=>t).join("")}:r}function Wb(){return[3/64,4/64]}function Kb(r,e){return(r.lineWidth||10)*(e?.85:1)/64}function X0(r,e){return(r.opacity||1)*(e?.9:1)}function Hb(r){return(r?20:10)/64}function Vu(r,e){const t=Math.min(1,e.width/e.height),s=Math.min(1,e.height/e.width);return[(r[0]-3.5)*t,(3.5-r[1])*s]}function qb(r,e){const t={from:[Math.floor(Math.min(r[0],e[0])),Math.floor(Math.min(r[1],e[1]))],to:[Math.ceil(Math.max(r[0],e[0])),Math.ceil(Math.max(r[1],e[1]))]};return en(At("rect"),{x:t.from[0],y:t.from[1],width:t.to[0]-t.from[0],height:t.to[1]-t.from[1],fill:"none",stroke:"none"})}function xd(r,e,t=!0){const s=Math.atan2(e[1]-r[1],e[0]-r[0])+Math.PI;return t?(Math.round(s*8/Math.PI)+16)%16:s}function Yb(r,e){return Math.sqrt([r[0]-e[0],r[1]-e[1]].reduce((t,s)=>t+s*s,0))}function ev(r,e,t){let s=Yb(r,e);const l=xd(r,e,!1);if(t&&(s-=33/64,t.size>1)){s-=10/64;const u=xd(r,e);(t.has((u+1)%16)||t.has((u+15)%16))&&u&1&&(s-=.4)}return[r[0]-Math.cos(l)*s,r[1]-Math.sin(l)*s].map(u=>u+.5)}function Qb(r,e){r.innerHTML="",r.classList.add("cg-wrap");for(const p of KS)r.classList.toggle("orientation-"+p,e.orientation===p);r.classList.toggle("manipulable",!e.viewOnly);const t=Lr("cg-container");r.appendChild(t);const s=Lr("cg-board");t.appendChild(s);let l,u,f;if(e.drawable.visible&&(l=en(At("svg"),{class:"cg-shapes",viewBox:"-4 -4 8 8",preserveAspectRatio:"xMidYMid slice"}),l.appendChild(Fb()),l.appendChild(At("g")),u=en(At("svg"),{class:"cg-custom-svgs",viewBox:"-3.5 -3.5 8 8",preserveAspectRatio:"xMidYMid slice"}),u.appendChild(At("g")),f=Lr("cg-auto-pieces"),t.appendChild(l),t.appendChild(u),t.appendChild(f)),e.coordinates){const p=e.orientation==="black"?" black":"",m=e.ranksPosition==="left"?" left":"";if(e.coordinatesOnSquares){const v=e.orientation==="white"?w=>w+1:w=>8-w;Ru.forEach((w,I)=>t.appendChild(Jf(Uu.map(A=>w+A),"squares rank"+v(I)+p+m)))}else t.appendChild(Jf(Uu,"ranks"+p+m)),t.appendChild(Jf(Ru,"files"+p))}let h;return e.draggable.enabled&&e.draggable.showGhost&&(h=Lr("piece","ghost"),ah(h,!1),t.appendChild(h)),{board:s,container:t,wrap:r,ghost:h,svg:l,customSvg:u,autoPieces:f}}function Jf(r,e){const t=Lr("coords",e);let s;for(const l of r)s=Lr("coord"),s.textContent=l,t.appendChild(s);return t}function Gb(r,e){if(!r.dropmode.active)return;Ai(r),Ni(r);const t=r.dropmode.piece;if(t){r.pieces.set("a0",t);const s=as(e),l=s&&us(s,gn(r),r.dom.bounds());l&&U0(r,"a0",l)}r.dom.redraw()}function Jb(r,e){const t=r.dom.elements.board;if("ResizeObserver"in window&&new ResizeObserver(e).observe(r.dom.elements.wrap),(r.disableContextMenu||r.drawable.enabled)&&t.addEventListener("contextmenu",l=>l.preventDefault()),r.viewOnly)return;const s=Xb(r);t.addEventListener("touchstart",s,{passive:!1}),t.addEventListener("mousedown",s,{passive:!1})}function Zb(r,e){const t=[];if("ResizeObserver"in window||t.push(Xo(document.body,"chessground.resize",e)),!r.viewOnly){const s=xm(r,Ob,wb),l=xm(r,Ab,Sb);for(const f of["touchmove","mousemove"])t.push(Xo(document,f,s));for(const f of["touchend","mouseup"])t.push(Xo(document,f,l));const u=()=>r.dom.bounds.clear();t.push(Xo(document,"scroll",u,{capture:!0,passive:!0})),t.push(Xo(window,"resize",u,{passive:!0}))}return()=>t.forEach(s=>s())}function Xo(r,e,t,s){return r.addEventListener(e,t,s),()=>r.removeEventListener(e,t,s)}const Xb=r=>e=>{r.draggable.current?zu(r):r.drawable.current?Y0(r):e.shiftKey||A0(e)?r.drawable.enabled&&_b(r,e):r.viewOnly||(r.dropmode.active?Gb(r,e):Eb(r,e))},xm=(r,e,t)=>s=>{r.drawable.current?r.drawable.enabled&&t(r,s):r.viewOnly||e(r,s)};function eI(r){const e=gn(r),t=El(r.dom.bounds()),s=r.dom.elements.board,l=r.pieces,u=r.animation.current,f=u?u.plan.anims:new Map,h=u?u.plan.fadings:new Map,p=r.draggable.current,m=nI(r),v=new Set,w=new Set,I=new Map,A=new Map;let M,L,J,fe,Ee,ae,Te,P,K,me;for(L=s.firstChild;L;){if(M=L.cgKey,tv(L))if(J=l.get(M),Ee=f.get(M),ae=h.get(M),fe=L.cgPiece,L.cgDragging&&(!p||p.orig!==M)&&(L.classList.remove("dragging"),ur(L,t(dt(M),e)),L.cgDragging=!1),!ae&&L.cgFading&&(L.cgFading=!1,L.classList.remove("fading")),J){if(Ee&&L.cgAnimating&&fe===el(J)){const ee=dt(M);ee[0]+=Ee[2],ee[1]+=Ee[3],L.classList.add("anim"),ur(L,t(ee,e))}else L.cgAnimating&&(L.cgAnimating=!1,L.classList.remove("anim"),ur(L,t(dt(M),e)),r.addPieceZIndex&&(L.style.zIndex=Zf(dt(M),e)));fe===el(J)&&(!ae||!L.cgFading)?v.add(M):ae&&fe===el(ae)?(L.classList.add("fading"),L.cgFading=!0):Xf(I,fe,L)}else Xf(I,fe,L);else if(nv(L)){const ee=L.className;m.get(M)===ee?w.add(M):Xf(A,ee,L)}L=L.nextSibling}for(const[ee,He]of m)if(!w.has(ee)){K=A.get(He),me=K&&K.pop();const De=t(dt(ee),e);if(me)me.cgKey=ee,ur(me,De);else{const Xe=Lr("square",He);Xe.cgKey=ee,ur(Xe,De),s.insertBefore(Xe,s.firstChild)}}for(const[ee,He]of l)if(Ee=f.get(ee),!v.has(ee))if(Te=I.get(el(He)),P=Te&&Te.pop(),P){P.cgKey=ee,P.cgFading&&(P.classList.remove("fading"),P.cgFading=!1);const De=dt(ee);r.addPieceZIndex&&(P.style.zIndex=Zf(De,e)),Ee&&(P.cgAnimating=!0,P.classList.add("anim"),De[0]+=Ee[2],De[1]+=Ee[3]),ur(P,t(De,e))}else{const De=el(He),Xe=Lr("piece",De),yt=dt(ee);Xe.cgPiece=De,Xe.cgKey=ee,Ee&&(Xe.cgAnimating=!0,yt[0]+=Ee[2],yt[1]+=Ee[3]),ur(Xe,t(yt,e)),r.addPieceZIndex&&(Xe.style.zIndex=Zf(yt,e)),s.appendChild(Xe)}for(const ee of I.values())Am(r,ee);for(const ee of A.values())Am(r,ee)}function tI(r){const e=gn(r),t=El(r.dom.bounds());let s=r.dom.elements.board.firstChild;for(;s;)(tv(s)&&!s.cgAnimating||nv(s))&&ur(s,t(dt(s.cgKey),e)),s=s.nextSibling}function Om(r){var e,t;const s=r.dom.elements.wrap.getBoundingClientRect(),l=r.dom.elements.container,u=s.height/s.width,f=Math.floor(s.width*window.devicePixelRatio/8)*8/window.devicePixelRatio,h=f*u;l.style.width=f+"px",l.style.height=h+"px",r.dom.bounds.clear(),(e=r.addDimensionsCssVarsTo)===null||e===void 0||e.style.setProperty("---cg-width",f+"px"),(t=r.addDimensionsCssVarsTo)===null||t===void 0||t.style.setProperty("---cg-height",h+"px")}const tv=r=>r.tagName==="PIECE",nv=r=>r.tagName==="SQUARE";function Am(r,e){for(const t of e)r.dom.elements.board.removeChild(t)}function Zf(r,e){const s=r[1];return`${e?10-s:3+s}`}const el=r=>`${r.color} ${r.role}`;function nI(r){var e,t,s;const l=new Map;if(r.lastMove&&r.highlight.lastMove)for(const h of r.lastMove)Nr(l,h,"last-move");if(r.check&&r.highlight.check&&Nr(l,r.check,"check"),r.selected&&(Nr(l,r.selected,"selected"),r.movable.showDests)){const h=(e=r.movable.dests)===null||e===void 0?void 0:e.get(r.selected);if(h)for(const m of h)Nr(l,m,"move-dest"+(r.pieces.has(m)?" oc":""));const p=(s=(t=r.premovable.customDests)===null||t===void 0?void 0:t.get(r.selected))!==null&&s!==void 0?s:r.premovable.dests;if(p)for(const m of p)Nr(l,m,"premove-dest"+(r.pieces.has(m)?" oc":""))}const u=r.premovable.current;if(u)for(const h of u)Nr(l,h,"current-premove");else r.predroppable.current&&Nr(l,r.predroppable.current.key,"current-premove");const f=r.exploding;if(f)for(const h of f.keys)Nr(l,h,"exploding"+f.stage);return r.highlight.custom&&r.highlight.custom.forEach((h,p)=>{Nr(l,p,h)}),l}function Nr(r,e,t){const s=r.get(e);s?r.set(e,`${s} ${t}`):r.set(e,t)}function Xf(r,e,t){const s=r.get(e);s?s.push(t):r.set(e,[t])}function rI(r,e,t){const s=new Map,l=[];for(const h of r)s.set(h.hash,!1);let u=e.firstElementChild,f;for(;u;)f=u.getAttribute("cgHash"),s.has(f)?s.set(f,!0):l.push(u),u=u.nextElementSibling;for(const h of l)e.removeChild(h);for(const h of r)s.get(h.hash)||e.appendChild(t(h))}function iI(r,e){const s=r.drawable.autoShapes.filter(l=>l.piece).map(l=>({shape:l,hash:lI(l),current:!1}));rI(s,e,l=>oI(r,l,r.dom.bounds()))}function sI(r){var e;const t=gn(r),s=El(r.dom.bounds());let l=(e=r.dom.elements.autoPieces)===null||e===void 0?void 0:e.firstChild;for(;l;)O0(l,s(dt(l.cgKey),t),l.cgScale),l=l.nextSibling}function oI(r,{shape:e,hash:t},s){var l,u,f;const h=e.orig,p=(l=e.piece)===null||l===void 0?void 0:l.role,m=(u=e.piece)===null||u===void 0?void 0:u.color,v=(f=e.piece)===null||f===void 0?void 0:f.scale,w=Lr("piece",`${p} ${m}`);return w.setAttribute("cgHash",t),w.cgKey=h,w.cgScale=v,O0(w,El(s)(dt(h),gn(r)),v),w}const lI=r=>{var e,t,s;return[r.orig,(e=r.piece)===null||e===void 0?void 0:e.role,(t=r.piece)===null||t===void 0?void 0:t.color,(s=r.piece)===null||s===void 0?void 0:s.scale].join(",")};function aI(r,e){const t=Db();K0(t,e||{});function s(){const l="dom"in t?t.dom.unbind:void 0,u=Qb(r,t),f=qS(()=>u.board.getBoundingClientRect()),h=v=>{eI(m),u.autoPieces&&iI(m,u.autoPieces),!v&&u.svg&&Bb(m,u.svg,u.customSvg)},p=()=>{Om(m),tI(m),u.autoPieces&&sI(m)},m=t;return m.dom={elements:u,bounds:f,redraw:uI(h),redrawNow:h,unbind:l},m.drawable.prevSvgHash="",Om(m),h(!1),Jb(m,p),l||(m.dom.unbind=Zb(m,p)),m.events.insert&&m.events.insert(u),m}return Tb(s(),s)}function uI(r){let e=!1;return()=>{e||(e=!0,requestAnimationFrame(()=>{r(),e=!1}))}}function cI(r){return r!==null?{comment:r,variations:[]}:{variations:[]}}function fI(r,e,t,s,l){const u={move:r,variations:l};return e&&(u.suffix=e),t&&(u.nag=t),s!==null&&(u.comment=s),u}function dI(...r){const[e,...t]=r;let s=e;for(const l of t)l!==null&&(s.variations=[l,...l.variations],l.variations=[],s=l);return e}function hI(r,e){if(e.marker&&e.marker.comment){let t=e.root;for(;;){const s=t.variations[0];if(!s){t.comment=e.marker.comment;break}t=s}}return{headers:r,root:e.root,result:(e.marker&&e.marker.result)??void 0}}function pI(r,e){function t(){this.constructor=r}t.prototype=e.prototype,r.prototype=new t}function Xs(r,e,t,s){var l=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(l,Xs.prototype),l.expected=e,l.found=t,l.location=s,l.name="SyntaxError",l}pI(Xs,Error);function ed(r,e,t){return t=t||" ",r.length>e?r:(e-=r.length,t+=t.repeat(e),r+t.slice(0,e))}Xs.prototype.format=function(r){var e="Error: "+this.message;if(this.location){var t=null,s;for(s=0;s<r.length;s++)if(r[s].source===this.location.source){t=r[s].text.split(/\r\n|\n|\r/g);break}var l=this.location.start,u=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(l):l,f=this.location.source+":"+u.line+":"+u.column;if(t){var h=this.location.end,p=ed("",u.line.toString().length," "),m=t[l.line-1],v=l.line===h.line?h.column:m.length+1,w=v-l.column||1;e+=`
 --> `+f+`
`+p+` |
`+u.line+" | "+m+`
`+p+" | "+ed("",l.column-1," ")+ed("",w,"^")}else e+=`
 at `+f}return e};Xs.buildMessage=function(r,e){var t={literal:function(m){return'"'+l(m.text)+'"'},class:function(m){var v=m.parts.map(function(w){return Array.isArray(w)?u(w[0])+"-"+u(w[1]):u(w)});return"["+(m.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(m){return m.description}};function s(m){return m.charCodeAt(0).toString(16).toUpperCase()}function l(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+s(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+s(v)})}function u(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+s(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+s(v)})}function f(m){return t[m.type](m)}function h(m){var v=m.map(f),w,I;if(v.sort(),v.length>0){for(w=1,I=1;w<v.length;w++)v[w-1]!==v[w]&&(v[I]=v[w],I++);v.length=I}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function p(m){return m?'"'+l(m)+'"':"end of input"}return"Expected "+h(r)+" but "+p(e)+" found."};function yI(r,e){e=e!==void 0?e:{};var t={},s=e.grammarSource,l={pgn:yo},u=yo,f="[",h='"',p="]",m=".",v="O-O-O",w="O-O",I="0-0-0",A="0-0",M="$",L="{",J="}",fe=";",Ee="(",ae=")",Te="1-0",P="0-1",K="1/2-1/2",me="*",ee=/^[a-zA-Z]/,He=/^[^"]/,De=/^[0-9]/,Xe=/^[.]/,yt=/^[a-zA-Z1-8\-=]/,_t=/^[+#]/,Mt=/^[!?]/,zt=/^[^}]/,mt=/^[^\r\n]/,qe=/^[ \t\r\n]/,W=tn("tag pair"),oe=lt("[",!1),q=lt('"',!1),k=lt("]",!1),R=tn("tag name"),le=Yt([["a","z"],["A","Z"]],!1,!1),xe=tn("tag value"),b=Yt(['"'],!0,!1),B=tn("move number"),H=Yt([["0","9"]],!1,!1),te=lt(".",!1),ne=Yt(["."],!1,!1),Fe=tn("standard algebraic notation"),It=lt("O-O-O",!1),Ye=lt("O-O",!1),gt=lt("0-0-0",!1),Ht=lt("0-0",!1),no=Yt([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),Cl=Yt(["+","#"],!1,!1),ro=tn("suffix annotation"),io=Yt(["!","?"],!1,!1),so=tn("NAG"),Ti=lt("$",!1),Wr=tn("brace comment"),oo=lt("{",!1),lo=Yt(["}"],!0,!1),xl=lt("}",!1),Ol=tn("rest of line comment"),Al=lt(";",!1),cs=Yt(["\r",`
`],!0,!1),fs=tn("variation"),Nl=lt("(",!1),Di=lt(")",!1),Fi=tn("game termination marker"),Qu=lt("1-0",!1),Tl=lt("0-1",!1),Dl=lt("1/2-1/2",!1),Gu=lt("*",!1),ao=tn("whitespace"),ds=Yt([" ","	","\r",`
`],!1,!1),uo=function(E,D){return hI(E,D)},co=function(E){return Object.fromEntries(E)},fo=function(E,D){return[E,D]},Kr=function(E,D){return{root:E,marker:D}},Hr=function(E,D){return dI(cI(E),...D.flat())},Fl=function(E,D,F,se,ie){return fI(E,D,F,se,ie)},Bl=function(E){return E},Ml=function(E){return E.replace(/[\r\n]+/g," ")},Pl=function(E){return E.trim()},Ll=function(E){return E},ho=function(E,D){return{result:E,comment:D}},T=e.peg$currPos|0,Nn=[{line:1,column:1}],qt=T,tr=e.peg$maxFailExpected||[],V=e.peg$silentFails|0,Kn;if(e.startRule){if(!(e.startRule in l))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');u=l[e.startRule]}function lt(E,D){return{type:"literal",text:E,ignoreCase:D}}function Yt(E,D,F){return{type:"class",parts:E,inverted:D,ignoreCase:F}}function po(){return{type:"end"}}function tn(E){return{type:"other",description:E}}function Rl(E){var D=Nn[E],F;if(D)return D;if(E>=Nn.length)F=Nn.length-1;else for(F=E;!Nn[--F];);for(D=Nn[F],D={line:D.line,column:D.column};F<E;)r.charCodeAt(F)===10?(D.line++,D.column=1):D.column++,F++;return Nn[E]=D,D}function Ul(E,D,F){var se=Rl(E),ie=Rl(D),Pe={source:s,start:{offset:E,line:se.line,column:se.column},end:{offset:D,line:ie.line,column:ie.column}};return Pe}function Z(E){T<qt||(T>qt&&(qt=T,tr=[]),tr.push(E))}function zl(E,D,F){return new Xs(Xs.buildMessage(E,D),E,D,F)}function yo(){var E,D,F;return E=T,D=Ju(),F=Vl(),E=uo(D,F),E}function Ju(){var E,D,F;for(E=T,D=[],F=mo();F!==t;)D.push(F),F=mo();return F=Pt(),E=co(D),E}function mo(){var E,D,F,se,ie,Pe,_n;return V++,E=T,Pt(),r.charCodeAt(T)===91?(D=f,T++):(D=t,V===0&&Z(oe)),D!==t?(Pt(),F=jl(),F!==t?(Pt(),r.charCodeAt(T)===34?(se=h,T++):(se=t,V===0&&Z(q)),se!==t?(ie=$l(),r.charCodeAt(T)===34?(Pe=h,T++):(Pe=t,V===0&&Z(q)),Pe!==t?(Pt(),r.charCodeAt(T)===93?(_n=p,T++):(_n=t,V===0&&Z(k)),_n!==t?E=fo(F,ie):(T=E,E=t)):(T=E,E=t)):(T=E,E=t)):(T=E,E=t)):(T=E,E=t),V--,E===t&&V===0&&Z(W),E}function jl(){var E,D,F;if(V++,E=T,D=[],F=r.charAt(T),ee.test(F)?T++:(F=t,V===0&&Z(le)),F!==t)for(;F!==t;)D.push(F),F=r.charAt(T),ee.test(F)?T++:(F=t,V===0&&Z(le));else D=t;return D!==t?E=r.substring(E,T):E=D,V--,E===t&&(D=t,V===0&&Z(R)),E}function $l(){var E,D,F;for(V++,E=T,D=[],F=r.charAt(T),He.test(F)?T++:(F=t,V===0&&Z(b));F!==t;)D.push(F),F=r.charAt(T),He.test(F)?T++:(F=t,V===0&&Z(b));return E=r.substring(E,T),V--,D=t,V===0&&Z(xe),E}function Vl(){var E,D,F;return E=T,D=Wl(),Pt(),F=Tn(),F===t&&(F=null),Pt(),E=Kr(D,F),E}function Wl(){var E,D,F,se;for(E=T,D=qr(),D===t&&(D=null),F=[],se=Kl();se!==t;)F.push(se),se=Kl();return E=Hr(D,F),E}function Kl(){var E,D,F,se,ie,Pe,_n,Sr;if(E=T,Pt(),at(),Pt(),D=Zu(),D!==t){for(F=go(),F===t&&(F=null),se=[],ie=vo();ie!==t;)se.push(ie),ie=vo();for(ie=Pt(),Pe=qr(),Pe===t&&(Pe=null),_n=[],Sr=Bi();Sr!==t;)_n.push(Sr),Sr=Bi();E=Fl(D,F,se,Pe,_n)}else T=E,E=t;return E}function at(){var E,D,F,se,ie,Pe;for(V++,E=T,D=[],F=r.charAt(T),De.test(F)?T++:(F=t,V===0&&Z(H));F!==t;)D.push(F),F=r.charAt(T),De.test(F)?T++:(F=t,V===0&&Z(H));if(r.charCodeAt(T)===46?(F=m,T++):(F=t,V===0&&Z(te)),F!==t){for(se=Pt(),ie=[],Pe=r.charAt(T),Xe.test(Pe)?T++:(Pe=t,V===0&&Z(ne));Pe!==t;)ie.push(Pe),Pe=r.charAt(T),Xe.test(Pe)?T++:(Pe=t,V===0&&Z(ne));D=[D,F,se,ie],E=D}else T=E,E=t;return V--,E===t&&(D=t,V===0&&Z(B)),E}function Zu(){var E,D,F,se,ie,Pe;if(V++,E=T,D=T,r.substr(T,5)===v?(F=v,T+=5):(F=t,V===0&&Z(It)),F===t&&(r.substr(T,3)===w?(F=w,T+=3):(F=t,V===0&&Z(Ye)),F===t&&(r.substr(T,5)===I?(F=I,T+=5):(F=t,V===0&&Z(gt)),F===t&&(r.substr(T,3)===A?(F=A,T+=3):(F=t,V===0&&Z(Ht)),F===t))))if(F=T,se=r.charAt(T),ee.test(se)?T++:(se=t,V===0&&Z(le)),se!==t){if(ie=[],Pe=r.charAt(T),yt.test(Pe)?T++:(Pe=t,V===0&&Z(no)),Pe!==t)for(;Pe!==t;)ie.push(Pe),Pe=r.charAt(T),yt.test(Pe)?T++:(Pe=t,V===0&&Z(no));else ie=t;ie!==t?(se=[se,ie],F=se):(T=F,F=t)}else T=F,F=t;return F!==t?(se=r.charAt(T),_t.test(se)?T++:(se=t,V===0&&Z(Cl)),se===t&&(se=null),F=[F,se],D=F):(T=D,D=t),D!==t?E=r.substring(E,T):E=D,V--,E===t&&(D=t,V===0&&Z(Fe)),E}function go(){var E,D,F;for(V++,E=T,D=[],F=r.charAt(T),Mt.test(F)?T++:(F=t,V===0&&Z(io));F!==t;)D.push(F),D.length>=2?F=t:(F=r.charAt(T),Mt.test(F)?T++:(F=t,V===0&&Z(io)));return D.length<1?(T=E,E=t):E=D,V--,E===t&&(D=t,V===0&&Z(ro)),E}function vo(){var E,D,F,se,ie;if(V++,E=T,Pt(),r.charCodeAt(T)===36?(D=M,T++):(D=t,V===0&&Z(Ti)),D!==t){if(F=T,se=[],ie=r.charAt(T),De.test(ie)?T++:(ie=t,V===0&&Z(H)),ie!==t)for(;ie!==t;)se.push(ie),ie=r.charAt(T),De.test(ie)?T++:(ie=t,V===0&&Z(H));else se=t;se!==t?F=r.substring(F,T):F=se,F!==t?E=Bl(F):(T=E,E=t)}else T=E,E=t;return V--,E===t&&V===0&&Z(so),E}function qr(){var E;return E=Xu(),E===t&&(E=Hl()),E}function Xu(){var E,D,F,se,ie;if(V++,E=T,r.charCodeAt(T)===123?(D=L,T++):(D=t,V===0&&Z(oo)),D!==t){for(F=T,se=[],ie=r.charAt(T),zt.test(ie)?T++:(ie=t,V===0&&Z(lo));ie!==t;)se.push(ie),ie=r.charAt(T),zt.test(ie)?T++:(ie=t,V===0&&Z(lo));F=r.substring(F,T),r.charCodeAt(T)===125?(se=J,T++):(se=t,V===0&&Z(xl)),se!==t?E=Ml(F):(T=E,E=t)}else T=E,E=t;return V--,E===t&&(D=t,V===0&&Z(Wr)),E}function Hl(){var E,D,F,se,ie;if(V++,E=T,r.charCodeAt(T)===59?(D=fe,T++):(D=t,V===0&&Z(Al)),D!==t){for(F=T,se=[],ie=r.charAt(T),mt.test(ie)?T++:(ie=t,V===0&&Z(cs));ie!==t;)se.push(ie),ie=r.charAt(T),mt.test(ie)?T++:(ie=t,V===0&&Z(cs));F=r.substring(F,T),E=Pl(F)}else T=E,E=t;return V--,E===t&&(D=t,V===0&&Z(Ol)),E}function Bi(){var E,D,F,se;return V++,E=T,Pt(),r.charCodeAt(T)===40?(D=Ee,T++):(D=t,V===0&&Z(Nl)),D!==t?(F=Wl(),F!==t?(Pt(),r.charCodeAt(T)===41?(se=ae,T++):(se=t,V===0&&Z(Di)),se!==t?E=Ll(F):(T=E,E=t)):(T=E,E=t)):(T=E,E=t),V--,E===t&&V===0&&Z(fs),E}function Tn(){var E,D,F;return V++,E=T,r.substr(T,3)===Te?(D=Te,T+=3):(D=t,V===0&&Z(Qu)),D===t&&(r.substr(T,3)===P?(D=P,T+=3):(D=t,V===0&&Z(Tl)),D===t&&(r.substr(T,7)===K?(D=K,T+=7):(D=t,V===0&&Z(Dl)),D===t&&(r.charCodeAt(T)===42?(D=me,T++):(D=t,V===0&&Z(Gu))))),D!==t?(Pt(),F=qr(),F===t&&(F=null),E=ho(D,F)):(T=E,E=t),V--,E===t&&(D=t,V===0&&Z(Fi)),E}function Pt(){var E,D;for(V++,E=[],D=r.charAt(T),qe.test(D)?T++:(D=t,V===0&&Z(ds));D!==t;)E.push(D),D=r.charAt(T),qe.test(D)?T++:(D=t,V===0&&Z(ds));return V--,D=t,V===0&&Z(ao),E}if(Kn=u(),e.peg$library)return{peg$result:Kn,peg$currPos:T,peg$FAILED:t,peg$maxFailExpected:tr,peg$maxFailPos:qt};if(Kn!==t&&T===r.length)return Kn;throw Kn!==t&&T<r.length&&Z(po()),zl(tr,qt<r.length?r.charAt(qt):null,qt<r.length?Ul(qt,qt+1):Ul(qt,qt))}const ou=0xffffffffffffffffn;function td(r,e){return(r<<e|r>>64n-e)&0xffffffffffffffffn}function Nm(r,e){return r*e&ou}function mI(r){return function(){let e=BigInt(r&ou),t=BigInt(r>>64n&ou);const s=Nm(td(Nm(e,5n),7n),9n);return t^=e,e=(td(e,24n)^t^t<<16n)&ou,t=td(t,37n),r=t<<64n|e,s}}const Yu=mI(0xa187eb39cdcaed8f31c4b365b102e01en),gI=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Yu()))),vI=Array.from({length:8},()=>Yu()),_I=Array.from({length:16},()=>Yu()),nd=Yu(),Kt="w",kn="b",St="p",Od="n",lu="b",sl="r",_i="q",Ct="k",rd="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class Ja{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(e,t){const{color:s,piece:l,from:u,to:f,flags:h,captured:p,promotion:m}=t,v=Bt(u),w=Bt(f);this.color=s,this.piece=l,this.from=v,this.to=w,this.san=e._moveToSan(t,e._moves({legal:!0})),this.lan=v+w,this.before=e.fen(),e._makeMove(t),this.after=e.fen(),e._undoMove(),this.flags="";for(const I in pe)pe[I]&h&&(this.flags+=Yi[I]);p&&(this.captured=p),m&&(this.promotion=m,this.lan+=m)}isCapture(){return this.flags.indexOf(Yi.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(Yi.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(Yi.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(Yi.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(Yi.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(Yi.BIG_PAWN)>-1}}const Ut=-1,Yi={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},pe={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Ad={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},wI={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},SI={...Ad,...wI},de={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},id={b:[16,32,17,15],w:[-16,-32,-17,-15]},Tm={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},bI=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],II=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],kI={p:1,n:2,b:4,r:8,q:16,k:32},EI="pnbrqkPNBRQK",Dm=[Od,lu,sl,_i],CI=7,xI=6,OI=1,AI=0,Za={[Ct]:pe.KSIDE_CASTLE,[_i]:pe.QSIDE_CASTLE},pi={w:[{square:de.a1,flag:pe.QSIDE_CASTLE},{square:de.h1,flag:pe.KSIDE_CASTLE}],b:[{square:de.a8,flag:pe.QSIDE_CASTLE},{square:de.h8,flag:pe.KSIDE_CASTLE}]},NI={b:OI,w:xI},sd="--";function is(r){return r>>4}function gl(r){return r&15}function rv(r){return"0123456789".indexOf(r)!==-1}function Bt(r){const e=gl(r),t=is(r);return"abcdefgh".substring(e,e+1)+"87654321".substring(t,t+1)}function tl(r){return r===Kt?kn:Kt}function TI(r){const e=r.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const t=parseInt(e[5],10);if(isNaN(t)||t<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const s=parseInt(e[4],10);if(isNaN(s)||s<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const l=e[0].split("/");if(l.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let f=0;f<l.length;f++){let h=0,p=!1;for(let m=0;m<l[f].length;m++)if(rv(l[f][m])){if(p)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};h+=parseInt(l[f][m],10),p=!0}else{if(!/^[prnbqkPRNBQK]$/.test(l[f][m]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};h+=1,p=!1}if(h!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const u=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:f,regex:h}of u){if(!h.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${f} king`};if((e[0].match(h)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${f} kings`}}return Array.from(l[0]+l[7]).some(f=>f.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function DI(r,e){const t=r.from,s=r.to,l=r.piece;let u=0,f=0,h=0;for(let p=0,m=e.length;p<m;p++){const v=e[p].from,w=e[p].to,I=e[p].piece;l===I&&t!==v&&s===w&&(u++,is(t)===is(v)&&f++,gl(t)===gl(v)&&h++)}return u>0?f>0&&h>0?Bt(t):h>0?Bt(t).charAt(1):Bt(t).charAt(0):""}function yi(r,e,t,s,l,u=void 0,f=pe.NORMAL){const h=is(s);if(l===St&&(h===CI||h===AI))for(let p=0;p<Dm.length;p++){const m=Dm[p];r.push({color:e,from:t,to:s,piece:l,captured:u,promotion:m,flags:f|pe.PROMOTION})}else r.push({color:e,from:t,to:s,piece:l,captured:u,flags:f})}function Fm(r){let e=r.charAt(0);return e>="a"&&e<="h"?r.match(/[a-h]\d.*[a-h]\d/)?void 0:St:(e=e.toLowerCase(),e==="o"?Ct:e)}function od(r){return r.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class Bm{_board=new Array(128);_turn=Kt;_header={};_kings={w:Ut,b:Ut};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_hash=0n;_positionCount=new Map;constructor(e=rd,{skipValidation:t=!1}={}){this.load(e,{skipValidation:t})}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:Ut,b:Ut},this._turn=Kt,this._castling={w:0,b:0},this._epSquare=Ut,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{...SI},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(e,{skipValidation:t=!1,preserveHeaders:s=!1}={}){let l=e.split(/\s+/);if(l.length>=2&&l.length<6){const h=["-","-","0","1"];e=l.concat(h.slice(-(6-l.length))).join(" ")}if(l=e.split(/\s+/),!t){const{ok:h,error:p}=TI(e);if(!h)throw new Error(p)}const u=l[0];let f=0;this.clear({preserveHeaders:s});for(let h=0;h<u.length;h++){const p=u.charAt(h);if(p==="/")f+=8;else if(rv(p))f+=parseInt(p,10);else{const m=p<"a"?Kt:kn;this._put({type:p.toLowerCase(),color:m},Bt(f)),f++}}this._turn=l[1],l[2].indexOf("K")>-1&&(this._castling.w|=pe.KSIDE_CASTLE),l[2].indexOf("Q")>-1&&(this._castling.w|=pe.QSIDE_CASTLE),l[2].indexOf("k")>-1&&(this._castling.b|=pe.KSIDE_CASTLE),l[2].indexOf("q")>-1&&(this._castling.b|=pe.QSIDE_CASTLE),this._epSquare=l[3]==="-"?Ut:de[l[3]],this._halfMoves=parseInt(l[4],10),this._moveNumber=parseInt(l[5],10),this._hash=this._computeHash(),this._updateSetup(e),this._incPositionCount()}fen({forceEnpassantSquare:e=!1}={}){let t=0,s="";for(let f=de.a8;f<=de.h1;f++){if(this._board[f]){t>0&&(s+=t,t=0);const{color:h,type:p}=this._board[f];s+=h===Kt?p.toUpperCase():p.toLowerCase()}else t++;f+1&136&&(t>0&&(s+=t),f!==de.h1&&(s+="/"),t=0,f+=8)}let l="";this._castling[Kt]&pe.KSIDE_CASTLE&&(l+="K"),this._castling[Kt]&pe.QSIDE_CASTLE&&(l+="Q"),this._castling[kn]&pe.KSIDE_CASTLE&&(l+="k"),this._castling[kn]&pe.QSIDE_CASTLE&&(l+="q"),l=l||"-";let u="-";if(this._epSquare!==Ut)if(e)u=Bt(this._epSquare);else{const f=this._epSquare+(this._turn===Kt?16:-16),h=[f+1,f-1];for(const p of h){if(p&136)continue;const m=this._turn;if(this._board[p]?.color===m&&this._board[p]?.type===St){this._makeMove({color:m,from:p,to:this._epSquare,piece:St,captured:St,flags:pe.EP_CAPTURE});const v=!this._isKingAttacked(m);if(this._undoMove(),v){u=Bt(this._epSquare);break}}}}return[s,this._turn,l,u,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(e){if(!this._board[e])return 0n;const{color:t,type:s}=this._board[e],l={w:0,b:1}[t],u={p:0,n:1,b:2,r:3,q:4,k:5}[s];return gI[l][u][e]}_epKey(){return this._epSquare===Ut?0n:vI[this._epSquare&7]}_castlingKey(){const e=this._castling.w>>5|this._castling.b>>3;return _I[e]}_computeHash(){let e=0n;for(let t=de.a8;t<=de.h1;t++){if(t&136){t+=7;continue}this._board[t]&&(e^=this._pieceKey(t))}return e^=this._epKey(),e^=this._castlingKey(),this._turn==="b"&&(e^=nd),e}_updateSetup(e){this._history.length>0||(e!==rd?(this._header.SetUp="1",this._header.FEN=e):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(rd)}get(e){return this._board[de[e]]}findPiece(e){const t=[];for(let s=de.a8;s<=de.h1;s++){if(s&136){s+=7;continue}!this._board[s]||this._board[s]?.color!==e.color||this._board[s].color===e.color&&this._board[s].type===e.type&&t.push(Bt(s))}return t}put({type:e,color:t},s){return this._put({type:e,color:t},s)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(e,t){this._hash^=this._pieceKey(e),this._board[e]=t,this._hash^=this._pieceKey(e)}_put({type:e,color:t},s){if(EI.indexOf(e.toLowerCase())===-1||!(s in de))return!1;const l=de[s];if(e==Ct&&!(this._kings[t]==Ut||this._kings[t]==l))return!1;const u=this._board[l];return u&&u.type===Ct&&(this._kings[u.color]=Ut),this._set(l,{type:e,color:t}),e===Ct&&(this._kings[t]=l),!0}_clear(e){this._hash^=this._pieceKey(e),delete this._board[e]}remove(e){const t=this.get(e);return this._clear(de[e]),t&&t.type===Ct&&(this._kings[t.color]=Ut),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),t}_updateCastlingRights(){this._hash^=this._castlingKey();const e=this._board[de.e1]?.type===Ct&&this._board[de.e1]?.color===Kt,t=this._board[de.e8]?.type===Ct&&this._board[de.e8]?.color===kn;(!e||this._board[de.a1]?.type!==sl||this._board[de.a1]?.color!==Kt)&&(this._castling.w&=-65),(!e||this._board[de.h1]?.type!==sl||this._board[de.h1]?.color!==Kt)&&(this._castling.w&=-33),(!t||this._board[de.a8]?.type!==sl||this._board[de.a8]?.color!==kn)&&(this._castling.b&=-65),(!t||this._board[de.h8]?.type!==sl||this._board[de.h8]?.color!==kn)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){if(this._epSquare===Ut)return;const e=this._epSquare+(this._turn===Kt?-16:16),t=this._epSquare+(this._turn===Kt?16:-16),s=[t+1,t-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||this._board[t]?.color!==tl(this._turn)||this._board[t]?.type!==St){this._hash^=this._epKey(),this._epSquare=Ut;return}const l=u=>!(u&136)&&this._board[u]?.color===this._turn&&this._board[u]?.type===St;s.some(l)||(this._hash^=this._epKey(),this._epSquare=Ut)}_attacked(e,t,s){const l=[];for(let u=de.a8;u<=de.h1;u++){if(u&136){u+=7;continue}if(this._board[u]===void 0||this._board[u].color!==e)continue;const f=this._board[u],h=u-t;if(h===0)continue;const p=h+119;if(bI[p]&kI[f.type]){if(f.type===St){if(h>0&&f.color===Kt||h<=0&&f.color===kn)if(s)l.push(Bt(u));else return!0;continue}if(f.type==="n"||f.type==="k")if(s){l.push(Bt(u));continue}else return!0;const m=II[p];let v=u+m,w=!1;for(;v!==t;){if(this._board[v]!=null){w=!0;break}v+=m}if(!w)if(s){l.push(Bt(u));continue}else return!0}}return s?l:!1}attackers(e,t){return t?this._attacked(t,de[e],!0):this._attacked(this._turn,de[e],!0)}_isKingAttacked(e){const t=this._kings[e];return t===-1?!1:this._attacked(tl(e),t)}hash(){return this._hash.toString(16)}isAttacked(e,t){return this._attacked(t,de[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},t=[];let s=0,l=0;for(let u=de.a8;u<=de.h1;u++){if(l=(l+1)%2,u&136){u+=7;continue}const f=this._board[u];f&&(e[f.type]=f.type in e?e[f.type]+1:1,f.type===lu&&t.push(l),s++)}if(s===2)return!0;if(s===3&&(e[lu]===1||e[Od]===1))return!0;if(s===e[lu]+2){let u=0;const f=t.length;for(let h=0;h<f;h++)u+=t[h];if(u===0||u===f)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:e=!1,square:t=void 0,piece:s=void 0}={}){const l=this._moves({square:t,piece:s});return e?l.map(u=>new Ja(this,u)):l.map(u=>this._moveToSan(u,l))}_moves({legal:e=!0,piece:t=void 0,square:s=void 0}={}){const l=s?s.toLowerCase():void 0,u=t?.toLowerCase(),f=[],h=this._turn,p=tl(h);let m=de.a8,v=de.h1,w=!1;if(l)if(l in de)m=v=de[l],w=!0;else return[];for(let A=m;A<=v;A++){if(A&136){A+=7;continue}if(!this._board[A]||this._board[A].color===p)continue;const{type:M}=this._board[A];let L;if(M===St){if(u&&u!==M)continue;L=A+id[h][0],this._board[L]||(yi(f,h,A,L,St),L=A+id[h][1],NI[h]===is(A)&&!this._board[L]&&yi(f,h,A,L,St,void 0,pe.BIG_PAWN));for(let J=2;J<4;J++)L=A+id[h][J],!(L&136)&&(this._board[L]?.color===p?yi(f,h,A,L,St,this._board[L].type,pe.CAPTURE):L===this._epSquare&&yi(f,h,A,L,St,St,pe.EP_CAPTURE))}else{if(u&&u!==M)continue;for(let J=0,fe=Tm[M].length;J<fe;J++){const Ee=Tm[M][J];for(L=A;L+=Ee,!(L&136);){if(!this._board[L])yi(f,h,A,L,M);else{if(this._board[L].color===h)break;yi(f,h,A,L,M,this._board[L].type,pe.CAPTURE);break}if(M===Od||M===Ct)break}}}}if((u===void 0||u===Ct)&&(!w||v===this._kings[h])){if(this._castling[h]&pe.KSIDE_CASTLE){const A=this._kings[h],M=A+2;!this._board[A+1]&&!this._board[M]&&!this._attacked(p,this._kings[h])&&!this._attacked(p,A+1)&&!this._attacked(p,M)&&yi(f,h,this._kings[h],M,Ct,void 0,pe.KSIDE_CASTLE)}if(this._castling[h]&pe.QSIDE_CASTLE){const A=this._kings[h],M=A-2;!this._board[A-1]&&!this._board[A-2]&&!this._board[A-3]&&!this._attacked(p,this._kings[h])&&!this._attacked(p,A-1)&&!this._attacked(p,M)&&yi(f,h,this._kings[h],M,Ct,void 0,pe.QSIDE_CASTLE)}}if(!e||this._kings[h]===-1)return f;const I=[];for(let A=0,M=f.length;A<M;A++)this._makeMove(f[A]),this._isKingAttacked(h)||I.push(f[A]),this._undoMove();return I}move(e,{strict:t=!1}={}){let s=null;if(typeof e=="string")s=this._moveFromSan(e,t);else if(e===null)s=this._moveFromSan(sd,t);else if(typeof e=="object"){const u=this._moves();for(let f=0,h=u.length;f<h;f++)if(e.from===Bt(u[f].from)&&e.to===Bt(u[f].to)&&(!("promotion"in u[f])||e.promotion===u[f].promotion)){s=u[f];break}}if(!s)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);if(this.isCheck()&&s.flags&pe.NULL_MOVE)throw new Error("Null move not allowed when in check");const l=new Ja(this,s);return this._makeMove(s),this._incPositionCount(),l}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(e,t){this._hash^=this._pieceKey(e),this._board[t]=this._board[e],delete this._board[e],this._hash^=this._pieceKey(t)}_makeMove(e){const t=this._turn,s=tl(t);if(this._push(e),e.flags&pe.NULL_MOVE){t===kn&&this._moveNumber++,this._halfMoves++,this._turn=s,this._epSquare=Ut;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),e.captured&&(this._hash^=this._pieceKey(e.to)),this._movePiece(e.from,e.to),e.flags&pe.EP_CAPTURE&&(this._turn===kn?this._clear(e.to-16):this._clear(e.to+16)),e.promotion&&(this._clear(e.to),this._set(e.to,{type:e.promotion,color:t})),this._board[e.to].type===Ct){if(this._kings[t]=e.to,e.flags&pe.KSIDE_CASTLE){const l=e.to-1,u=e.to+1;this._movePiece(u,l)}else if(e.flags&pe.QSIDE_CASTLE){const l=e.to+1,u=e.to-2;this._movePiece(u,l)}this._castling[t]=0}if(this._castling[t]){for(let l=0,u=pi[t].length;l<u;l++)if(e.from===pi[t][l].square&&this._castling[t]&pi[t][l].flag){this._castling[t]^=pi[t][l].flag;break}}if(this._castling[s]){for(let l=0,u=pi[s].length;l<u;l++)if(e.to===pi[s][l].square&&this._castling[s]&pi[s][l].flag){this._castling[s]^=pi[s][l].flag;break}}if(this._hash^=this._castlingKey(),e.flags&pe.BIG_PAWN){let l;t===kn?l=e.to-16:l=e.to+16,!(e.to-1&136)&&this._board[e.to-1]?.type===St&&this._board[e.to-1]?.color===s||!(e.to+1&136)&&this._board[e.to+1]?.type===St&&this._board[e.to+1]?.color===s?(this._epSquare=l,this._hash^=this._epKey()):this._epSquare=Ut}else this._epSquare=Ut;e.piece===St?this._halfMoves=0:e.flags&(pe.CAPTURE|pe.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,t===kn&&this._moveNumber++,this._turn=s,this._hash^=nd}undo(){const e=this._hash,t=this._undoMove();if(t){const s=new Ja(this,t);return this._decPositionCount(e),s}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const t=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=nd;const s=this._turn,l=tl(s);if(t.flags&pe.NULL_MOVE)return t;if(this._movePiece(t.to,t.from),t.piece&&(this._clear(t.from),this._set(t.from,{type:t.piece,color:s})),t.captured)if(t.flags&pe.EP_CAPTURE){let u;s===kn?u=t.to-16:u=t.to+16,this._set(u,{type:St,color:l})}else this._set(t.to,{type:t.captured,color:l});if(t.flags&(pe.KSIDE_CASTLE|pe.QSIDE_CASTLE)){let u,f;t.flags&pe.KSIDE_CASTLE?(u=t.to+1,f=t.to-1):(u=t.to-2,f=t.to+1),this._movePiece(f,u)}return t}pgn({newline:e=`
`,maxWidth:t=0}={}){const s=[];let l=!1;for(const I in this._header)this._header[I]&&s.push(`[${I} "${this._header[I]}"]`+e),l=!0;l&&this._history.length&&s.push(e);const u=I=>{const A=this._comments[this.fen()];if(typeof A<"u"){const M=I.length>0?" ":"";I=`${I}${M}{${A}}`}return I},f=[];for(;this._history.length>0;)f.push(this._undoMove());const h=[];let p="";for(f.length===0&&h.push(u(""));f.length>0;){p=u(p);const I=f.pop();if(!I)break;if(!this._history.length&&I.color==="b"){const A=`${this._moveNumber}. ...`;p=p?`${p} ${A}`:A}else I.color==="w"&&(p.length&&h.push(p),p=this._moveNumber+".");p=p+" "+this._moveToSan(I,this._moves({legal:!0})),this._makeMove(I)}if(p.length&&h.push(u(p)),h.push(this._header.Result||"*"),t===0)return s.join("")+h.join(" ");const m=function(){return s.length>0&&s[s.length-1]===" "?(s.pop(),!0):!1},v=function(I,A){for(const M of A.split(" "))if(M){if(I+M.length>t){for(;m();)I--;s.push(e),I=0}s.push(M),I+=M.length,s.push(" "),I++}return m()&&I--,I};let w=0;for(let I=0;I<h.length;I++){if(w+h[I].length>t&&h[I].includes("{")){w=v(w,h[I]);continue}w+h[I].length>t&&I!==0?(s[s.length-1]===" "&&s.pop(),s.push(e),w=0):I!==0&&(s.push(" "),w++),s.push(h[I]),w+=h[I].length}return s.join("")}header(...e){for(let t=0;t<e.length;t+=2)typeof e[t]=="string"&&typeof e[t+1]=="string"&&(this._header[e[t]]=e[t+1]);return this._header}setHeader(e,t){return this._header[e]=t??Ad[e]??null,this.getHeaders()}removeHeader(e){return e in this._header?(this._header[e]=Ad[e]||null,!0):!1}getHeaders(){const e={};for(const[t,s]of Object.entries(this._header))s!==null&&(e[t]=s);return e}loadPgn(e,{strict:t=!1,newlineChar:s=`\r?
`}={}){s!==`\r?
`&&(e=e.replace(new RegExp(s,"g"),`
`));const l=yI(e);this.reset();const u=l.headers;let f="";for(const m in u)m.toLowerCase()==="fen"&&(f=u[m]),this.header(m,u[m]);if(!t)f&&this.load(f,{preserveHeaders:!0});else if(u.SetUp==="1"){if(!("FEN"in u))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(u.FEN,{preserveHeaders:!0})}let h=l.root;for(;h;){if(h.move){const m=this._moveFromSan(h.move,t);if(m==null)throw new Error(`Invalid move in PGN: ${h.move}`);this._makeMove(m),this._incPositionCount()}h.comment!==void 0&&(this._comments[this.fen()]=h.comment),h=h.variations[0]}const p=l.result;p&&Object.keys(this._header).length&&this._header.Result!==p&&this.setHeader("Result",p)}_moveToSan(e,t){let s="";if(e.flags&pe.KSIDE_CASTLE)s="O-O";else if(e.flags&pe.QSIDE_CASTLE)s="O-O-O";else{if(e.flags&pe.NULL_MOVE)return sd;if(e.piece!==St){const l=DI(e,t);s+=e.piece.toUpperCase()+l}e.flags&(pe.CAPTURE|pe.EP_CAPTURE)&&(e.piece===St&&(s+=Bt(e.from)[0]),s+="x"),s+=Bt(e.to),e.promotion&&(s+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?s+="#":s+="+"),this._undoMove(),s}_moveFromSan(e,t=!1){let s=od(e);if(t||(s==="0-0"?s="O-O":s==="0-0-0"&&(s="O-O-O")),s==sd)return{color:this._turn,from:0,to:0,piece:"k",flags:pe.NULL_MOVE};let l=Fm(s),u=this._moves({legal:!0,piece:l});for(let I=0,A=u.length;I<A;I++)if(s===od(this._moveToSan(u[I],u)))return u[I];if(t)return null;let f,h,p,m,v,w=!1;if(h=s.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),h?(f=h[1],p=h[2],m=h[3],v=h[4],p.length==1&&(w=!0)):(h=s.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),h&&(f=h[1],p=h[2],m=h[3],v=h[4],p.length==1&&(w=!0))),l=Fm(s),u=this._moves({legal:!0,piece:f||l}),!m)return null;for(let I=0,A=u.length;I<A;I++)if(p){if((!f||f.toLowerCase()==u[I].piece)&&de[p]==u[I].from&&de[m]==u[I].to&&(!v||v.toLowerCase()==u[I].promotion))return u[I];if(w){const M=Bt(u[I].from);if((!f||f.toLowerCase()==u[I].piece)&&de[m]==u[I].to&&(p==M[0]||p==M[1])&&(!v||v.toLowerCase()==u[I].promotion))return u[I]}}else if(s===od(this._moveToSan(u[I],u)).replace("x",""))return u[I];return null}ascii(){let e=`   +------------------------+
`;for(let t=de.a8;t<=de.h1;t++){if(gl(t)===0&&(e+=" "+"87654321"[is(t)]+" |"),this._board[t]){const s=this._board[t].type,u=this._board[t].color===Kt?s.toUpperCase():s.toLowerCase();e+=" "+u+" "}else e+=" . ";t+1&136&&(e+=`|
`,t+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const t=this._moves({legal:!1});let s=0;const l=this._turn;for(let u=0,f=t.length;u<f;u++)this._makeMove(t[u]),this._isKingAttacked(l)||(e-1>0?s+=this.perft(e-1):s++),this._undoMove();return s}setTurn(e){return this._turn==e?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const e=[];let t=[];for(let s=de.a8;s<=de.h1;s++)this._board[s]==null?t.push(null):t.push({square:Bt(s),type:this._board[s].type,color:this._board[s].color}),s+1&136&&(e.push(t),t=[],s+=8);return e}squareColor(e){if(e in de){const t=de[e];return(is(t)+gl(t))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const t=[],s=[];for(;this._history.length>0;)t.push(this._undoMove());for(;;){const l=t.pop();if(!l)break;e?s.push(new Ja(this,l)):s.push(this._moveToSan(l,this._moves())),this._makeMove(l)}return s}_getPositionCount(e){return this._positionCount.get(e)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(e){const t=this._positionCount.get(e)??0;t===1?this._positionCount.delete(e):this._positionCount.set(e,t-1)}_pruneComments(){const e=[],t={},s=l=>{l in this._comments&&(t[l]=this._comments[l])};for(;this._history.length>0;)e.push(this._undoMove());for(s(this.fen());;){const l=e.pop();if(!l)break;this._makeMove(l),s(this.fen())}this._comments=t}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const t=this._comments[e];return delete this._comments[e],{fen:e,comment:t}})}setCastlingRights(e,t){for(const l of[Ct,_i])t[l]!==void 0&&(t[l]?this._castling[e]|=Za[l]:this._castling[e]&=~Za[l]);this._updateCastlingRights();const s=this.getCastlingRights(e);return(t[Ct]===void 0||t[Ct]===s[Ct])&&(t[_i]===void 0||t[_i]===s[_i])}getCastlingRights(e){return{[Ct]:(this._castling[e]&Za[Ct])!==0,[_i]:(this._castling[e]&Za[_i])!==0}}moveNumber(){return this._moveNumber}}const ld={move:"./sounds/public_sound_standard_Move.mp3",capture:"./sounds/public_sound_standard_Capture.mp3",notify:"./sounds/public_sound_standard_GenericNotify.mp3"},au={move:new Audio(ld.move),capture:new Audio(ld.capture),notify:new Audio(ld.notify)};try{Object.values(au).forEach(r=>r.load())}catch{}const ad=r=>{try{r.currentTime=0,r.play().catch(()=>{})}catch{}},ud=r=>{const e=new Map;return r.moves({verbose:!0}).forEach(t=>{e.has(t.from)||e.set(t.from,[]),e.get(t.from).push(t.to)}),e},FI=({fen:r,orientation:e="white"})=>{const t=Ft.useRef(null),s=Ft.useRef(null),l=Ft.useRef(null),u=Ft.useRef(null),f=Ft.useRef(null),h=Ft.useRef(new Bm(r)),[p,m]=Ft.useState(r),[v,w]=Ft.useState(e),[I,A]=Ft.useState([]),[M,L]=Ft.useState(-1),[J,fe]=Ft.useState("");Ft.useLayoutEffect(()=>{const P=`
      cg-board {
        background-image: conic-gradient(#b58863 90deg, #f0d9b5 90deg 180deg, #b58863 180deg 270deg, #f0d9b5 270deg) !important;
        background-size: 25% 25% !important;
      }
      cg-board square.move-dest { background: radial-gradient(rgba(20, 85, 30, 0.5) 19%, rgba(0, 0, 0, 0) 20%) !important; }
      cg-board square.oc.move-dest { 
        background-image: linear-gradient(to bottom right, rgba(20, 85, 30, 0.6) 15%, transparent 15%),
            linear-gradient(to bottom left, rgba(20, 85, 30, 0.6) 15%, transparent 15%),
            linear-gradient(to top right, rgba(20, 85, 30, 0.6) 15%, transparent 15%),
            linear-gradient(to top left, rgba(20, 85, 30, 0.6) 15%, transparent 15%) !important;
      }
      cg-board square.last-move { background-color: rgba(155, 199, 0, 0.41) !important; }
      cg-board square.selected { background-color: rgba(20, 85, 30, 0.5) !important; }
      cg-board square.check { background: radial-gradient(ellipse at center, red 0%, transparent 100%) !important; }
      .orientation-white .ranks :nth-child(odd), .orientation-white .files :nth-child(even),
      .orientation-black .ranks :nth-child(even), .orientation-black .files :nth-child(odd) { color: #f0d9b5 !important; }
      .orientation-white .ranks :nth-child(even), .orientation-white .files :nth-child(odd),
      .orientation-black .ranks :nth-child(even), .orientation-black .files :nth-child(even) { color: #b58863 !important; }
    `,K=document.createElement("style");return K.innerHTML=P,document.head.appendChild(K),()=>{document.head.contains(K)&&document.head.removeChild(K)}},[]);const Ee=P=>{const K=P.history({verbose:!0}).pop(),me=K?K.from+K.to+(K.promotion||""):"";let ee="ongoing";P.isCheckmate()?ee="checkmate":P.isCheck()?ee="check":P.isDraw()&&(ee="draw"),jr.setComponentValue({fen:P.fen(),pgn:P.pgn(),history:P.history(),last_move:K,uci_move:me,game_status:ee})},ae=Ft.useCallback(P=>{const K=Math.max(-1,Math.min(P,I.length-1)),me=new Bm;for(let De=0;De<=K;De++)me.move(I[De]);const ee=me.fen();L(K),m(ee);const He=K===I.length-1;f.current?.set({fen:ee,lastMove:K>=0?[I[K].from,I[K].to]:void 0,check:me.isCheck(),turnColor:me.turn()==="w"?"white":"black",movable:{color:He?me.turn()==="w"?"white":"black":void 0,dests:He?ud(me):new Map}})},[I]);Ft.useEffect(()=>{if(!l.current)return;const P={fen:p,orientation:v,movable:{color:"white",free:!1,dests:ud(h.current),showDests:!0},animation:{enabled:!0,duration:200},highlight:{lastMove:!0,check:!0},events:{move:(me,ee)=>{if(M<I.length-1){f.current?.set({fen:h.current.fen()});return}try{const He=h.current.move({from:me,to:ee,promotion:"q"});if(He){const De=He.flags.includes("c")||He.flags.includes("e");h.current.isGameOver()?ad(au.notify):ad(De?au.capture:au.move);const Xe=h.current.history({verbose:!0});A(Xe),L(Xe.length-1),m(h.current.fen()),fe(h.current.pgn()),Ee(h.current),f.current?.set({fen:h.current.fen(),turnColor:h.current.turn()==="w"?"white":"black",movable:{color:h.current.turn()==="w"?"white":"black",dests:ud(h.current)},check:h.current.isCheck()})}}catch{f.current?.set({fen:h.current.fen()})}}}};f.current=aI(l.current,P);const K=new ResizeObserver(me=>{let ee=!1;for(const He of me)He.target===s.current&&(ee=!0);ee&&f.current?.redrawAll(),t.current&&jr.setFrameHeight(t.current.scrollHeight+10)});return s.current&&K.observe(s.current),t.current&&K.observe(t.current),t.current?.focus(),()=>{f.current?.destroy(),K.disconnect()}},[]),Ft.useEffect(()=>{f.current?.set({orientation:v})},[v]),Ft.useEffect(()=>{const P=K=>{if(["INPUT","TEXTAREA"].includes(K.target.tagName))return;let me=!0;K.key==="ArrowLeft"?ae(M-1):K.key==="ArrowRight"?ae(M+1):K.key==="ArrowUp"?ae(-1):K.key==="ArrowDown"?ae(I.length-1):K.key.toLowerCase()==="f"?w(ee=>ee==="white"?"black":"white"):me=!1,me&&K.preventDefault()};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[M,I,ae]),Ft.useEffect(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[I.length]);const Te=()=>{const P=[];for(let K=0;K<I.length;K+=2){const me=I[K],ee=I[K+1];P.push(it.jsxs("div",{style:{display:"flex",borderBottom:"1px solid #eee",padding:"2px 4px",fontSize:"13px"},children:[it.jsxs("span",{style:{width:"25px",color:"#999"},children:[Math.floor(K/2)+1,"."]}),it.jsx("span",{onClick:()=>ae(K),style:Mm(K===M),children:me.san}),ee&&it.jsx("span",{onClick:()=>ae(K+1),style:Mm(K+1===M),children:ee.san})]},K))}return P};return it.jsxs("div",{ref:t,tabIndex:0,style:{display:"flex",flexDirection:"column",gap:"10px",padding:"10px",fontFamily:"sans-serif",minWidth:"300px",width:"100%",backgroundColor:"#fff",boxSizing:"border-box"},children:[it.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"flex-start",flexWrap:"wrap",flex:"1 1 auto"},children:[it.jsx("div",{ref:s,style:{resize:"horizontal",overflow:"hidden",aspectRatio:"1 / 1",minWidth:"200px",width:"450px",maxWidth:"100%",position:"relative",border:"1px solid #ddd",borderRadius:"4px"},children:it.jsx("div",{ref:l,style:{width:"100%",height:"100%"}})}),it.jsxs("div",{style:{flex:"1 1 150px",display:"flex",flexDirection:"column",border:"1px solid #ddd",borderRadius:"4px",backgroundColor:"#fff",height:"450px"},children:[it.jsx("div",{style:{padding:"8px",backgroundColor:"#f6f6f6",borderBottom:"1px solid #ddd",fontWeight:"bold",fontSize:"13px",textAlign:"center"},children:"Histrico"}),it.jsx("div",{ref:u,style:{flex:1,overflowY:"auto",padding:"5px",height:"0px"},children:I.length===0?it.jsx("div",{style:{color:"#aaa",textAlign:"center",marginTop:"20px"},children:"..."}):Te()})]})]}),it.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[it.jsx("button",{style:nl,onClick:()=>w(P=>P==="white"?"black":"white"),children:" Girar"}),it.jsx("button",{style:nl,onClick:()=>ae(-1),children:""}),it.jsx("button",{style:nl,onClick:()=>ae(M-1),children:""}),it.jsx("button",{style:nl,onClick:()=>ae(M+1),children:""}),it.jsx("button",{style:nl,onClick:()=>ae(I.length-1),children:""})]}),it.jsxs("div",{style:{display:"grid",gap:"8px",marginTop:"5px"},children:[it.jsx("div",{style:{fontSize:"11px",color:"#666",fontWeight:"bold"},children:"FEN:"}),it.jsx("textarea",{readOnly:!0,value:p,rows:2,style:{...Pm,height:"auto",resize:"vertical",minHeight:"40px"},onClick:P=>P.currentTarget.select()}),it.jsx("div",{style:{fontSize:"11px",color:"#666",fontWeight:"bold"},children:"PGN:"}),it.jsx("textarea",{readOnly:!0,value:J,rows:4,style:{...Pm,height:"auto",resize:"vertical",minHeight:"80px"},onClick:P=>P.currentTarget.select()})]})]})},Mm=r=>({cursor:"pointer",flex:1,paddingLeft:"4px",borderRadius:"3px",fontWeight:r?"bold":"normal",backgroundColor:r?"#dbeafe":"transparent"}),nl={padding:"6px 12px",cursor:"pointer",backgroundColor:"#f9f9f9",border:"1px solid #ccc",borderRadius:"4px",fontSize:"12px",flex:1},Pm={width:"100%",padding:"6px",borderRadius:"4px",border:"1px solid #ddd",fontFamily:"monospace",fontSize:"11px",backgroundColor:"#f9f9f9",color:"#555",boxSizing:"border-box"},iv=document.querySelector(".react-root");if(!iv)throw new Error("Erro: A div .react-root no foi encontrada no HTML");const BI=Q_.createRoot(iv),MI=r=>{const e=r.detail,{fen:t,orientation:s}=e.args;BI.render(it.jsx(V_.StrictMode,{children:it.jsx(FI,{fen:t??"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",orientation:s})})),jr.setFrameHeight()};jr.events.addEventListener(jr.RENDER_EVENT,MI);jr.setComponentReady();jr.setFrameHeight();
