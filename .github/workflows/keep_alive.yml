name: Ping Keep-Alive for Streamlit App

on:
  # Agenda a execução do workflow
  schedule:
    # A sintaxe cron para "às 12:07 UTC todo Domingo"
    # que corresponde a 09:07 no fuso horário de Brasília (UTC-3)
    - cron: '7 12 * * 0'

  # Permite que você rode este workflow manualmente pela aba "Actions" para testar
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping the Streamlit app URL to keep it alive
        run: curl -sS "https://torneiosnext.streamlit.app/" > /dev/null